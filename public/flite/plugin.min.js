/*!
 * Source version: FLITE_VERSION 
 * Copyright (C) 2018 LoopIndex - All Rights Reserved
 * You may use, distribute and modify this code under the
 * terms of the LoopIndex Comments CKEditor plugin license.
 * Attributions
 *
 * Rangy library:
 * Copyright 2018, Tim Down
 * https://github.com/timdown/rangy
 * license: MIT
 *
 * jQuery
 * Copyright JS Foundation and other contributors, https://js.foundation/
 * https://github.com/jquery/jquery
 * license: MIT
 *
 *
 * Mutation summary
 * Copyright (c) 2018 Rafael Weinstein
 * https://github.com/rafaelw/mutation-summary
 * license: Apache 
 * 
 * Popper.js
 * Copyright © 2016 Federico Zivolo and contributors

 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the “Software”),
 * to deal in the Software without restriction, including without limitation
 * the rights to use, copy, modify, merge, publish, distribute, sublicense
 * and/or sell copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE
 * AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 * DEALINGS IN THE SOFTWARE.
 * 
 * tippy.js
 * Copyright (c) 2017 atomiks
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 *
 * ice code:
 * inspired by work by Matthew DeLambo, The New York Times, CMS Group
 * https://github.com/NYTimes/ice
 *
 * You should have received a copy of the LoopIndex FLITE CKEditor plugin license with
 * this file. If not, please write to: contact@loopindex.com, or visit http://www.loopindex.com
 *
 * written by (David *)Frenkiel (https://github.com/imdfl) 
 *
 * LICENSES
 * 
 * The MIT License (MIT)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * Apache license: see http://www.apache.org/licenses/
 */!function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(Ut,Ht,e){var Wt;!function(){"use strict";var e,t;
/*!
 * jQuery JavaScript Library v3.5.0 -ajax,-ajax/jsonp,-ajax/load,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-deprecated/ajax-event-alias,-effects,-effects/Tween,-effects/animatedSelector
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-04-10T15:07Z
 */
!function(e){var t=window.LOOPINDEX;t&&"object"==typeof t||(t={});var n=window.LOOPINDEX=t;n.$&&n.$.fn&&n.$.fn.jquery||(n.$=e)}(function(g){function m(e){return null!=e&&e===e.window}var t=[],r=Object.getPrototypeOf,s=t.slice,v=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},l=t.push,o=t.indexOf,n={},i=n.toString,y=n.hasOwnProperty,a=y.toString,c=a.call(Object),b={},_=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},C=g.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function N(e,t,n){var r,o,i=(n=n||C).createElement("script");if(i.text=e,t)for(r in u)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function T(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[i.call(e)]||"object":typeof e}var e="3.5.0 -ajax,-ajax/jsonp,-ajax/load,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-deprecated/ajax-event-alias,-effects,-effects/Tween,-effects/animatedSelector",k=function(e,t){return new k.fn.init(e,t)};function d(e){var t=!!e&&"length"in e&&e.length,n=T(e);return!_(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}k.fn=k.prototype={jquery:e,constructor:k,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(n){return this.pushStack(k.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(k.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:t.sort,splice:t.splice},k.extend=k.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||_(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(c&&r&&(k.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[t],i=o&&!Array.isArray(n)?[]:o||k.isPlainObject(n)?n:{},o=!1,a[t]=k.extend(c,i,r)):void 0!==r&&(a[t]=r));return a},k.extend({expando:"jQuery"+(e+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==i.call(e))&&(!(t=r(e))||"function"==typeof(n=y.call(t,"constructor")&&t.constructor)&&a.call(n)===c)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){N(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(d(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(d(Object(e))?k.merge(n,"string"==typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:o.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!=a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,a=[];if(d(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&a.push(o);return v(a)},guid:1,support:b}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=t[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var p=
/*!
		 * Sizzle CSS Selector Engine v2.3.5
		 * https://sizzlejs.com/
		 *
		 * Copyright JS Foundation and other contributors
		 * Released under the MIT license
		 * https://js.foundation/
		 *
		 * Date: 2020-03-14
		 */
function(n){function d(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(65536+n):String.fromCharCode(n>>10|55296,1023&n|56320))}function o(){N()}var e,f,_,i,a,h,p,g,C,l,c,N,T,s,k,m,u,v,y,E="sizzle"+1*new Date,b=n.document,x=0,r=0,S=le(),w=le(),O=le(),A=le(),R=function(e,t){return e===t&&(c=!0),0},I={}.hasOwnProperty,t=[],D=t.pop,L=t.push,P=t.push,M=t.slice,B=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",U="(?:\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",H="\\["+j+"*("+U+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+j+"*\\]",W=":("+U+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",q=new RegExp(j+"+","g"),V=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),z=new RegExp("^"+j+"*,"+j+"*"),Y=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),G=new RegExp(j+"|>"),$=new RegExp(W),X=new RegExp("^"+U+"$"),K={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),TAG:new RegExp("^("+U+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},J=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,ee=/^[^{]+\{\s*\[native \w/,te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ne=/[+~]/,re=new RegExp("\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\([^\\r\\n\\f])","g"),oe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ae=_e(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{P.apply(t=M.call(b.childNodes),b.childNodes),t[b.childNodes.length].nodeType}catch(e){P={apply:t.length?function(e,t){L.apply(e,M.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(t,e,n,r){var o,i,a,s,l,c,u,d=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(N(e),e=e||T,k)){if(11!==p&&(l=te.exec(t)))if(o=l[1]){if(9===p){if(!(a=e.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(d&&(a=d.getElementById(o))&&y(e,a)&&a.id===o)return n.push(a),n}else{if(l[2])return P.apply(n,e.getElementsByTagName(t)),n;if((o=l[3])&&f.getElementsByClassName&&e.getElementsByClassName)return P.apply(n,e.getElementsByClassName(o)),n}if(f.qsa&&!A[t+" "]&&(!m||!m.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(u=t,d=e,1===p&&(G.test(t)||Y.test(t))){for((d=ne.test(t)&&ve(e.parentNode)||e)===e&&f.scope||((s=e.getAttribute("id"))?s=s.replace(oe,ie):e.setAttribute("id",s=E)),i=(c=h(t)).length;i--;)c[i]=(s?"#"+s:":scope")+" "+be(c[i]);u=c.join(",")}try{return P.apply(n,d.querySelectorAll(u)),n}catch(e){A(t,!0)}finally{s===E&&e.removeAttribute("id")}}}return g(t.replace(V,"$1"),e,n,r)}function le(){var r=[];return function e(t,n){return r.push(t+" ")>_.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function ce(e){return e[E]=!0,e}function ue(e){var t=T.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),r=n.length;r--;)_.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function me(a){return ce(function(i){return i=+i,ce(function(e,t){for(var n,r=a([],e.length,i),o=r.length;o--;)e[n=r[o]]&&(e[n]=!(t[n]=e[n]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in f=se.support={},a=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!J.test(t||n&&n.nodeName||"HTML")},N=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:b;return r!=T&&9===r.nodeType&&r.documentElement&&(s=(T=r).documentElement,k=!a(T),b!=T&&(n=T.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",o,!1):n.attachEvent&&n.attachEvent("onunload",o)),f.scope=ue(function(e){return s.appendChild(e).appendChild(T.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),f.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=ue(function(e){return e.appendChild(T.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=ee.test(T.getElementsByClassName),f.getById=ue(function(e){return s.appendChild(e).id=E,!T.getElementsByName||!T.getElementsByName(E).length}),f.getById?(_.filter.ID=function(e){var t=e.replace(re,d);return function(e){return e.getAttribute("id")===t}},_.find.ID=function(e,t){if(void 0!==t.getElementById&&k){var n=t.getElementById(e);return n?[n]:[]}}):(_.filter.ID=function(e){var n=e.replace(re,d);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},_.find.ID=function(e,t){if(void 0!==t.getElementById&&k){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),_.find.TAG=f.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):f.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"!==e)return i;for(;n=i[o++];)1===n.nodeType&&r.push(n);return r},_.find.CLASS=f.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&k)return t.getElementsByClassName(e)},u=[],m=[],(f.qsa=ee.test(T.querySelectorAll))&&(ue(function(e){var t;s.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+j+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+j+"*(?:value|"+F+")"),e.querySelectorAll("[id~="+E+"-]").length||m.push("~="),(t=T.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+j+"*name"+j+"*="+j+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+E+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=T.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+j+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),s.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(f.matchesSelector=ee.test(v=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&ue(function(e){f.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),u.push("!=",W)}),m=m.length&&new RegExp(m.join("|")),u=u.length&&new RegExp(u.join("|")),t=ee.test(s.compareDocumentPosition),y=t||ee.test(s.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},R=t?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===n?e==T||e.ownerDocument==b&&y(b,e)?-1:t==T||t.ownerDocument==b&&y(b,t)?1:l?B(l,e)-B(l,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e==T?-1:t==T?1:o?-1:i?1:l?B(l,e)-B(l,t):0;if(o===i)return pe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?pe(a[r],s[r]):a[r]==b?-1:s[r]==b?1:0}),T},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(N(e),f.matchesSelector&&k&&!A[t+" "]&&(!u||!u.test(t))&&(!m||!m.test(t)))try{var n=v.call(e,t);if(n||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){A(t,!0)}return 0<se(t,T,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=T&&N(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=T&&N(e);var n=_.attrHandle[t.toLowerCase()],r=n&&I.call(_.attrHandle,t.toLowerCase())?n(e,t,!k):void 0;return void 0!==r?r:f.attributes||!k?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(oe,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,o=0;if(c=!f.detectDuplicates,l=!f.sortStable&&e.slice(0),e.sort(R),c){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return l=null,e},i=se.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(_=se.selectors={cacheLength:50,createPseudo:ce,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(re,d),e[3]=(e[3]||e[4]||e[5]||"").replace(re,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(re,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,o){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===o:"!="===r?t!==o:"^="===r?o&&0===t.indexOf(o):"*="===r?o&&-1<t.indexOf(o):"$="===r?o&&t.slice(-o.length)===o:"~="===r?-1<(" "+t.replace(q," ")+" ").indexOf(o):"|="===r&&(t===o||t.slice(0,o.length+1)===o+"-"))}},CHILD:function(h,e,t,g,m){var v="nth"!==h.slice(0,3),y="last"!==h.slice(-4),b="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var r,o,i,a,s,l,c=v!=y?"nextSibling":"previousSibling",u=e.parentNode,d=b&&e.nodeName.toLowerCase(),p=!n&&!b,f=!1;if(u){if(v){for(;c;){for(a=e;a=a[c];)if(b?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;l=c="only"===h&&!l&&"nextSibling"}return!0}if(l=[y?u.firstChild:u.lastChild],y&&p){for(f=(s=(r=(o=(i=(a=u)[E]||(a[E]={}))[a.uniqueID]||(i[a.uniqueID]={}))[h]||[])[0]===x&&r[1])&&r[2],a=s&&u.childNodes[s];a=++s&&a&&a[c]||(f=s=0)||l.pop();)if(1===a.nodeType&&++f&&a===e){o[h]=[x,s,f];break}}else if(p&&(f=s=(r=(o=(i=(a=e)[E]||(a[E]={}))[a.uniqueID]||(i[a.uniqueID]={}))[h]||[])[0]===x&&r[1]),!1===f)for(;(a=++s&&a&&a[c]||(f=s=0)||l.pop())&&((b?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++f||(p&&((o=(i=a[E]||(a[E]={}))[a.uniqueID]||(i[a.uniqueID]={}))[h]=[x,f]),a!==e)););return(f-=m)===g||f%g==0&&0<=f/g}}},PSEUDO:function(e,i){var t,a=_.pseudos[e]||_.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[E]?a(i):1<a.length?(t=[e,e,"",i],_.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,t){for(var n,r=a(e,i),o=r.length;o--;)e[n=B(e,r[o])]=!(t[n]=r[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:ce(function(e){var r=[],o=[],s=p(e.replace(V,"$1"));return s[E]?ce(function(e,t,n,r){for(var o,i=s(e,null,r,[]),a=e.length;a--;)(o=i[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return r[0]=e,s(r,null,n,o),r[0]=null,!o.pop()}}),has:ce(function(t){return function(e){return 0<se(t,e).length}}),contains:ce(function(t){return t=t.replace(re,d),function(e){return-1<(e.textContent||i(e)).indexOf(t)}}),lang:ce(function(n){return X.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(re,d).toLowerCase(),function(e){var t;do{if(t=k?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===s},focus:function(e){return e===T.activeElement&&(!T.hasFocus||T.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,n){return[n<0?n+t:n]}),even:me(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:me(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:me(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:me(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[e]=fe(e);for(e in{submit:!0,reset:!0})_.pseudos[e]=he(e);function ye(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function _e(s,e,t){var l=e.dir,c=e.next,u=c||l,d=t&&"parentNode"===u,p=r++;return e.first?function(e,t,n){for(;e=e[l];)if(1===e.nodeType||d)return s(e,t,n);return!1}:function(e,t,n){var r,o,i,a=[x,p];if(n){for(;e=e[l];)if((1===e.nodeType||d)&&s(e,t,n))return!0}else for(;e=e[l];)if(1===e.nodeType||d)if(o=(i=e[E]||(e[E]={}))[e.uniqueID]||(i[e.uniqueID]={}),c&&c===e.nodeName.toLowerCase())e=e[l]||e;else{if((r=o[u])&&r[0]===x&&r[1]===p)return a[2]=r[2];if((o[u]=a)[2]=s(e,t,n))return!0}return!1}}function Ce(o){return 1<o.length?function(e,t,n){for(var r=o.length;r--;)if(!o[r](e,t,n))return!1;return!0}:o[0]}function Ne(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function Te(f,h,g,m,v,e){return m&&!m[E]&&(m=Te(m)),v&&!v[E]&&(v=Te(v,e)),ce(function(e,t,n,r){var o,i,a,s=[],l=[],c=t.length,u=e||function(e,t,n){for(var r=0,o=t.length;r<o;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),d=!f||!e&&h?u:Ne(u,s,f,n,r),p=g?v||(e?f:c||m)?[]:t:d;if(g&&g(d,p,n,r),m)for(o=Ne(p,l),m(o,[],n,r),i=o.length;i--;)(a=o[i])&&(p[l[i]]=!(d[l[i]]=a));if(e){if(v||f){if(v){for(o=[],i=p.length;i--;)(a=p[i])&&o.push(d[i]=a);v(null,p=[],o,r)}for(i=p.length;i--;)(a=p[i])&&-1<(o=v?B(e,a):s[i])&&(e[o]=!(t[o]=a))}}else p=Ne(p===t?p.splice(c,p.length):p),v?v(null,t,p,r):P.apply(t,p)})}function ke(e){for(var o,t,n,r=e.length,i=_.relative[e[0].type],a=i||_.relative[" "],s=i?1:0,l=_e(function(e){return e===o},a,!0),c=_e(function(e){return-1<B(o,e)},a,!0),u=[function(e,t,n){var r=!i&&(n||t!==C)||((o=t).nodeType?l(e,t,n):c(e,t,n));return o=null,r}];s<r;s++)if(t=_.relative[e[s].type])u=[_e(Ce(u),t)];else{if((t=_.filter[e[s].type].apply(null,e[s].matches))[E]){for(n=++s;n<r&&!_.relative[e[n].type];n++);return Te(1<s&&Ce(u),1<s&&be(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(V,"$1"),t,s<n&&ke(e.slice(s,n)),n<r&&ke(e=e.slice(n)),n<r&&be(e))}u.push(t)}return Ce(u)}function Ee(m,v){function e(e,t,n,r,o){var i,a,s,l=0,c="0",u=e&&[],d=[],p=C,f=e||b&&_.find.TAG("*",o),h=x+=null==p?1:Math.random()||.1,g=f.length;for(o&&(C=t==T||t||o);c!==g&&null!=(i=f[c]);c++){if(b&&i){for(a=0,t||i.ownerDocument==T||(N(i),n=!k);s=m[a++];)if(s(i,t||T,n)){r.push(i);break}o&&(x=h)}y&&((i=!s&&i)&&l--,e&&u.push(i))}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(u,d,t,n);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=D.call(r));d=Ne(d)}P.apply(r,d),o&&!e&&0<d.length&&1<l+v.length&&se.uniqueSort(r)}return o&&(x=h,C=p),u}var y=0<v.length,b=0<m.length;return y?ce(e):e}return ye.prototype=_.filters=_.pseudos,_.setFilters=new ye,h=se.tokenize=function(e,t){var n,r,o,i,a,s,l,c=w[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=_.preFilter;a;){for(i in n&&!(r=z.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(o=[])),n=!1,(r=Y.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(V," ")}),a=a.slice(n.length)),_.filter)!(r=K[i].exec(a))||l[i]&&!(r=l[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):w(e,s).slice(0)},p=se.compile=function(e,t){var n,r=[],o=[],i=O[e+" "];if(!i){for(n=(t=t||h(e)).length;n--;)(i=ke(t[n]))[E]?r.push(i):o.push(i);(i=O(e,Ee(o,r))).selector=e}return i},g=se.select=function(e,t,n,r){var o,i,a,s,l,c="function"==typeof e&&e,u=!r&&h(e=c.selector||e);if(n=n||[],1===u.length){if(2<(i=u[0]=u[0].slice(0)).length&&"ID"===(a=i[0]).type&&9===t.nodeType&&k&&_.relative[i[1].type]){if(!(t=(_.find.ID(a.matches[0].replace(re,d),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=K.needsContext.test(e)?0:i.length;o--&&(a=i[o],!_.relative[s=a.type]);)if((l=_.find[s])&&(r=l(a.matches[0].replace(re,d),ne.test(i[0].type)&&ve(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&be(i)))return P.apply(n,r),n;break}}return(c||p(e,u))(r,t,!k,n,!t||ne.test(e)&&ve(t.parentNode)||t),n},f.sortStable=E.split("").sort(R).join("")===E,f.detectDuplicates=!!c,N(),f.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(T.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||de(F,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(g);k.find=p,k.expr=p.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=p.uniqueSort,k.text=p.getText,k.isXMLDoc=p.isXML,k.contains=p.contains,k.escapeSelector=p.escape;function f(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&k(e).is(n))break;r.push(e)}return r}function h(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var E=k.expr.match.needsContext;function x(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var S=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function w(e,n,r){return _(n)?k.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?k.grep(e,function(e){return e===n!==r}):"string"!=typeof n?k.grep(e,function(e){return-1<o.call(n,e)!==r}):k.filter(n,e,r)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;t<r;t++)if(k.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,o[t],n);return 1<r?k.uniqueSort(n):n},filter:function(e){return this.pushStack(w(this,e||[],!1))},not:function(e){return this.pushStack(w(this,e||[],!0))},is:function(e){return!!w(this,"string"==typeof e&&E.test(e)?k(e):e||[],!1).length}});var O,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||O,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):_(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:A.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:C,!0)),S.test(r[1])&&k.isPlainObject(t))for(r in t)_(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=C.getElementById(r[2]))&&(this[0]=o,this.length=1),this}).prototype=k.fn,O=k(C);var R=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function D(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&k(e);if(!E.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(1<i.length?k.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?o.call(k(e),this[0]):o.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return f(e,"parentNode")},parentsUntil:function(e,t,n){return f(e,"parentNode",n)},next:function(e){return D(e,"nextSibling")},prev:function(e){return D(e,"previousSibling")},nextAll:function(e){return f(e,"nextSibling")},prevAll:function(e){return f(e,"previousSibling")},nextUntil:function(e,t,n){return f(e,"nextSibling",n)},prevUntil:function(e,t,n){return f(e,"previousSibling",n)},siblings:function(e){return h((e.parentNode||{}).firstChild,e)},children:function(e){return h(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(x(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},function(r,o){k.fn[r]=function(e,t){var n=k.map(this,o,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=k.filter(t,n)),1<this.length&&(I[r]||k.uniqueSort(n),R.test(r)&&n.reverse()),this.pushStack(n)}});var L=/[^\x20\t\r\n\f]+/g;function P(e){return e}function M(e){throw e}function B(e,t,n,r){var o;try{e&&_(o=e.promise)?o.call(e).done(t).fail(n):e&&_(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(r){r="string"==typeof r?function(e){var n={};return k.each(e.match(L)||[],function(e,t){n[t]=!0}),n}(r):k.extend({},r);function n(){for(i=i||r.once,t=o=!0;s.length;l=-1)for(e=s.shift();++l<a.length;)!1===a[l].apply(e[0],e[1])&&r.stopOnFalse&&(l=a.length,e=!1);r.memory||(e=!1),o=!1,i&&(a=e?[]:"")}var o,e,t,i,a=[],s=[],l=-1,c={add:function(){return a&&(e&&!o&&(l=a.length-1,s.push(e)),function n(e){k.each(e,function(e,t){_(t)?r.unique&&c.has(t)||a.push(t):t&&t.length&&"string"!==T(t)&&n(t)})}(arguments),e&&!o&&n()),this},remove:function(){return k.each(arguments,function(e,t){for(var n;-1<(n=k.inArray(t,a,n));)a.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<k.inArray(e,a):0<a.length},empty:function(){return a=a&&[],this},disable:function(){return i=s=[],a=e="",this},disabled:function(){return!a},lock:function(){return i=s=[],e||o||(a=e=""),this},locked:function(){return!!i},fireWith:function(e,t){return i||(t=[e,(t=t||[]).slice?t.slice():t],s.push(t),o||n()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!t}};return c},k.extend({Deferred:function(e){var i=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],o="pending",a={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var o=arguments;return k.Deferred(function(r){k.each(i,function(e,t){var n=_(o[t[4]])&&o[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&_(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),o=null}).promise()},then:function(t,n,r){var l=0;function c(o,i,a,s){return function(){function e(){var e,t;if(!(o<l)){if((e=a.apply(n,r))===i.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,_(t)?s?t.call(e,c(l,i,P,s),c(l,i,M,s)):(l++,t.call(e,c(l,i,P,s),c(l,i,M,s),c(l,i,P,i.notifyWith))):(a!==P&&(n=void 0,r=[e]),(s||i.resolveWith)(n,r))}}var n=this,r=arguments,t=s?e:function(){try{e()}catch(e){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(e,t.stackTrace),l<=o+1&&(a!==M&&(n=void 0,r=[e]),i.rejectWith(n,r))}};o?t():(k.Deferred.getStackHook&&(t.stackTrace=k.Deferred.getStackHook()),g.setTimeout(t))}}return k.Deferred(function(e){i[0][3].add(c(0,e,_(r)?r:P,e.notifyWith)),i[1][3].add(c(0,e,_(t)?t:P)),i[2][3].add(c(0,e,_(n)?n:M))}).promise()},promise:function(e){return null!=e?k.extend(e,a):a}},s={};return k.each(i,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){o=r},i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){o[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||a.resolveWith(o,i)}}var n=arguments.length,r=n,o=Array(r),i=s.call(arguments),a=k.Deferred();if(n<=1&&(B(e,a.done(t(r)).resolve,a.reject,!n),"pending"===a.state()||_(i[r]&&i[r].then)))return a.then();for(;r--;)B(i[r],t(r),a.reject);return a.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){g.console&&g.console.warn&&e&&F.test(e.name)&&g.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){g.setTimeout(function(){throw e})};var j=k.Deferred();function U(){C.removeEventListener("DOMContentLoaded",U),g.removeEventListener("load",U),k.ready()}k.fn.ready=function(e){return j.then(e).catch(function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0)!==e&&0<--k.readyWait||j.resolveWith(C,[k])}}),k.ready.then=j.then,"complete"===C.readyState||"loading"!==C.readyState&&!C.documentElement.doScroll?g.setTimeout(k.ready):(C.addEventListener("DOMContentLoaded",U),g.addEventListener("load",U));var H=function(e,t,n,r,o,i,a){var s=0,l=e.length,c=null==n;if("object"===T(n))for(s in o=!0,n)H(e,t,s,n[s],!0,i,a);else if(void 0!==r&&(o=!0,_(r)||(a=!0),c&&(t=a?(t.call(e,r),null):(c=t,function(e,t,n){return c.call(k(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):i},W=/^-ms-/,q=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function z(e){return e.replace(W,"ms-").replace(q,V)}function Y(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function G(){this.expando=k.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t=Object.create(null),Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[z(t)]=n;else for(r in t)o[z(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][z(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(z):(t=z(t))in r?[t]:t.match(L)||[]).length;for(;n--;)delete r[t[n]]}void 0!==t&&!k.isEmptyObject(r)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var $=new G,X=new G,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function Q(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(J,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:K.test(e)?JSON.parse(e):e)}(n)}catch(e){}X.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return X.hasData(e)||$.hasData(e)},data:function(e,t,n){return X.access(e,t,n)},removeData:function(e,t){X.remove(e,t)},_data:function(e,t,n){return $.access(e,t,n)},_removeData:function(e,t){$.remove(e,t)}}),k.fn.extend({data:function(n,e){var t,r,o,i=this[0],a=i&&i.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){X.set(this,n)}):H(this,function(e){var t;if(i&&void 0===e)return void 0!==(t=X.get(i,n))?t:void 0!==(t=Q(i,n))?t:void 0;this.each(function(){X.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(o=X.get(i),1===i.nodeType&&!$.get(i,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=z(r.slice(5)),Q(i,r,o[r]));$.set(i,"hasDataAttrs",!0)}return o},removeData:function(e){return this.each(function(){X.remove(this,e)})}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=$.get(e,t),n&&(!r||Array.isArray(n)?r=$.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,o=n.shift(),i=k._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,function(){k.dequeue(e,t)},i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return $.get(e,n)||$.access(e,n,{empty:k.Callbacks("once memory").add(function(){$.remove(e,[t+"queue",n])})})}}),k.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?k.queue(this[0],t):void 0===n?this:this.each(function(){var e=k.queue(this,t,n);k._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&k.dequeue(this,t)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--o||i.resolveWith(a,[a])}var r,o=1,i=k.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(r=$.get(a[s],e+"queueHooks"))&&r.empty&&(o++,r.empty.add(n));return n(),i.promise(t)}});var Z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ee=new RegExp("^(?:([+-])=|)("+Z+")([a-z%]*)$","i"),te=["Top","Right","Bottom","Left"],ne=C.documentElement,re=function(e){return k.contains(e.ownerDocument,e)},oe={composed:!0};ne.getRootNode&&(re=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ie=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&re(e)&&"none"===k.css(e,"display")};function ae(e,t,n,r){var o,i,a=20,s=r?function(){return r.cur()}:function(){return k.css(e,t,"")},l=s(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),u=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+l)&&ee.exec(k.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)k.style(e,t,u+c),(1-i)*(1-(i=s()/l||.5))<=0&&(a=0),u/=i;u*=2,k.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=o)),o}var se={};function le(e,t){for(var n,r,o,i,a,s,l,c=[],u=0,d=e.length;u<d;u++)(r=e[u]).style&&(n=r.style.display,t?("none"===n&&(c[u]=$.get(r,"display")||null,c[u]||(r.style.display="")),""===r.style.display&&ie(r)&&(c[u]=(l=a=i=void 0,a=(o=r).ownerDocument,s=o.nodeName,(l=se[s])||(i=a.body.appendChild(a.createElement(s)),l=k.css(i,"display"),i.parentNode.removeChild(i),"none"===l&&(l="block"),se[s]=l)))):"none"!==n&&(c[u]="none",$.set(r,"display",n)));for(u=0;u<d;u++)null!=c[u]&&(e[u].style.display=c[u]);return e}k.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ie(this)?k(this).show():k(this).hide()})}});var ce,ue,de=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,fe=/^$|^module$|\/(?:java|ecma)script/i;ce=C.createDocumentFragment().appendChild(C.createElement("div")),(ue=C.createElement("input")).setAttribute("type","radio"),ue.setAttribute("checked","checked"),ue.setAttribute("name","t"),ce.appendChild(ue),b.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",b.option=!!ce.lastChild;var he={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&x(e,t)?k.merge([e],n):n}function me(e,t){for(var n=0,r=e.length;n<r;n++)$.set(e[n],"globalEval",!t||$.get(t[n],"globalEval"))}he.tbody=he.tfoot=he.colgroup=he.caption=he.thead,he.th=he.td,b.option||(he.optgroup=he.option=[1,"<select multiple='multiple'>","</select>"]);var ve=/<|&#?\w+;/;function ye(e,t,n,r,o){for(var i,a,s,l,c,u,d=t.createDocumentFragment(),p=[],f=0,h=e.length;f<h;f++)if((i=e[f])||0===i)if("object"===T(i))k.merge(p,i.nodeType?[i]:i);else if(ve.test(i)){for(a=a||d.appendChild(t.createElement("div")),s=(pe.exec(i)||["",""])[1].toLowerCase(),l=he[s]||he._default,a.innerHTML=l[1]+k.htmlPrefilter(i)+l[2],u=l[0];u--;)a=a.lastChild;k.merge(p,a.childNodes),(a=d.firstChild).textContent=""}else p.push(t.createTextNode(i));for(d.textContent="",f=0;i=p[f++];)if(r&&-1<k.inArray(i,r))o&&o.push(i);else if(c=re(i),a=ge(d.appendChild(i),"script"),c&&me(a),n)for(u=0;i=a[u++];)fe.test(i.type||"")&&n.push(i);return d}var be=/^key/,_e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ce=/^([^.]*)(?:\.(.+)|)/;function Ne(){return!0}function Te(){return!1}function ke(e,t){return e===function(){try{return C.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,o,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Te;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return k().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),e.each(function(){k.event.add(this,t,o,r,n)})}function xe(e,o,i){i?($.set(e,o,!1),k.event.add(e,o,{namespace:!1,handler:function(e){var t,n,r=$.get(this,o);if(1&e.isTrigger&&this[o]){if(r.length)(k.event.special[o]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),$.set(this,o,r),t=i(this,o),this[o](),r!==(n=$.get(this,o))||t?$.set(this,o,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&($.set(this,o,{value:k.event.trigger(k.extend(r[0],k.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===$.get(e,o)&&k.event.add(e,o,Ne)}k.event={global:{},add:function(t,e,n,r,o){var i,a,s,l,c,u,d,p,f,h,g,m=$.get(t);if(Y(t))for(n.handler&&(n=(i=n).handler,o=i.selector),o&&k.find.matchesSelector(ne,o),n.guid||(n.guid=k.guid++),(l=m.events)||(l=m.events=Object.create(null)),(a=m.handle)||(a=m.handle=function(e){return void 0!==k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(L)||[""]).length;c--;)f=g=(s=Ce.exec(e[c])||[])[1],h=(s[2]||"").split(".").sort(),f&&(d=k.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=k.event.special[f]||{},u=k.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&k.expr.match.needsContext.test(o),namespace:h.join(".")},i),(p=l[f])||((p=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(f,a)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,u):p.push(u),k.event.global[f]=!0)},remove:function(e,t,n,r,o){var i,a,s,l,c,u,d,p,f,h,g,m=$.hasData(e)&&$.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(L)||[""]).length;c--;)if(f=g=(s=Ce.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),f){for(d=k.event.special[f]||{},p=l[f=(r?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=p.length;i--;)u=p[i],!o&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(p.splice(i,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,h,m.handle)||k.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)k.event.remove(e,f+t[c],n,r,!0);k.isEmptyObject(l)&&$.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,s=new Array(arguments.length),l=k.event.fix(e),c=($.get(this,"events")||Object.create(null))[l.type]||[],u=k.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(a=k.event.handlers.call(this,l,c),t=0;(o=a[t++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==i.namespace&&!l.rnamespace.test(i.namespace)||(l.handleObj=i,l.data=i.data,void 0!==(r=((k.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,o,i,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],a={},n=0;n<l;n++)void 0===a[o=(r=t[n]).selector+" "]&&(a[o]=r.needsContext?-1<k(o,this).index(c):k.find(o,this,null,[c]).length),a[o]&&i.push(r);i.length&&s.push({elem:c,handlers:i})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:_(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return de.test(t.type)&&t.click&&x(t,"input")&&xe(t,"click",Ne),!1},trigger:function(e){var t=this||e;return de.test(t.type)&&t.click&&x(t,"input")&&xe(t,"click"),!0},_default:function(e){var t=e.target;return de.test(t.type)&&t.click&&x(t,"input")&&$.get(t,"click")||x(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ne:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ne,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ne,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ne,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&be.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&_e.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(e,t){k.event.special[e]={setup:function(){return xe(this,e,ke),!1},trigger:function(){return xe(this,e),!0},delegateType:t}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){k.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||k.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=o),t}}}),k.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){k.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o]);return this}});var Se=/<script|<style|<link/i,we=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ae(e,t){return x(e,"table")&&x(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Re(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ie(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function De(e,t){var n,r,o,i,a,s;if(1===t.nodeType){if($.hasData(e)&&(s=$.get(e).events))for(o in $.remove(t,"handle events"),s)for(n=0,r=s[o].length;n<r;n++)k.event.add(t,o,s[o][n]);X.hasData(e)&&(i=X.access(e),a=k.extend({},i),X.set(t,a))}}function Le(n,r,o,i){r=v(r);var e,t,a,s,l,c,u=0,d=n.length,p=d-1,f=r[0],h=_(f);if(h||1<d&&"string"==typeof f&&!b.checkClone&&we.test(f))return n.each(function(e){var t=n.eq(e);h&&(r[0]=f.call(this,e,t.html())),Le(t,r,o,i)});if(d&&(t=(e=ye(r,n[0].ownerDocument,!1,n,i)).firstChild,1===e.childNodes.length&&(e=t),t||i)){for(s=(a=k.map(ge(e,"script"),Re)).length;u<d;u++)l=e,u!==p&&(l=k.clone(l,!0,!0),s&&k.merge(a,ge(l,"script"))),o.call(n[u],l,u);if(s)for(c=a[a.length-1].ownerDocument,k.map(a,Ie),u=0;u<s;u++)l=a[u],fe.test(l.type||"")&&!$.access(l,"globalEval")&&k.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?k._evalUrl&&!l.noModule&&k._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):N(l.textContent.replace(Oe,""),l,c))}return n}function Pe(e,t,n){for(var r,o=t?k.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||k.cleanData(ge(r)),r.parentNode&&(n&&re(r)&&me(ge(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,i,a,s,l,c,u=e.cloneNode(!0),d=re(e);if(!(b.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=ge(u),r=0,o=(i=ge(e)).length;r<o;r++)s=i[r],l=a[r],void 0,"input"===(c=l.nodeName.toLowerCase())&&de.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(n)for(i=i||ge(e),a=a||ge(u),r=0,o=i.length;r<o;r++)De(i[r],a[r]);else De(e,u);return 0<(a=ge(u,"script")).length&&me(a,!d&&ge(e,"script")),u},cleanData:function(e){for(var t,n,r,o=k.event.special,i=0;void 0!==(n=e[i]);i++)if(Y(n)){if(t=n[$.expando]){if(t.events)for(r in t.events)o[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[$.expando]=void 0}n[X.expando]&&(n[X.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Pe(this,e,!0)},remove:function(e){return Pe(this,e)},text:function(e){return H(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Le(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ae(this,e).appendChild(e)})},prepend:function(){return Le(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ae(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Le(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Le(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return H(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Se.test(e)&&!he[(pe.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Le(this,arguments,function(e){var t=this.parentNode;k.inArray(this,n)<0&&(k.cleanData(ge(this)),t&&t.replaceChild(e,this))},n)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){k.fn[e]=function(e){for(var t,n=[],r=k(e),o=r.length-1,i=0;i<=o;i++)t=i===o?this:this.clone(!0),k(r[i])[a](t),l.apply(n,t.get());return this.pushStack(n)}});function Me(e,t,n){var r,o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];for(o in r=n.call(e),t)e.style[o]=i[o];return r}var Be,Fe,je,Ue,He,We,qe,Ve,ze=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),Ye=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=g),t.getComputedStyle(e)},Ge=new RegExp(te.join("|"),"i");function $e(){if(Ve){qe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ve.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ne.appendChild(qe).appendChild(Ve);var e=g.getComputedStyle(Ve);Be="1%"!==e.top,We=12===Xe(e.marginLeft),Ve.style.right="60%",Ue=36===Xe(e.right),Fe=36===Xe(e.width),Ve.style.position="absolute",je=12===Xe(Ve.offsetWidth/3),ne.removeChild(qe),Ve=null}}function Xe(e){return Math.round(parseFloat(e))}function Ke(e,t,n){var r,o,i,a,s=e.style;return(n=n||Ye(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||re(e)||(a=k.style(e,t)),!b.pixelBoxStyles()&&ze.test(a)&&Ge.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function Je(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}qe=C.createElement("div"),(Ve=C.createElement("div")).style&&(Ve.style.backgroundClip="content-box",Ve.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===Ve.style.backgroundClip,k.extend(b,{boxSizingReliable:function(){return $e(),Fe},pixelBoxStyles:function(){return $e(),Ue},pixelPosition:function(){return $e(),Be},reliableMarginLeft:function(){return $e(),We},scrollboxSize:function(){return $e(),je},reliableTrDimensions:function(){var e,t,n,r;return null==He&&(e=C.createElement("table"),t=C.createElement("tr"),n=C.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",n.style.height="9px",ne.appendChild(e).appendChild(t).appendChild(n),r=g.getComputedStyle(t),He=3<parseInt(r.height),ne.removeChild(e)),He}}));var Qe=["Webkit","Moz","ms"],Ze=C.createElement("div").style,et={};function tt(e){var t=k.cssProps[e]||et[e];return t||(e in Ze?e:et[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Qe.length;n--;)if((e=Qe[n]+t)in Ze)return e}(e)||e)}var nt,rt,ot=/^(none|table(?!-c[ea]).+)/,it=/^--/,at={position:"absolute",visibility:"hidden",display:"block"},st={letterSpacing:"0",fontWeight:"400"};function lt(e,t,n){var r=ee.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function ct(e,t,n,r,o,i){var a="width"===t?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=k.css(e,n+te[a],!0,o)),r?("content"===n&&(l-=k.css(e,"padding"+te[a],!0,o)),"margin"!==n&&(l-=k.css(e,"border"+te[a]+"Width",!0,o))):(l+=k.css(e,"padding"+te[a],!0,o),"padding"!==n?l+=k.css(e,"border"+te[a]+"Width",!0,o):s+=k.css(e,"border"+te[a]+"Width",!0,o));return!r&&0<=i&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-s-.5))||0),l}function ut(e,t,n){var r=Ye(e),o=(!b.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),i=o,a=Ke(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(ze.test(a)){if(!n)return a;a="auto"}return(!b.boxSizingReliable()&&o||!b.reliableTrDimensions()&&x(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===k.css(e,"boxSizing",!1,r),(i=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+ct(e,t,n||(o?"border":"content"),i,r,a)+"px"}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ke(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=z(t),l=it.test(t),c=e.style;if(l||(t=tt(s)),a=k.cssHooks[t]||k.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:c[t];"string"===(i=typeof n)&&(o=ee.exec(n))&&o[1]&&(n=ae(e,t,o),i="number"),null!=n&&n==n&&("number"!==i||l||(n+=o&&o[3]||(k.cssNumber[s]?"":"px")),b.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var o,i,a,s=z(t);return it.test(t)||(t=tt(s)),(a=k.cssHooks[t]||k.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=Ke(e,t,r)),"normal"===o&&t in st&&(o=st[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),k.each(["height","width"],function(e,l){k.cssHooks[l]={get:function(e,t,n){if(t)return!ot.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ut(e,l,n):Me(e,at,function(){return ut(e,l,n)})},set:function(e,t,n){var r,o=Ye(e),i=!b.scrollboxSize()&&"absolute"===o.position,a=(i||n)&&"border-box"===k.css(e,"boxSizing",!1,o),s=n?ct(e,l,n,a,o):0;return a&&i&&(s-=Math.ceil(e["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(o[l])-ct(e,l,"border",!1,o)-.5)),s&&(r=ee.exec(t))&&"px"!==(r[3]||"px")&&(e.style[l]=t,t=k.css(e,l)),lt(0,t,s)}}}),k.cssHooks.marginLeft=Je(b.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ke(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(o,i){k.cssHooks[o+i]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[o+te[t]+i]=r[t]||r[t-2]||r[0];return n}},"margin"!==o&&(k.cssHooks[o+i].set=lt)}),k.fn.extend({css:function(e,t){return H(this,function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=Ye(e),o=t.length;a<o;a++)i[t[a]]=k.css(e,t[a],!1,r);return i}return void 0!==n?k.style(e,t,n):k.css(e,t)},e,t,1<arguments.length)}}),k.fn.delay=function(r,e){return r=k.fx&&k.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=g.setTimeout(e,r);t.stop=function(){g.clearTimeout(n)}})},nt=C.createElement("input"),rt=C.createElement("select").appendChild(C.createElement("option")),nt.type="checkbox",b.checkOn=""!==nt.value,b.optSelected=rt.selected,(nt=C.createElement("input")).value="t",nt.type="radio",b.radioValue="t"===nt.value;var dt,pt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return H(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?k.prop(e,t,n):(1===i&&k.isXMLDoc(e)||(o=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!b.radioValue&&"radio"===t&&x(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(L);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(e,t){var a=pt[t]||k.find.attr;pt[t]=function(e,t,n){var r,o,i=t.toLowerCase();return n||(o=pt[i],pt[i]=r,r=null!=a(e,t,n)?i:null,pt[i]=o),r}});var ft=/^(?:input|select|textarea|button)$/i,ht=/^(?:a|area)$/i;function gt(e){return(e.match(L)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(L)||[]}k.fn.extend({prop:function(e,t){return H(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&k.isXMLDoc(e)||(t=k.propFix[t]||t,o=k.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):ft.test(e.nodeName)||ht.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,n,r,o,i,a,s,l=0;if(_(t))return this.each(function(e){k(this).addClass(t.call(this,e,mt(this)))});if((e=vt(t)).length)for(;n=this[l++];)if(o=mt(n),r=1===n.nodeType&&" "+gt(o)+" "){for(a=0;i=e[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(s=gt(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,o,i,a,s,l=0;if(_(t))return this.each(function(e){k(this).removeClass(t.call(this,e,mt(this)))});if(!arguments.length)return this.attr("class","");if((e=vt(t)).length)for(;n=this[l++];)if(o=mt(n),r=1===n.nodeType&&" "+gt(o)+" "){for(a=0;i=e[a++];)for(;-1<r.indexOf(" "+i+" ");)r=r.replace(" "+i+" "," ");o!==(s=gt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(o,t){var i=typeof o,a="string"==i||Array.isArray(o);return"boolean"==typeof t&&a?t?this.addClass(o):this.removeClass(o):_(o)?this.each(function(e){k(this).toggleClass(o.call(this,e,mt(this),t),t)}):this.each(function(){var e,t,n,r;if(a)for(t=0,n=k(this),r=vt(o);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==o&&"boolean"!=i||((e=mt(this))&&$.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===o?"":$.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+gt(mt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;k.fn.extend({val:function(n){var r,e,o,t=this[0];return arguments.length?(o=_(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=o?n.call(this,e,k(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=k.map(t,function(e){return null==e?"":e+""})),(r=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=k.valHooks[t.type]||k.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(yt,""):null==e?"":e:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:gt(k.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?i+1:o.length;for(r=i<0?l:a?i:0;r<l;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!x(n.parentNode,"optgroup"))){if(t=k(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,o=e.options,i=k.makeArray(t),a=o.length;a--;)((r=o[a]).selected=-1<k.inArray(k.valHooks.option.get(r),i))&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<k.inArray(k(e).val(),t)}},b.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),b.focusin="onfocusin"in g;function bt(e){e.stopPropagation()}var _t=/^(?:focusinfocus|focusoutblur)$/;k.extend(k.event,{trigger:function(e,t,n,r){var o,i,a,s,l,c,u,d,p=[n||C],f=y.call(e,"type")?e.type:e,h=y.call(e,"namespace")?e.namespace.split("."):[];if(i=d=a=n=n||C,3!==n.nodeType&&8!==n.nodeType&&!_t.test(f+k.event.triggered)&&(-1<f.indexOf(".")&&(f=(h=f.split(".")).shift(),h.sort()),l=f.indexOf(":")<0&&"on"+f,(e=e[k.expando]?e:new k.Event(f,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),u=k.event.special[f]||{},r||!u.trigger||!1!==u.trigger.apply(n,t))){if(!r&&!u.noBubble&&!m(n)){for(s=u.delegateType||f,_t.test(s+f)||(i=i.parentNode);i;i=i.parentNode)p.push(i),a=i;a===(n.ownerDocument||C)&&p.push(a.defaultView||a.parentWindow||g)}for(o=0;(i=p[o++])&&!e.isPropagationStopped();)d=i,e.type=1<o?s:u.bindType||f,(c=($.get(i,"events")||Object.create(null))[e.type]&&$.get(i,"handle"))&&c.apply(i,t),(c=l&&i[l])&&c.apply&&Y(i)&&(e.result=c.apply(i,t),!1===e.result&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(p.pop(),t)||!Y(n)||l&&_(n[f])&&!m(n)&&((a=n[l])&&(n[l]=null),k.event.triggered=f,e.isPropagationStopped()&&d.addEventListener(f,bt),n[f](),e.isPropagationStopped()&&d.removeEventListener(f,bt),k.event.triggered=void 0,a&&(n[l]=a)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),b.focusin||k.each({focus:"focusin",blur:"focusout"},function(n,r){function o(e){k.event.simulate(r,e.target,k.event.fix(e))}k.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=$.access(e,r);t||e.addEventListener(n,o,!0),$.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=$.access(e,r)-1;t?$.access(e,r,t):(e.removeEventListener(n,o,!0),$.remove(e,r))}}}),k.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new g.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+e),t};var Ct,Nt=/\[\]$/,Tt=/\r?\n/g,kt=/^(?:submit|button|image|reset|file)$/i,Et=/^(?:input|select|textarea|keygen)/i;function xt(n,e,r,o){var t;if(Array.isArray(e))k.each(e,function(e,t){r||Nt.test(n)?o(n,t):xt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,o)});else if(r||"object"!==T(e))o(n,e);else for(t in e)xt(n+"["+t+"]",e[t],r,o)}k.param=function(e,t){function n(e,t){var n=_(t)?t():t;o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)}var r,o=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){n(this.name,this.value)});else for(r in e)xt(r,e[r],t,n);return o.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Et.test(this.nodeName)&&!kt.test(e)&&(this.checked||!de.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:n.replace(Tt,"\r\n")}}).get()}}),k.fn.extend({wrapAll:function(e){var t;return this[0]&&(_(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return _(n)?this.each(function(e){k(this).wrapInner(n.call(this,e))}):this.each(function(){var e=k(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=_(t);return this.each(function(e){k(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},b.createHTMLDocument=((Ct=C.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ct.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(b.createHTMLDocument?((r=(t=C.implementation.createHTMLDocument("")).createElement("base")).href=C.location.href,t.head.appendChild(r)):t=C),i=!n&&[],(o=S.exec(e))?[t.createElement(o[1])]:(o=ye([e],t,i),i&&i.length&&k(i).remove(),k.merge([],o.childNodes)));var r,o,i},k.offset={setOffset:function(e,t,n){var r,o,i,a,s,l,c=k.css(e,"position"),u=k(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),i=k.css(e,"top"),l=k.css(e,"left"),o=("absolute"===c||"fixed"===c)&&-1<(i+l).indexOf("auto")?(a=(r=u.position()).top,r.left):(a=parseFloat(i)||0,parseFloat(l)||0),_(t)&&(t=t.call(e,n,k.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):("number"==typeof d.top&&(d.top+="px"),"number"==typeof d.left&&(d.left+="px"),u.css(d))}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),o.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-k.css(r,"marginTop",!0),left:t.left-o.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||ne})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var i="pageYOffset"===o;k.fn[t]=function(e){return H(this,function(e,t,n){var r;if(m(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[o]:e[t];r?r.scrollTo(i?r.pageXOffset:n,i?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),k.each(["top","left"],function(e,n){k.cssHooks[n]=Je(b.pixelPosition,function(e,t){if(t)return t=Ke(e,n),ze.test(t)?k(e).position()[n]+"px":t})}),k.each({Height:"height",Width:"width"},function(a,s){k.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,i){k.fn[i]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),o=r||(!0===e||!0===t?"margin":"border");return H(this,function(e,t,n){var r;return m(e)?0===i.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?k.css(e,t,o):k.style(e,t,n,o)},s,n?e:void 0,n)}})}),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){k.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var St=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;k.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),_(e))return r=s.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||k.guid++,o},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=x,k.isFunction=_,k.isWindow=m,k.camelCase=z,k.type=T,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(St,"")},void 0===(Wt=function(){return k}.apply(Ht,[]))||(Ut.exports=Wt);var wt=g.jQuery,Ot=g.$;k.noConflict=function(e){return g.$===k&&(g.$=Ot),e&&g.jQuery===k&&(g.jQuery=wt),k};var At,Rt,It=/^(?:toggle|show|hide)$/,Dt=/queueHooks$/;function Lt(){Rt&&(!1===C.hidden&&g.requestAnimationFrame?g.requestAnimationFrame(Lt):g.setTimeout(Lt,k.fx.interval),k.fx.tick())}function Pt(){return g.setTimeout(function(){At=void 0}),At=Date.now()}function Mt(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=te[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function Bt(e,t,n,r,o){return new Bt.prototype.init(e,t,n,r,o)}function Ft(e,t,n){for(var r,o=(jt.tweeners[t]||[]).concat(jt.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function jt(i,e,t){var n,a,r=0,o=jt.prefilters.length,s=k.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=At||Pt(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),r=0,o=c.tweens.length;r<o;r++)c.tweens[r].run(n);return s.notifyWith(i,[c,n,t]),n<1&&o?t:(o||s.notifyWith(i,[c,1,0]),s.resolveWith(i,[c]),!1)},c=s.promise({elem:i,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},t),originalProperties:e,originalOptions:t,startTime:At||Pt(),duration:t.duration,tweens:[],createTween:function(e,t){var n=k.Tween(i,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)c.tweens[t].run(1);return e?(s.notifyWith(i,[c,1,0]),s.resolveWith(i,[c,e])):s.rejectWith(i,[c,e]),this}}),u=c.props;for(!function(e,t){var n,r,o,i,a;for(n in e)if(o=t[r=z(n)],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=k.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}(u,c.opts.specialEasing);r<o;r++)if(n=jt.prefilters[r].call(c,i,u,c.opts))return _(n.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return k.map(u,Ft,c),_(c.opts.start)&&c.opts.start.call(i,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(l,{elem:i,anim:c,queue:c.opts.queue})),c}return((k.Tween=Bt).prototype={constructor:Bt,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(k.cssNumber[n]?"":"px")},cur:function(){var e=Bt.propHooks[this.prop];return e&&e.get?e.get(this):Bt.propHooks._default.get(this)},run:function(e){var t,n=Bt.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Bt.propHooks._default.set(this),this}}).init.prototype=Bt.prototype,(Bt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[tt(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Bt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=Bt.prototype.init,k.fx.step={},k.Animation=k.extend(jt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ae(n.elem,e,ee.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,o=(e=_(e)?(t=e,["*"]):e.match(L)).length;r<o;r++)n=e[r],jt.tweeners[n]=jt.tweeners[n]||[],jt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,i,a,s,l,c,u,d="width"in t||"height"in t,p=this,f={},h=e.style,g=e.nodeType&&ie(e),m=$.get(e,"fxshow");for(r in n.queue||(null==(a=k._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,k.queue(e,"fx").length||a.empty.fire()})})),t)if(o=t[r],It.test(o)){if(delete t[r],i=i||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!m||void 0===m[r])continue;g=!0}f[r]=m&&m[r]||k.style(e,r)}if((l=!k.isEmptyObject(t))||!k.isEmptyObject(f))for(r in d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=m&&m.display)&&(c=$.get(e,"display")),"none"===(u=k.css(e,"display"))&&(c?u=c:(le([e],!0),c=e.style.display||c,u=k.css(e,"display"),le([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===k.css(e,"float")&&(l||(p.done(function(){h.display=c}),null==c&&(u=h.display,c="none"===u?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=$.access(e,"fxshow",{display:c}),i&&(m.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),$.remove(e,"fxshow"),f)k.style(e,r,f[r])})),l=Ft(g?m[r]:0,r,p),r in m||(m[r]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?jt.prefilters.unshift(e):jt.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||_(e)&&e,duration:e,easing:n&&t||t&&!_(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){_(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ie).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){function o(){var e=jt(this,k.extend({},t),a);(i||$.get(this,"finish"))&&e.stop(!0)}var i=k.isEmptyObject(t),a=k.speed(e,n,r);return o.finish=o,i||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(o,e,i){function a(e){var t=e.stop;delete e.stop,t(i)}return"string"!=typeof o&&(i=e,e=o,o=void 0),e&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=k.timers,r=$.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&Dt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(i),e=!1,n.splice(t,1));!e&&i||k.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=$.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],o=k.timers,i=n?n.length:0;for(t.finish=!0,k.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===a&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<i;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),k.each(["toggle","show","hide"],function(e,r){var o=k.fn[r];k.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(Mt(r,!0),e,t,n)}}),k.each({slideDown:Mt("show"),slideUp:Mt("hide"),slideToggle:Mt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){k.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(At=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),At=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){Rt||(Rt=!0,Lt())},k.fx.stop=function(){Rt=null},k.fx.speeds={slow:600,fast:200,_default:400},k}(window)),function(n,t){if(!(t&&t.$&&t.hasOwnProperty("browser")&&t.logger)){var o,c=t,f=c.$,u=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,d=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.\%]+)\s*\)/,a=(C.acceptNode=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1},C),e=(o={log:!1,debug:!1,warn:!1,error:!0,trace:!1,prefix:"LoopIndex "},{_logs:[],config:function(e){return f.extend(o,e),f.extend({},o)},ignore:function(){},log:function(){o.log&&this._log("log",Array.prototype.slice.call(arguments))},error:function(){o.error&&this._log("error",Array.prototype.slice.call(arguments))},debug:function(){o.debug&&this._log("log",Array.prototype.slice.call(arguments))},trace:function(){if(o.trace){var e=Error().stack,t=e?[e.replace("Error","Debug:"),"\n"]:[];this._log("log",t.concat(Array.prototype.slice.call(arguments)))}},warn:function(){this._log("warn",Array.prototype.slice.call(arguments))},_log:function(e,t){var n=new Date,r=[n.getMinutes(),n.getSeconds(),n.getMilliseconds()].join(":");t.unshift(r+">"),o.prefix&&t.unshift(o.prefix),this._logs.push({method:e,logs:t}),this.scheduleDump()},dump:function(){var e=this._logs;this._logs=[],e.forEach(function(e){console[e.method].apply(console,e.logs)})},timeout:null,scheduleDump:function(){this.timeout||(this.timeout=setTimeout(function(){this.timeout=null,this.dump()}.bind(this),100))}}),r=(N.prototype.merge=function(i,e,n,a){void 0===a&&(a=!1);var s=null===n?function(e,t){return e===t}:function(e,t){return e&&t&&e[n]===t[n]};i=i||[];var l=[];return(e=e||[]).forEach(function(e){for(var t=!1,n=0,r=i.length;!t&&n<r;++n){var o=i[n];s(o,e)&&(i[n]=a&&o&&e?c.$.extend(o,e):e,t=!0)}t||l.push(e)}),l.length&&i.push.apply(i,l),i},N),i=(T.prototype.getRealTextLength=function(e){if(!e)return 0;for(var t=e.length;t&&c.utils.strings.isEmptyString(e[t-1]);)--t;return t},T.prototype.toMap=function(e,t,n){for(var r,o,i={},a=Boolean(t),s=Boolean(n),l=0,c=e&&e.length||0;l<c;++l)null!=(o=e[l])&&(r="*"===n?o:s?o[n]:1,a?i[String(o[t])]=r:i[String(o)]=1);return i},T.prototype.toStringMap=function(e,t){for(var n={},r=t?"upper"===t?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}:null,o=0,i=e&&e.length||0;o<i;++o)n[String(r?r(e[o]):e[o])]=1;return n},T.prototype.toStringArray=function(e,t){if(!e)return[];var n,r="upper"===t?String.prototype.toUpperCase:"lower"===t?String.prototype.toLowerCase:null;if("string"==typeof e)n=e.split(",");else{if(!f.isArray(e))return c.logger.warn("illegal format of string array"),[];n=e}return n.forEach(function(e,t){(e=e&&String(e).trim())&&r&&(e=r.apply(e)),n[t]=e}),n},T.prototype.padString=function(e,t,n,r){var o;o=null==e?"":String(e);for(var i=(n=String(n)).length,a=[o],s=o.length;s<t;s+=i)r?a.push(n):a.unshift(n);return a.join("")},T.prototype.padNumber=function(e,t){return c.utils.strings.padString(e,t,"0",!1)},T.prototype.randomString=function(e){(!e||isNaN(e)||e<1)&&(e=6);for(var t=String((1+Math.random())*Date.now()),n=btoa(t).replace(/[^a-z]/gi,"");n.length<e;)n+=n;return n.length>e&&(n=n.substring(n.length-e)),n},T.prototype.isEmptyString=function(e){for(var t,n=e&&e.length||0;0<n;)if(0!==(t=e.charCodeAt(--n))&&8203!==t&&65279!==t)return!1;return!0},T.prototype.getEffectiveStringLength=function(e){for(var t,n=e&&e.length||0,r=0;0<n;)0!==(t=e.charCodeAt(--n))&&8203!==t&&65279!==t&&++r;return r},T.prototype.getEffectiveStringIndex=function(e,t){if(isNaN(t)||t<0)return 0;var n,r=e&&e.length||0;if(r<=t)return r;for(var o=0,i=0;i<r;++i)if(0!==(n=e.charCodeAt(i))&&8203!==n&&65279!==n&&++o>t)return i;return r},T),s=(k.myNormalizeNode=function(e){if(e&&1===e.nodeType)for(var t=e.firstChild;t;){if(1===t.nodeType)k.myNormalizeNode(t);else if(3==t.nodeType)for(var n=void 0;(n=t.nextSibling)&&3==n.nodeType;){var r=n.nodeValue;r&&(t.nodeValue=t.nodeValue+r),e.removeChild(n)}t=t.nextSibling}},k.prototype.getPositioningParent=function(e){for(var t,n=this.toJQuery(e),r=n;(n=n.parent()).length&&n[0].ownerDocument&&"relative"!==(t=(r=n).css("position"))&&"absolute"!==t&&"fixed"!==t;);return r},k.prototype.addScriptToDocument=function(t,e){try{var n=(e=e||window.document).createElement("script");return n.setAttribute("type","text/javascript"),n.setAttribute("src",t),document.head.appendChild(n),!0}catch(e){return console.error("While loading script "+t+"\n{err}"),!1}},Object.defineProperty(k.prototype,"NodeIteratorUniversalFunction",{get:function(){return a},enumerable:!1,configurable:!0}),k.prototype.isContentEditable=function(e,t,n){for(var r,o=e&&e.parentNode;o&&o!==t;o=o.parentNode)if(1===o.nodeType&&(r=o.getAttribute("contenteditable"))){if("true"===(r=r.toLowerCase()))return!0;if("false"===r)return!1}return n},k.prototype.createTreeWalker=function(e,t,n){var r=e&&e.ownerDocument;if(!r)return null;var o=n?(i.acceptNode=function(){return 1},i):c.browser.msie?a:null;function i(e){return n(e)}return r.createTreeWalker(e,t,o,!1)},k.prototype.createNodeIterator=function(e,t,n){var r=e&&e.ownerDocument;if(!r)return null;var o=n?(i["]acceptNode"]=function(){return 1},i):c.browser.msie?a:null;function i(e){return n(e)}return r.createNodeIterator(e,t,o,!1)},k.prototype.getNodeIndex=function(e){if(!e)return-1;for(var t=0;e=e.previousSibling;)++t;return t},k.prototype.insertNodeAt=function(e,t,n){return!(!e||!t||1!==t.nodeType||n<0||(t.insertBefore(e,t.childNodes[n]),0))},k.prototype.normalizeNode=function(e){return e?(c.browser.msie||"function"!=typeof e.normalize?k.myNormalizeNode(e):e.normalize(),e):null},k.prototype.isEmptyTextNode=function(e){if(!e||3!==e.nodeType)return!1;var t=e;return 0===t.length||c.utils.strings.isEmptyString(t.nodeValue)},k.prototype.getNodeLength=function(e){var t=e&&e.nodeType;return 1===t?e.childNodes.length:3===t?e.length:0},k.prototype.getNodeTextContent=function(e){return f(e).text()},k.prototype.isOnlyChild=function(e){var t=e&&e.parentNode;return t&&t.firstChild===e&&t.lastChild===e},k.prototype.insertAfter=function(e,t,n){return e?(n=n||t&&t.parentNode,t&&t.parentNode!==n&&(t=null),n?t?n.insertBefore(e,t.nextSibling):n.insertBefore(e,n.firstChild):void 0):null},k.prototype.contents=function(e){return f.makeArray(f(e).contents())},k.prototype.extractContent=function(e){for(var t,n=document.createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n},k.prototype.toJQuery=function(e,t){if(void 0===t&&(t=!1),!e)return c.$("");var n=e;return n instanceof c.$||(n=c.$(e)),!t&&1<n.length&&(n=n.eq(0)),n},k.prototype.getRealTextLength=function(e){return e&&e.data?c.utils.strings.getRealTextLength(e.data):0},k.prototype.isDescendantOf=function(e,t){if(!t||!e)return!1;var n="string"==typeof t&&t;if(!n&&1!==t.nodeType)return!1;try{for(;e&&e.parentNode;){if(n){if(c.utils.dom.matchesSelector(e.parentNode,n))return!0}else if(e.parentNode===t)return!0;e=e.parentNode}}catch(e){}return!1},k.prototype.clearNodeBackgroundImage=function(e){e&&e.style&&e.style["background-image"]&&(e.style["background-image"]=null)},k.prototype.getElementPageOffset=function(e,t){if(!e||!e.getBoundingClientRect)return{top:0,left:0};var n=e.getBoundingClientRect(),r=e.ownerDocument,o=r.defaultView,i=r.body,a=r.documentElement,s=o.pageYOffset||a.scrollTop||o.scrollY||i.scrollTop||0,l=o.pageXOffset||a.scrollLeft||o.scrollX||i.scrollLeft||0,c=a.clientTop||i.clientTop||0,u=a.clientLeft||i.clientLeft||0,d=n.top+s-c,p=n.left+l-u,f={top:Math.round(d),left:Math.round(p)};return t&&(f.top+=i.scrollTop||0,f.left+=i.scrollLeft||0),f},k.prototype.compareNodePosition=function(e,t){if(e===t)return 0;var n=e.compareDocumentPosition(t);return 4&n?-1:8&n?-1:1},k.prototype.forAllTextChildren=function(e,t){if(e&&t&&1===e.nodeType)for(var n=e.firstChild,r=n&&n.nextSibling;n;r=(n=r)&&n.nextSibling)1===n.nodeType?this.forAllTextChildren(n,t):3===n.nodeType&&t(n)},k.prototype.getFirstNodeInRange=function(e){var t=e&&e.startContainer;if(!t)return null;if(3===t.nodeType)return t;var n=this.getNthChild(t,e.startOffset);return n||c.utils.dom.createNodeIterator(t,NodeFilter.SHOW_TEXT||NodeFilter.SHOW_ELEMENT).nextNode()},k.prototype.getLastNodeInRange=function(e){var t=e&&e.endContainer;if(!t)return null;if(3===t.nodeType)return t;var n=this.getNthChild(t,e.endOffset-1);return n||c.utils.dom.createNodeIterator(t,NodeFilter.SHOW_TEXT||NodeFilter.SHOW_ELEMENT).previousNode()},k.prototype.hasTextSelection=function(e){if(!e||e.collapsed)return!1;if(3===e.startContainer.nodeType&&e.startOffset<e.startContainer.length)return!0;if(3===e.endContainer.nodeType&&e.endOffset<e.endContainer.length)return!0;var n=!1;return this.walkRange(e,function(e,t){return!(3===e.nodeType&&0<e.length&&(n=!0))}),n},k.prototype.getNthChild=function(e,t){if(!e||1!==e.nodeType)return null;for(var n=e.firstChild;n&&0<=t;n=n.nextSibling,--t)if(0===t)return n;return null},k.prototype.getSelectedTextNodes=function(e){var r=this;if(!e||e.collapsed)return null;var o=[];return this.walkRange(e,function(e,t){if(3===e.nodeType){var n=r.processTextNode(e,t);n&&o.push(n)}return!0}),o},k.prototype.extractTextNode=function(e){if(!e||!e.node)return null;if(!e.partial)return e.node;var t=e.node;return e.end<t.length&&t.splitText(e.end),0<e.start&&(t=t.splitText(e.start)),t},k.prototype.extractInlineNode=function(e){var t=e&&e.node;if(!t)return null;var n=function(e){for(;e.parentNode&&k.INLINE_RE.test(c.$(e.parentNode).css("display"));)e=e.parentNode;return e}(t);if(n===t)return c.utils.dom.extractTextNode(e);var r=n,o=c.utils.dom;if(!e.partial)return o.splitNode(r,e.node,e.end);var i=r;return e.end<t.length&&(t=(i=o.splitNode(i,t,e.end)).lastChild),0<e.start&&o.splitNode(i,t,e.start),i},k.prototype.splitNode=function(e,t,n){if(0===n&&(t===e||t===e.firstChild))return e;if(n>=c.utils.dom.getNodeLength(t)&&(t===e||t===e.lastChild))return e;var r=e.parentNode,o=c.utils.dom.getNodeIndex(e),i=t.ownerDocument.createRange();i.setStart(r,o),i.setEnd(t,n);var a=i.extractContents();return r.insertBefore(a,e),e.previousSibling||e},k.prototype.walkRange=function(e,t){if(e&&!e.collapsed){var n,r=this.getFirstNodeInRange(e),o=this.getLastNodeInRange(e);if(r&&o)for(var i=!1,a=!1,s=c.utils.dom.createNodeIterator(e.commonAncestorContainer,NodeFilter.SHOW_ALL);(n=s.nextNode())&&(!a||c.utils.dom.isDescendantOf(n,o));){if(!i){if(n!=r)continue;i=!0}if(!t(n,e))return;n===o&&(a=!0)}}},k.prototype.processTextNode=function(e,t){var n;if(!e||3!==e.nodeType||!(n=e.length))return null;var r={node:e,start:0,end:n,partial:!1};if(e===t.startContainer&&0<t.startOffset){if(t.startOffset>=n)return null;r.partial=!0,r.start=t.startOffset}return e===t.endContainer&&t.endOffset<n&&(r.partial=!0,r.end=t.endOffset),r},k.prototype.hasClass=function(e,t){if(!e||1!==e.nodeType)return!1;var n=e,r=n.classList||n.className&&n.className.split(/\s/);if(r&&r.length)for(var o=r.length-1;0<=o;--o)if(r[o]===t)return!0;return!1},k.prototype.matchesSelector=function(e,t){if(!e||1!==e.nodeType||!t)return!1;if(!this._matchSelector){var n=e,r=void 0;r="function"==typeof n.matches?function(e,t){return e.matches(t)}:"function"==typeof n.msMatchesSelector?function(e,t){return e.msMatchesSelector(t)}:"function"==typeof n.webkitMatchesSelector?function(e,t){return e.webkitMatchesSelector(t)}:function(e,t){return f(e).is(t)},this._matchSelector=r}return this._matchSelector(e,t)},k.INLINE_RE=/inline/i,k),l=(Object.defineProperty(E.prototype,"document",{get:function(){return this._doc},enumerable:!1,configurable:!0}),E.prototype.getOwnStyleSheet=function(e){var t=this._doc.getElementById(this._styleId);return!t&&e&&((t=this._doc.createElement("style")).appendChild(this._doc.createTextNode("")),t.setAttribute("id",this._styleId),this._loadedStyleIds[this._styleId]=!0,this.$head.append(t)),t&&t.sheet},E.prototype.loadCSSString=function(e,t){var n=c.utils.getUniqueId("li-style"),r=this.$head,o=this._doc.createElement("style");o.id=n,this._loadedStyleIds[n]=!0,o.appendChild(this._doc.createTextNode(e)),r.append(o)},E.prototype.loadCSS=function(e,r,o){var i=this,a=this.$head,s=this._doc;(e||[]).forEach(function(e){!function(e){if(e){var t="loopindex-"+e.replace(/[^0-9a-z]+/gi,"_")+"-"+c.utils.getUniqueNumber();if(0===f(a).find("#"+t).length){var n=f(s.createElement("link"));n.attr({rel:"stylesheet",type:"text/css",id:t,href:c.utils.isAbsoluteUrl(e)?e:c.utils.joinPath(r,e)}),i._loadedStyleIds[t]=!0,o&&i._attachCBToLink(n[0],e,o),a.append(n)}}}(e)})},E.prototype.addRule=function(e,t){if(t&&"object"==typeof t){var n=this.getOwnStyleSheet(!0);if(n){var r=n.rules&&n.rules.length||0,o=this._makeRule(t);"function"==typeof n.addRule?n.addRule(e,o,r):"function"==typeof n.insertRule?n.insertRule(e+" "+this._makeRule(t)+" }",n.rules&&n.rules.length||0):c.logger.error("CSSLoader addRule: no matching function")}else c.logger.warn("LoopIndex CSSLoader cannot create stylesheet")}},E.prototype.reset=function(){var e=this.getOwnStyleSheet(!1);if(e&&e.deleteRule)for(var t=e.cssRules.length-1;0<=t;--t)e.deleteRule(t)},E.prototype.dispose=function(){if(this._doc){var t=this.$head;Object.keys(this._loadedStyleIds).forEach(function(e){setTimeout(function(){try{t.find("#"+e).remove()}catch(e){}},0)}),this._loadedStyleIds={},this._doc=null}},Object.defineProperty(E.prototype,"$head",{get:function(){return c.$(this._doc&&(this._doc.head||this._doc.getElementsByTagName("head")[0]))},enumerable:!1,configurable:!0}),E.prototype._makeRule=function(t){return Object.keys(t||{}).map(function(e){return e+": "+t[e]+";"}).join("\n")},E.prototype._attachCBToLink=function(t,n,r){if("function"==typeof r){var o=function(){t.removeEventListener("load",o),t.removeEventListener("error",i),r(n,{loaded:!0})};"function"==typeof t.addEventListener?(t.addEventListener("load",o),t.addEventListener("error",i)):(t.onload=function(){o()},t.onerror=function(e){i(e)})}function i(e){t.removeEventListener("load",o),t.removeEventListener("error",i),r(n,{loaded:!1,error:e})}},E),p=(x.prototype.logEditorEvents=function(n,e,t,r){if(e&&Boolean(r)!==Boolean(n.savedEditorFireMethod)){var o=e;if(r){n.savedEditorFireMethod=o.fire;var i=t?new RegExp(t.join("|"),"i"):/mouse|selection|click|focus|undo|redo|snapshot|resolvename/i;o.fire=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(e){return!e||i.test(e)}(e[0])||c.logger.debug("Editor event "+e[0]),n.savedEditorFireMethod.apply(o,e)}}else o.fire=n.savedEditorFireMethod,n.savedEditorFireMethod=null}},x),h=(Object.defineProperty(S.prototype,"pluginUtils",{get:function(){return this._pluginUtils},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"dom",{get:function(){return this._dom},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"strings",{get:function(){return this._strings},enumerable:!1,configurable:!0}),S.prototype.clearObject=function(t){return t?(Object.keys(t).forEach(function(e){try{delete t[e]}catch(e){}}),t):{}},S.prototype.getRelativeTimezoneOffset=function(t){if(!t)return 0;try{var e=new Date,n=e.toLocaleString("en-us",{timeZone:t});return Date.parse(n)-e.getTime()}catch(e){return c.logger.error("convertDateToTimezone",t,e),0}},S.prototype.convertDateToTimezone=function(t,n){if(t=t||new Date,!n)return t;try{var e=c.utils.getRelativeTimezoneOffset(n);return new Date(t.getTime()+e)}catch(e){return c.logger.error("convertDateToTimezone",n,e),t}},Object.defineProperty(S.prototype,"CSSLoader",{get:function(){return l},enumerable:!1,configurable:!0}),S.prototype.intensifyColor=function(e,t){var n,r=e.match(u),o=!r&&e.match(d),i=o||o,a=10;n=i?[i[1],i[2],i[3]]:(e.match(d),a=16,(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[e.substr(0,2),e.substr(2,2),e.substr(4,2)]),t=t||0;for(var s,l=[],c=0;c<3;c++)s=parseInt(n[c],a),l.push(Math.round(Math.min(Math.max(0,s+s*t),255)));return r?"rgb("+l[0]+","+l[1]+","+l[2]+")":o?"rgba("+l[0]+","+l[1]+","+l[2]+", "+o[4]+")":"#"+l.map(function(e){return e<16?"0"+e.toString(16):e.toString(16)}).join("")},S.prototype.getUniqueNumber=function(){return S.nextId++},S.prototype.getUniqueId=function(e,t){return""+e+c.utils.getUniqueNumber()+(t||"")},S.prototype.yes=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!0},S.prototype.no=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!1},S.prototype.always=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n}},S.prototype.getCurrentScriptPath=function(){var e=c.utils.getCurrentScriptURL();if(!e)return null;var t=/^(.+\/)[^\/]+\.js/i.exec(e);return t&&t[1]},S.prototype.getCurrentScriptURL=function(){try{var e=document&&document.currentScript;if(e)return e.src;var t=window.import,n=t&&t.meta;if(void 0!==n&&n.url)return n.url}catch(e){return null}},S.prototype.scrollToElement=function(e){var t=c.utils.dom.toJQuery(e);return t&&t.scrollintoview()},S.prototype.joinPath=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map(function(e){return e&&e.trim()}).filter(Boolean).join("/").replace(/(^|[^:])\/[\/]+/g,"$1/")},S.prototype.isAbsoluteUrl=function(e){return!!e&&("/"===e[0]||/^[a-z]+\:\/\//i.test(e))},S.nextId=Math.round(Date.now()%1e4),S),g=(w.prototype.clear=function(){var t=this;Object.keys(this._timeoutMap).forEach(function(e){return t.removeTimer(e)})},w.prototype.setTimer=function(e,t,n){var r="temp-"+Date.now()*Math.random();return this.createTimer(r,{callback:e,timeoutMSecs:t,repeatCount:n,autoDispose:!0}).start()},w.prototype.createTimer=function(e,t){var n=this;if(!e)throw new Error("setTimer requires a timer id");var r=this._timeoutMap[e];if(r)r.update(t);else{if(!t.callback)throw new Error("setTimer: callback required");var o=this.upgradeOptions(t);r=this._timeoutMap[e]=new m(o,function(){delete n._timeoutMap[e]})}return r},w.prototype.startTimer=function(e){var t=this._timeoutMap[e];return t&&t.start()},w.prototype.stopAll=function(){var t=this;Object.keys(this._timeoutMap).forEach(function(e){return t.stopTimer(e)})},w.prototype.stopTimer=function(e){var t=this._timeoutMap[e];return t&&t.stop(),t},w.prototype.removeTimer=function(e){var t=this._timeoutMap[e];return t&&t.dispose(),Boolean(t)},w.prototype.elapsed=function(e){var t=this._timeoutMap[e];return t&&t.elapsed||0},w.prototype.upgradeOptions=function(e){return c.$.extend({},{callback:null,repeatCount:1,timeoutMSecs:-1,maxTimeSecs:0,autoDispose:!0},e)},w.FOREVER=999999999,w),m=(Object.defineProperty(O.prototype,"isRunning",{get:function(){return Boolean(this._stop)},enumerable:!1,configurable:!0}),O.prototype.dispose=function(){var t=this;if(this.stop(),Object.keys(this._options).forEach(function(e){return delete t._options[e]}),this._callback=null,this.done){var e=this.done;this.done=null,e()}},O.prototype.start=function(){if(this.isRunning)return this;var e;this.reset();var t=this._options.repeatCount;return(isNaN(t)||"number"!=typeof t||t<0)&&(this._options.repeatCount=1),this._startTime=Date.now(),e=setInterval(this._callback,this._options.timeoutMSecs),this._stop=function(){return clearInterval(e)},this},O.prototype.reset=function(){return this._elapsed=0,this._callCount=0,this.isRunning&&(this.stop(),this.start()),this},O.prototype.stop=function(){if(this._stop){var e=this._stop;this._stop=null,e()}return this},O.prototype.update=function(e){var t=this._options;return 0<e.repeatCount&&(t.repeatCount=e.repeatCount),0<=e.timeoutMSecs&&(t.timeoutMSecs=e.timeoutMSecs),0<=e.maxTimeSecs&&(t.maxTimeSecs=e.maxTimeSecs),void 0!==e.data&&(t.data=e.data),this},Object.defineProperty(O.prototype,"elapsed",{get:function(){return this._elapsed},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isRepeating",{get:function(){return 0<this._options.repeatCount},enumerable:!1,configurable:!0}),O),v=function(){this.msie=!1,this.type="unknown",this.webkit=!1,this.chrome=!1,this.safari=!1,this.firefox=!1,this.webkitType=null;var e=navigator.userAgent.toLowerCase(),t=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}(e);t.browser&&(this[t.browser]=!0,this.version=t.version||"0",this.type=t.browser),this.chrome?this.webkit=!0:this.webkit&&(this.safari=!0),this.webkit&&(this.type="webkit",this.webkitType="webkit"!==this.type?null:0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")?"safari":"chrome"),this.firefox=!0===/firefox/i.test(e),this.msie||(this.msie=Boolean(/trident/i.test(e)))&&(this.type="msie")},y=(A.prototype.getArgument=function(e,t){return this._parseLocation(),this._args.hasOwnProperty(e)?decodeURIComponent(this._args[e]):t},A.prototype.getNumericArgument=function(e,t){var n=this.getArgument(e,""),r=parseInt(n,10);return isNaN(r)&&(r=t),r},A.prototype.getAllArguments=function(){this._parseLocation();var e,t={};for(e in this._args)this._args.hasOwnProperty(e)&&(t[e]=this._args[e]);return t},A.prototype.createSearchString=function(e){if(!e)return"";var t,n,r="";for(t in e)e.hasOwnProperty(t)&&"function"!=typeof(n=e[t])&&(r.length&&(r+="&"),r+=t+"="+decodeURIComponent(n));return r},A.prototype.parse=function(e,t){if(t=t||{},"string"!=typeof e||e.length<1)return{};var n=e.charAt(0);"?"!==n&&"#"!==n||(e=e.substring(1));var r,o,i,a,s=e.split("&"),l={true:!0,false:!1};for(r=s.length-1;0<=r;--r)(o=s[r])&&0<(i=o.indexOf("="))&&(a=decodeURIComponent(o.substring(i+1)),l.hasOwnProperty(a)&&(a=l[a]),t[o.substring(0,i)]=a);return t},A.prototype._parseLocation=function(){var e=n.location;if(this._url!==e.href||!this._args){this._url=e.href;var t={};this.parse(e.search,t),this.parse(e.hash,t),this._args=t}return this._args},A),b={mixin:function(n){function a(e){return i[e]=i[e]||[]}function s(){var n=i;Object.keys(n).forEach(function(e){var t=n[e];t&&t.length||delete n[e]})}var i={},l=!1,r={on:function(e,t,n,r){var o=this;if(!e)return c.logger.warn("cannot register to empty event"),this;if(f.isArray(e))e.forEach(function(e){o.addListener(e,t,n,r)});else if("function"==typeof t){a(e).push({scope:n,muted:!1,callback:t,options:r})}else c.logger.error("events mixin addListener: bad callback",t);return this},off:function(e,n){var t=this;if(!e&&!n)return this.removeAllListeners();if(!n&&e&&"object"==typeof e&&(n=e,e=null),e&&e instanceof Array)return e.forEach(function(e){t.off(e,n)}),this;function r(e,t){return e&&(!n||e.scope===n||e.callback===n)}var o=i;return Object.keys(o).forEach(function(n){e&&e!==n||o[n].filter(r).forEach(function(e){var t=o[n].indexOf(e);0<=t&&o[n].splice(t,1)})}),s(),this},removeAllListeners:function(){return Object.keys(i).forEach(function(e){return i[e]=void 0}),this},muteListener:function(n,r){if(!n)return this;r=Boolean(r);var o=i;return Object.keys(o).forEach(function(e){var t=o[e];t&&t.forEach(function(e){e&&e.scope===n&&(e.muted=r)})}),this},muteEvents:function(){return l=!0,this},unmuteEvents:function(){return l=!1,this},once:function(e,t,n,r){return(r=r||{}).count=1,this.on(e,t,n,r)},trigger:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e){if(!l){var r=a(e),o=r.slice(),i=[];o.forEach(function(e){e.muted||e.callback.apply(e.scope,t),e.options&&e.options.count&&(--e.options.count,e.options.count<=0&&i.push(e))}),i.length&&(i.forEach(function(e){r.splice(r.indexOf(e),1)}),s())}}else c.logger.warn("cannot trigger empty event")}.apply(this,[e].concat(t)),this}};Object.keys(r).forEach(function(e){var t=r[e];"function"==typeof t&&Object.defineProperty(n,e,{value:t,enumerable:!0,writable:!1,configurable:!1})});var t={fire:r.trigger,removeListener:r.off,bind:r.on,addListener:r.on};return Object.keys(t).forEach(function(e){Object.defineProperty(n,e,{enumerable:!0,value:t[e],writable:!1,configurable:!1})}),n}};!function(){if(!f||!f.fn)return console.warn("Cannot define scrollintoview: no $");if(f.fn.scrollintoview)return console.warn("$ scrollintoview already defined");function l(e){var t,n=f(window),r=d.test(e[0].nodeName);return{border:r?{top:0,left:0,bottom:0,right:0}:function(e,t){t=t||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle);var n=!(!document.defaultView||!document.defaultView.getComputedStyle),r={top:parseFloat(n?t.borderTopWidth:f.css(e,"borderTopWidth"))||0,left:parseFloat(n?t.borderLeftWidth:f.css(e,"borderLeftWidth"))||0,bottom:parseFloat(n?t.borderBottomWidth:f.css(e,"borderBottomWidth"))||0,right:parseFloat(n?t.borderRightWidth:f.css(e,"borderRightWidth"))||0};return{top:r.top,left:r.left,bottom:r.bottom,right:r.right,vertical:r.top+r.bottom,horizontal:r.left+r.right}}(e[0],null),scroll:{top:(r?n:e).scrollTop(),left:(r?n:e).scrollLeft()},scrollbar:{right:r?0:e.innerWidth()-e[0].clientWidth,bottom:r?0:e.innerHeight()-e[0].clientHeight},rect:(t=e[0].getBoundingClientRect(),{top:r?0:t.top,left:r?0:t.left,bottom:r?e[0].clientHeight:t.bottom,right:r?e[0].clientWidth:t.right})}}var c={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},u={duration:"fast",direction:"both"},d=/^(?:html)$/i;f.fn.extend({scrollintoview:function(t){(t=f.extend({},u,t)).direction=c["string"==typeof t.direction&&t.direction.toLowerCase()]||c.both;var e="";!0===t.direction.x&&(e="horizontal"),!0===t.direction.y&&(e=e?"both":"vertical");var n=this.eq(0),r=n.closest(":scrollable("+e+")");if(0<r.length){r=r.eq(0);var o=l(n),i=l(r),a={top:o.rect.top-(i.rect.top+i.border.top),bottom:i.rect.bottom-i.border.bottom-i.scrollbar.bottom-o.rect.bottom,left:o.rect.left-(i.rect.left+i.border.left),right:i.rect.right-i.border.right-i.scrollbar.right-o.rect.right},s={};!0===t.direction.y&&(a.top<0?s.scrollTop=i.scroll.top+a.top:0<a.top&&a.bottom<0&&(s.scrollTop=i.scroll.top+Math.min(a.top,-a.bottom))),!0===t.direction.x&&(a.left<0?s.scrollLeft=i.scroll.left+a.left:0<a.left&&a.right<0&&(s.scrollLeft=i.scroll.left+Math.min(a.left,-a.right))),f.isEmptyObject(s)?f.isFunction(t.complete)&&t.complete.call(r[0]):(d.test(r[0].nodeName)&&(r=f(r[0].ownerDocument).find("html,body")),r.animate(s,t.duration).eq(0).queue(function(e){f.isFunction(t.complete)&&t.complete.call(r[0]),e()}))}return this}});var p={auto:!0,scroll:!0,visible:!1,hidden:!1};f.extend(f.expr[":"],{scrollable:function(e,t,n,r){var o=c[n&&"string"==typeof n[3]&&n[3].toLowerCase()]||c.both,i=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle,a={x:p[i.overflowX.toLowerCase()]||!1,y:p[i.overflowY.toLowerCase()]||!1,isRoot:d.test(e.nodeName)};if(!a.x&&!a.y&&!a.isRoot)return!1;var s={height:{scroll:e.scrollHeight,client:e.clientHeight},width:{scroll:e.scrollWidth,client:e.clientWidth},scrollableX:function(){return(a.x||a.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(a.y||a.isRoot)&&this.height.scroll>this.height.client}};return o.y&&s.scrollableY()||o.x&&s.scrollableX()}})}();var _=new v;[{name:"Timeout",data:m},{name:"TimeoutClient",data:g},{name:"logger",data:e},{name:"utils",data:new h},{name:"URLArguments",data:new y},{name:"CommandStates",data:{ON:"on",OFF:"off",DISABLED:"disabled"}},{name:"Timeout",data:m},{name:"mixinEvents",data:b.mixin}].forEach(function(e){Object.defineProperty(t,e.name,{value:e.data,writable:!1,configurable:!1,enumerable:!0})}),Object.defineProperties(c,{browser:{get:function(){return c.$.extend(!0,{},_)}}})}function C(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1}function N(){}function T(){}function k(){this._matchSelector=null}function E(e){this._doc=e,this._styleId=c.utils.strings.randomString(8),this._loadedStyleIds={}}function x(){}function S(){this._dom=new s,this._strings=new i,this.array=new r,this._pluginUtils=new p}function w(){this._timeoutMap={}}function O(e,t){var n=this;if(this.done=t,this._elapsed=0,this._callCount=0,this._startTime=0,this._stop=null,!e.callback)throw new Error("Timeout constructor: callback required");this._options=c.$.extend({},e),this._callback=function(){n._elapsed=Date.now()-n._startTime,0<n._options.maxTimeSecs&&1e3*n._options.maxTimeSecs<n._elapsed&&n.stop(),n._options.callback(n);var e=n._options.repeatCount;n._options&&(e<=0||++n._callCount>=e)&&(n.stop(),n._options.autoDispose&&n.dispose())}}function A(){this._args=null,this._url=""}}(window,window.LOOPINDEX),function(e){e.exports=e.exports||{};var t=e.LOOPINDEX;if(!t)throw new Error("FLITE: global LOOPINDEX is not defined");e.FLITE&&"object"==typeof e.FLITE&&e.FLITE!==t&&t.$.extend(!0,t,e.FLITE),e.FLITE=e.LOOPINDEX=t}(window),e=function(ge){var r="object",o="function",n="undefined",l=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],c=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],t=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],i=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"];function u(e,t){var n=typeof e[t];return n==o||!(n!=r||!e[t])||"unknown"==n}function a(e,t){return!(typeof e[t]!=r||!e[t])}function e(e,t){return typeof e[t]!=n}function s(r){return function(e,t){for(var n=t.length;n--;)if(!r(e,t[n]))return!1;return!0}}var d=s(u),p=s(a),f=s(e);function h(e){return e&&d(e,i)&&f(e,t)}function g(e){return a(e,"body")?e.body:e.getElementsByTagName("body")[0]}var m,v,y={},b=typeof window!=n&&typeof document!=n,_={isHostMethod:u,isHostObject:a,isHostProperty:e,areHostMethods:d,areHostObjects:p,areHostProperties:f,isTextRange:h,getBody:g,forEach:[].forEach?function(e,t){e.forEach(t)}:function(e,t){for(var n=0,r=e.length;n<r;++n)t(e[n],n)}},C={version:"1.3.0",initialized:!1,isBrowser:b,supported:!0,util:_,features:{},modules:y,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==n||rangyAutoInitialize}};function N(e){typeof console!=n&&u(console,"log")&&console.log(e)}function T(e,t){b&&t?alert(e):N(e)}function k(e){ge.logger.warn("rangy module fail",e),C.initialized=!0,C.supported=!1,T("Rangy is not supported in this environment. Reason: "+e,C.config.alertOnFail)}C.fail=k,C.warn=function(e){T("Rangy warning: "+e,C.config.alertOnWarn)},!{}.hasOwnProperty?k("hasOwnProperty not supported"):(_.extend=m=function(e,t,n){var r,o;for(var i in t)t.hasOwnProperty(i)&&(r=e[i],o=t[i],n&&null!==r&&"object"==typeof r&&null!==o&&"object"==typeof o&&m(r,o,!0),e[i]=o);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},_.createOptions=function(e,t){var n={};return m(n,t),e&&m(n,e),n}),b||k("Rangy can only run in a browser"),function(){var e;if(b){var t=document.createElement("div");t.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(e){return n.call(e,0)})}catch(e){}}e=e||function(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e[n];return t},_.toArray=e}(),b&&(u(document,"addEventListener")?v=function(e,t,n){e.addEventListener(t,n,!1)}:u(document,"attachEvent")?v=function(e,t,n){e.attachEvent("on"+t,n)}:k("Document does not have required addEventListener or attachEvent method"),_.addListener=v);var E=[];function x(e){return e.message||e.description||String(e)}function S(){if(b&&!C.initialized){var e,t=!1,n=!1;u(document,"createRange")&&(e=document.createRange(),d(e,c)&&f(e,l)&&(t=!0));var r=g(document);if(r&&"body"==r.nodeName.toLowerCase())if(r&&u(r,"createTextRange")&&h(e=r.createTextRange())&&(n=!0),t||n){var o;for(var i in C.initialized=!0,C.features={implementsDomRange:t,implementsTextRange:n},y)(o=y[i])instanceof R&&o.init(o,C);for(var a=0,s=E.length;a<s;++a)try{E[a](C)}catch(e){N("Rangy init listener threw an exception. Continuing. Detail: "+x(e))}}else k("Neither Range nor TextRange are available");else k("No body element found")}}function w(e,t,n){n&&(e+=" in module "+n.name),C.warn("DEPRECATED: "+e+" is deprecated. Please use "+t+" instead.")}function O(e,t,n,r){e[t]=function(){return w(t,n,r),e[n].apply(e,_.toArray(arguments))}}_.deprecationNotice=w,_.createAliasForDeprecatedMethod=O,C.init=S,C.addInitListener=function(e){C.initialized?e(C):E.push(e)};var A=[];function R(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function I(t,e,n){var r=new R(t,e,function(e){if(!0!==e.initialized)try{n(C,e),e.supported=!0}catch(e){N("Module '"+t+"' failed to load: "+x(e)),e.stack&&N(e.stack)}});return y[t]=r}function D(){}C.addShimListener=function(e){A.push(e)},b&&(C.shim=C.createMissingNativeApi=function(e){e=e||window,S();for(var t=0,n=A.length;t<n;++t)A[t](e)},O(C,"createMissingNativeApi","shim")),R.prototype={init:function(){for(var e,t,n=this.dependencies||[],r=0,o=n.length;r<o;++r){if(!((e=y[t=n[r]])&&e instanceof R))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this),this.initialized=!0},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error(e)},warn:function(e){C.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){C.warn("DEPRECATED: "+e+" in module "+this.name+" is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},C.createModule=function(e){var t,n=I(e,2===arguments.length?(t=arguments[1],[]):(t=arguments[2],arguments[1]),t);C.initialized&&C.supported&&n.init()},C.createCoreModule=function(e,t,n){I(e,t,n)},C.RangePrototype=D,C.rangePrototype=new D,C.selectionPrototype=new function(){},C.createCoreModule("DomUtil",[],function(n,c){var r="undefined",o=n.util,a=o.getBody;o.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||c.fail("document missing a Node creation method"),o.isHostMethod(document,"getElementsByTagName")||c.fail("document missing getElementsByTagName method");var e=document.createElement("div");o.areHostMethods(e,["insertBefore","appendChild","cloneNode"])||c.fail("Incomplete Element implementation"),o.isHostProperty(e,"innerHTML")||c.fail("Element is missing innerHTML property");var t=document.createTextNode("test");o.areHostMethods(t,["splitText","deleteData","insertData","appendData","cloneNode"])||c.fail("Incomplete Text Node implementation");var i=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1};function u(e){for(var t=0;e=e.previousSibling;)++t;return t}function d(e,t){var n,r=[];for(n=e;n;n=n.parentNode)r.push(n);for(n=t;n;n=n.parentNode)if(i(r,n))return n;return null}function s(e,t,n){for(var r=n?t:t.parentNode;r;){if(r===e)return!0;r=r.parentNode}return!1}function p(e,t,n){for(var r,o=n?e:e.parentNode;o;){if((r=o.parentNode)===t)return o;o=r}return null}function l(e){var t=e.nodeType;return 3==t||4==t||8==t}function f(e,t){var n=t.nextSibling,r=t.parentNode;return n?r.insertBefore(e,n):r.appendChild(e),e}function h(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=r)return e.ownerDocument;if(typeof e.document!=r)return e.document;if(e.parentNode)return h(e.parentNode);throw c.createError("getDocument: no document found for node")}function g(e){var t=h(e);if(typeof t.defaultView!=r)return t.defaultView;if(typeof t.parentWindow!=r)return t.parentWindow;throw c.createError("Cannot get a window object for node")}function m(e){if(typeof e.contentDocument!=r)return e.contentDocument;if(typeof e.contentWindow!=r)return e.contentWindow.document;throw c.createError("getIframeDocument: No Document object found for iframe element")}function v(e){return e&&o.isHostMethod(e,"setTimeout")&&o.isHostObject(e,"document")}var y,b=!1;function _(e){try{return e.parentNode,!1}catch(e){return!0}}function C(e){if(!e)return"[No node]";if(b&&_(e))return"[Broken node]";if(l(e))return'"'+e.data+'"';if(1!=e.nodeType)return e.nodeName;var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+u(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}function N(e){this.root=e,this._next=e,this._current=null}function T(e,t){this.node=e,this.offset=t}function k(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}!function(){var e=document.createElement("b");e.innerHTML="1";var t=e.firstChild;e.innerHTML="<br />",b=_(t),n.features.crashyTextNodes=b}(),typeof window.getComputedStyle!=r?y=function(e,t){return g(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=r?y=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:c.fail("No means of obtaining computed style properties found"),N.prototype={hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n&&n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},T.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+C(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},(k.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24}).toString=function(){return this.message},n.dom={arrayContains:i,isHtmlNamespace:function(e){var t;return typeof e.namespaceURI==r||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t},parentElement:function(e){var t=e.parentNode;return 1==t.nodeType?t:null},getNodeIndex:u,getNodeLength:function(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}},getCommonAncestor:d,isAncestorOf:s,isOrIsAncestorOf:function(e,t){return s(e,t,!0)},getClosestAncestorIn:p,isCharacterDataNode:l,isTextOrCommentNode:function(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t},insertAfter:f,splitDataNode:function(e,t,n){if(!e||3!==e.nodeType||t<0||t>=e.length)return e;var r=e.cloneNode(!1);if(r.deleteData(0,t),e.deleteData(t,e.length-t),f(r,e),n)for(var o,i=0;o=n[i++];)o.node==e&&o.offset>t?(o.node=r,o.offset-=t):o.node==e.parentNode&&o.offset>u(e)&&++o.offset;return r},getDocument:h,getWindow:g,getIframeWindow:function(e){if(typeof e.contentWindow!=r)return e.contentWindow;if(typeof e.contentDocument!=r)return e.contentDocument.defaultView;throw c.createError("getIframeWindow: No Window object found for iframe element")},getIframeDocument:m,getBody:a,isWindow:v,getContentDocument:function(e,t,n){var r;if(e?o.isHostProperty(e,"nodeType")?r=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?m(e):h(e):v(e)&&(r=e.document):r=document,!r)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return r},getRootContainer:function(e){for(var t;t=e.parentNode;)e=t;return e},comparePoints:function(e,t,n,r){var o,i,a,s,l;if(e==n)return t===r?0:t<r?-1:1;if(o=p(n,e,!0))return t<=u(o)?-1:1;if(o=p(e,n,!0))return u(o)<r?-1:1;if(!(i=d(e,n)))throw new Error("comparePoints error: nodes have no common ancestor");if((a=e===i?i:p(e,i,!0))===(s=n===i?i:p(n,i,!0)))throw c.createError("comparePoints got to case 4 and childA and childB are the same!");for(l=i.firstChild;l;){if(l===a)return-1;if(l===s)return 1;l=l.nextSibling}},isBrokenNode:_,inspectNode:C,getComputedStyleProperty:y,createTestElement:function(e,t,n){var r=a(e),o=e.createElement("div");o.contentEditable=""+!!n,t&&(o.innerHTML=t);var i=r.firstChild;return i?r.insertBefore(o,i):r.appendChild(o),o},removeNode:function(e){return e&&e.parentNode&&e.parentNode.removeChild(e)},fragmentFromNodeChildren:function(e){for(var t,n=h(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n},createIterator:function(e){return new N(e)},DomPosition:T},n.DOMException=k}),C.createCoreModule("DomRange",["DomUtil"],function(c,e){var u=c.dom,r=c.util,t=u.DomPosition,a=c.DOMException,d=u.isCharacterDataNode,p=u.getNodeIndex,s=u.isOrIsAncestorOf,o=u.getDocument,l=u.comparePoints,f=u.splitDataNode,h=u.getClosestAncestorIn,g=u.getNodeLength,i=u.arrayContains,m=u.getRootContainer,n=c.features.crashyTextNodes,v=u.removeNode;function y(e,t){return 3!=e.nodeType&&(s(e,t.startContainer)||s(e,t.endContainer))}function b(e){return e.document||o(e.startContainer)}function _(e){return new t(e.parentNode,p(e))}function C(e){return new t(e.parentNode,p(e)+1)}function N(e,t,n){var r=11==e.nodeType?e.firstChild:e;return d(t)?n==t.length?u.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:f(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),r}function T(e,t,n){if(Y(e),Y(t),b(t)!=b(e))throw new a("WRONG_DOCUMENT_ERR");var r=l(e.startContainer,e.startOffset,t.endContainer,t.endOffset),o=l(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return n?r<=0&&0<=o:r<0&&0<o}function k(e){for(var t,n=0,r=0,o=e.length;r<o;++r)"string"==typeof(t=e[r])?n+=ge.utils.strings.getEffectiveStringLength(t):n++;return n}function E(e,t,n,r){var o,i,a,s;for(n=n||{stop:!1};a=e.next();)if(!r||!ge.utils.dom.matchesSelector(a,r))if(e.isPartiallySelectedSubtree()){if(!1===t(a))return void(n.stop=!0);if(E(s=e.getSubtreeIterator(),t,n,r),s.detach(),n.stop)return}else if(3===a.nodeType){if(!1===t(a))return void(n.stop=!0)}else for(o=u.createIterator(a);i=o.next();)if(!1===t(i))return void(n.stop=!0)}function x(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(x(t=e.getSubtreeIterator()),t.detach()):e.remove()}function S(e){for(var t,n,r=b(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(S(n)),n.detach()):e.remove(),10==t.nodeType)throw new a("HIERARCHY_REQUEST_ERR");r.appendChild(t)}return r}function w(e){return"["+(void 0===e.getName?"Range":e.getName())+"("+u.inspectNode(e.startContainer)+":"+e.startOffset+", "+u.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function O(e,t){if(this.range=e,this._current=null,this._next=null,this._first=null,this._last=null,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&d(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=d(this.sc)?h(this.sc,n,!0):this.sc.childNodes[this.so],this._last=d(this.ec)?h(this.ec,n,!0):this.ec.childNodes[this.eo-1]||this.ec)}}O.prototype={isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=s(e,this._last)?null:e.nextSibling,d(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!d(n)||n!==this.sc&&n!==this.ec?n.parentNode&&v(n):(e=n===this.sc?this.so:0)!=(t=n===this.ec?this.eo:n.length)&&n.deleteData(e,t-e)},isPartiallySelectedSubtree:function(){return y(this._current,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)(e=this.range.cloneRange()).collapse(!1);else{e=new he(b(this.range));var t=this._current,n=t,r=0,o=t,i=g(t);s(t,this.sc)&&(n=this.sc,r=this.so),s(t,this.ec)&&(o=this.ec,i=this.eo),fe(e,n,r,o,i)}return new O(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var A=[1,3,4,5,7,8,10],R=[2,9,11],I=[1,3,4,5,7,8,10,11],D=[1,3,4,5,7,8];function L(o){return function(e,t){for(var n,r=t?e:e.parentNode;r;){if(n=r.nodeType,i(o,n))return r;r=r.parentNode}return null}}var P=L([9,11]),M=L([5,6,10,12]),B=L([6,10,12]);function F(e,t){if(B(e,t))throw new a("INVALID_NODE_TYPE_ERR")}function j(e,t){if(!i(t,e.nodeType))throw new a("INVALID_NODE_TYPE_ERR")}function U(e,t){if(t<0||t>(d(e)?e.length:e.childNodes.length))throw new a("INDEX_SIZE_ERR")}function H(e,t){if(P(e,!0)!==P(t,!0))throw new a("WRONG_DOCUMENT_ERR")}function W(e){if(M(e,!0))throw new a("NO_MODIFICATION_ALLOWED_ERR")}function q(e,t){if(!e)throw new a(t)}function V(e,t){return t<=(d(e)?e.length:e.childNodes.length)}function z(e){return!!e.startContainer&&!!e.endContainer&&!(n&&(u.isBrokenNode(e.startContainer)||u.isBrokenNode(e.endContainer)))&&m(e.startContainer)==m(e.endContainer)&&V(e.startContainer,e.startOffset)&&V(e.endContainer,e.endOffset)}function Y(e){if(!z(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}var G=document.createElement("style"),$=!1;try{G.innerHTML="<b>x</b>",$=3==G.firstChild.nodeType}catch(e){}var X=(c.features.htmlParsingConforms=$)?function(e){var t=this.startContainer,n=o(t);if(!t)throw new a("INVALID_STATE_ERR");var r=null;return 1==t.nodeType?r=t:d(t)&&(r=u.parentElement(t)),(r=null===r||"HTML"==r.nodeName&&u.isHtmlNamespace(o(r).documentElement)&&u.isHtmlNamespace(r)?n.createElement("body"):r.cloneNode(!1)).innerHTML=e,u.fragmentFromNodeChildren(r)}:function(e){var t=b(this).createElement("body");return t.innerHTML=e,u.fragmentFromNodeChildren(t)};function K(e,t){Y(e);var n=e.startContainer,r=e.startOffset,o=e.endContainer,i=e.endOffset,a=n===o;d(o)&&0<i&&i<o.length&&f(o,i,t),d(n)&&0<r&&r<n.length&&(n=f(n,r,t),a?(i-=r,o=n):o==n.parentNode&&i>=p(n)&&i++,r=0),e.setStartAndEnd(n,r,o,i)}function J(e){Y(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}function Q(e,t,n,r,o){if(!n||isNaN(Number(n)))return!1;var i=e.collapsed;switch(n=Number(n),t){case"char":return 0<n?e.moveCharRight(r,n,o):e.moveCharLeft(r,-1*n,o);case"word":default:throw new Error("move by 'word' not implemented")}i&&e.collapse(r)}var Z=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ee=0,te=1,ne=2,re=3,oe=0,ie=1,ae=2,se=3;function le(e){e.START_TO_START=ee,e.START_TO_END=te,e.END_TO_END=ne,e.END_TO_START=re,e.NODE_BEFORE=oe,e.NODE_AFTER=ie,e.NODE_BEFORE_AND_AFTER=ae,e.NODE_INSIDE=se}function ce(e){le(e),le(e.prototype)}function ue(a,s){return function(){Y(this);var e,t=this.startContainer,n=this.startOffset,r=this.commonAncestorContainer,o=new O(this,!0);t!==r&&(t=(e=C(h(t,r,!0))).node,n=e.offset),E(o,W),o.reset();var i=a(o);return o.detach(),s(this,t,n,t,n),i}}function de(e,u){function t(n,r){return function(e){j(e,A),j(m(e),R);var t=(n?_:C)(e);(r?o:i)(this,t.node,t.offset)}}function o(e,t,n){var r=e.endContainer,o=e.endOffset;t===e.startContainer&&n===e.startOffset||(m(t)==m(r)&&1!=l(t,n,r,o)||(r=t,o=n),u(e,t,n,r,o))}function i(e,t,n){var r=e.startContainer,o=e.startOffset;t===e.endContainer&&n===e.endOffset||(m(t)==m(r)&&-1!=l(t,n,r,o)||(r=t,o=n),u(e,r,o,t,n))}function n(){}n.prototype=c.rangePrototype,e.prototype=new n,r.extend(e.prototype,{setStart:function(e,t){F(e,!0),U(e,t),o(this,e,t)},setEnd:function(e,t){F(e,!0),U(e,t),i(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],r=t,o=n;switch(e.length){case 3:o=e[2];break;case 4:r=e[2],o=e[3]}u(this,t,n,r,o)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:t(!0,!0),setStartAfter:t(!1,!0),setEndBefore:t(!0,!1),setEndAfter:t(!1,!1),collapse:function(e){return Y(this),e?u(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):u(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset),this},selectNodeContents:function(e){return F(e,!0),u(this,e,0,e,g(e)),this},selectNode:function(e){F(e,!1),j(e,A);var t=_(e),n=C(e);return u(this,t.node,t.offset,n.node,n.offset),this},extractContents:ue(S,u),deleteContents:ue(x,u),canSurroundContents:function(){Y(this),W(this.startContainer),W(this.endContainer);var e=new O(this,!0),t=e._first&&y(e._first,this)||e._last&&y(e._last,this);return e.detach(),!t},splitBoundaries:function(){return K(this),this},splitBoundariesPreservingPositions:function(e){return K(this,e),this},normalizeBoundaries:function(){Y(this);function e(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(s=(a=e).length,e.appendData(t.data),v(t))}function t(e){var t=e.previousSibling;if(t&&t.nodeType==e.nodeType){var n=(o=e).length;if(i=t.length,e.insertData(0,t.data),v(t),o==a)s+=i,a=o;else if(a==e.parentNode){var r=p(e);s==r?(a=e,s=n):r<s&&s--}}}var n,o=this.startContainer,i=this.startOffset,a=this.endContainer,s=this.endOffset,r=!0;if(d(a))s==a.length?e(a):0==s&&(n=a.previousSibling)&&n.nodeType==a.nodeType&&(s=n.length,o==a&&(r=!1),n.appendData(a.data),v(a),a=n);else{if(0<s){var l=a.childNodes[s-1];l&&d(l)&&e(l)}r=!this.collapsed}if(r){if(d(o))0==i?t(o):i==o.length&&(n=o.nextSibling)&&n.nodeType==o.nodeType&&(a==n&&(s+=(a=o).length),o.appendData(n.data),v(n));else if(i<o.childNodes.length){var c=o.childNodes[i];c&&d(c)&&t(c)}}else o=a,i=s;u(this,o,i,a,s)},collapseToPoint:function(e,t){F(e,!0),U(e,t),this.setStartAndEnd(e,t)}}),ce(e)}function pe(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:u.getCommonAncestor(e.startContainer,e.endContainer)}function fe(e,t,n,r,o){e.startContainer=t,e.startOffset=n,e.endContainer=r,e.endOffset=o,e.document=u.getDocument(t),pe(e)}function he(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,pe(this)}r.extend(c.rangePrototype,{moveStart:function(e,t,n){return Q(this,e,t,!0,n)},moveEnd:function(e,t,n){return Q(this,e,t,!1,n)},setRange:function(e,t,n){e?this.setStart(t,n):this.setEnd(t,n)},moveCharLeft:function(e,t,n){var r,o,i=this.collapsed;if(o=e?(r=this.startContainer,this.startOffset):(r=this.endContainer,this.endOffset),1===r.nodeType)if(r.hasChildNodes()&&0<o){var a=r.childNodes[o-1],s=ge.domUtils.getLastSelectableChild(a,n);if(!(r=s||ge.domUtils.getPreviousSelectableNode(a,n)))return!1;o=r.data.length-t}else o=-1*t;else o-=t;for(;o<0;){if(!(r=ge.domUtils.getPreviousSelectableNode(r,n)))return!1;1===r.nodeType?o++:o+=r.data.length}return i&&this.collapse(e),this.setRange(e,r,o),!0},moveCharRight:function(e,t,n){var r,o,i=this.collapsed;if(o=e?(r=this.startContainer,this.startOffset):(r=this.endContainer,this.endOffset),1===r.nodeType){var a=ge.domUtils.getNextSelectableNode(r.childNodes[Math.min(o,r.childNodes.length-1)],n);r=a||ge.domUtils.getFirstSelectableChild(ge.domUtils.getNextContainer(r,n),n),o=t}else o+=t;if(!r)return!1;var s=o-(3===r.nodeType?r.data.length:1);if(0<s){for(;0<s;){if(!(r=ge.domUtils.getFirstSelectableChild(ge.domUtils.getNextContainer(r,n),n)))return!1;if(1!==r.nodeType){if(r.data.length>=s)break;0<r.data.length&&(s-=r.data.length)}else n&&n.filter&&n.filter(r)&&--s}o=s}return i&&this.collapse(e),1===r.nodeType?this.setRange(e,r,0):this.setRange(e,r,o),!0},getHTMLContents:function(e){e=e||this.cloneContents();var t=self.env.document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML},getHTMLContentsObj:function(){return this.cloneContents()},compareBoundaryPoints:function(e,t){var n,r,o,i;Y(this),H(this.startContainer,t.startContainer);var a=e==re||e==ee?"start":"end",s=e==te||e==ee?"start":"end";return n=this[a+"Container"],r=this[a+"Offset"],o=t[s+"Container"],i=t[s+"Offset"],l(n,r,o,i)},insertNode:function(e){if(Y(this),j(e,I),W(this.startContainer),s(e,this.startContainer))throw new a("HIERARCHY_REQUEST_ERR");var t=N(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){var e,t;if(Y(this),this.collapsed)return b(this).createDocumentFragment();if(this.startContainer===this.endContainer&&d(this.startContainer))return(e=this.startContainer.cloneNode(!0)).data=e.data.slice(this.startOffset,this.endOffset),(t=b(this).createDocumentFragment()).appendChild(e),t;var n=new O(this,!0);return e=function e(t){for(var n,r,o,i=b(t.range).createDocumentFragment();r=t.next();){if(n=t.isPartiallySelectedSubtree(),r=r.cloneNode(!n),n&&(o=t.getSubtreeIterator(),r.appendChild(e(o)),o.detach()),10==r.nodeType)throw new a("HIERARCHY_REQUEST_ERR");i.appendChild(r)}return i}(n),n.detach(),e},canSurroundContents:function(){Y(this),W(this.startContainer),W(this.endContainer);var e=new O(this,!0),t=e._first&&y(e._first,this)||e._last&&y(e._last,this);return e.detach(),!t},surroundContents:function(e){if(j(e,D),!this.canSurroundContents())throw new a("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);N(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){Y(this);for(var e,t=new he(b(this)),n=Z.length;n--;)t[e=Z[n]]=this[e];return t},toString:function(){Y(this);var e=this.startContainer;if(e===this.endContainer&&d(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new O(this,!0);return E(n,function(e){3!=e.nodeType&&(4!=e.nodeType||ge.utils.isEmptyString(e.data))||t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){Y(this);var t=e.parentNode,n=p(e);if(!t)throw new a("NOT_FOUND_ERR");var r=this.comparePoint(t,n),o=this.comparePoint(t,n+1);return r<0?0<o?ae:oe:0<o?ie:se},comparePoint:function(e,t){return Y(this),q(e,"HIERARCHY_REQUEST_ERR"),H(e,this.startContainer),l(e,t,this.startContainer,this.startOffset)<0?-1:0<l(e,t,this.endContainer,this.endOffset)?1:0},createContextualFragment:X,toHtml:function(){return J(this)},intersectsNode:function(e,t){if(Y(this),m(e)!=function(e){return m(e.startContainer)}(this))return!1;var n=e.parentNode,r=p(e);if(!n)return!0;var o=l(n,r,this.endContainer,this.endOffset),i=l(n,r+1,this.startContainer,this.startOffset);return t?o<=0&&0<=i:o<0&&0<i},isPointInRange:function(e,t){return Y(this),q(e,"HIERARCHY_REQUEST_ERR"),H(e,this.startContainer),0<=l(e,t,this.startContainer,this.startOffset)&&l(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return T(this,e,!1)},intersectsOrTouchesRange:function(e){return T(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=l(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=l(this.endContainer,this.endOffset,e.endContainer,e.endOffset),r=this.cloneRange();return-1==t&&r.setStart(e.startContainer,e.startOffset),1==n&&r.setEnd(e.endContainer,e.endOffset),r}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==l(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==l(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new a("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==se},containsNodeContents:function(e){return 0<=this.comparePoint(e,0)&&this.comparePoint(e,g(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(0<n.length){t.setStart(n[0],0);var r=n.pop();return t.setEnd(r,r.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return Y(this),function(r,e,o){var i,a=Boolean(e&&e.length),s=Boolean(o);a&&(i=new RegExp("^("+e.join("|")+")$"));var l=[];return E(new O(r,!1),function(e){if((!a||i.test(e.nodeType))&&(!s||o(e))){var t=r.startContainer;if(e!=t||!d(t)||r.startOffset!=t.length){var n=r.endContainer;e==n&&d(n)&&0===r.endOffset||l.push(e)}}}),l}(this,e,t)},getDocument:function(){return b(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},collapseAt:function(e,t){if(!e)return this;if(3===e.nodeType)t?this.setStart(e,0):this.setEnd(e,e.length);else{var n=p(e);t?this.setStart(e.parentNode,n):this.setEnd(e.parentNode,n+1)}return this.collapse(t),this},collectTextParts:function(t,e){if(!z(this))return[];var n=[],r=this.startContainer,o=this.endContainer,i=this.startOffset,a=this.endOffset;if(r===o&&d(r))return 3==r.nodeType||4==r.nodeType?r.data.slice(i,a):"";var s=new O(this,!0);return E(s,function(e){if(!t||!ge.utils.dom.isDescendantOf(e,t))if(3===e.nodeType)if(e===r)n.push(0<start?e.data.slice(start):e.data);else if(e===o){if(0===a)return;n.push(a<e.length?e.data.slice(0,a):e.data)}else n.push(e.data);else t&&ge.utils.dom.matchesSelector(e,t)&&n.push(e)},null,e),s.detach(),n},getFullBookmark:function(e,t,n){if(!t)return this.getBookmark(e,!0);var r=b(this),o=c.createRange(r);e=e||u.getBody(r),o.selectNodeContents(e);var i=this.intersection(o),a=0,s=0;if(i){o.setEnd(i.startContainer,i.startOffset);var l=o.collectTextParts(t,n);a=k(l),l=i.collectTextParts(t,n),s=Math.max(a,a+k(l))}else ge.logger.debug("getFullBookmark: null intersection");return{start:a,end:s,containerNode:e,isFiltered:!0,selector:t,ignoreSelector:n,after:Boolean(0<a&&0===this.endOffset),type:"extended"}},getBookmark:function(e,t){var n=b(this),r=c.createRange(n);e=e||u.getBody(n),r.selectNodeContents(e);var o=this.intersection(r),i=0,a=0;return o&&(r.setEnd(o.startContainer,o.startOffset),a=(i=t?ge.utils.strings.getEffectiveStringLength(r.toString()):r.toString().length)+(t?ge.utils.strings.getEffectiveStringLength(o.toString()):o.toString().length)),{start:i,end:a,containerNode:e,isFiltered:Boolean(t)}},moveToBookmark:function(e,t){if(t&&e.type)return this._moveToExtendedBookmark(e,t);var n=e.containerNode;ge.logger.warn("moving to an uncollapsed bookmark");var r=0;this.setStart(n,0),this.collapse(!0);for(var o,i,a,s,l=[n],c=!1,u=!1;!u&&(o=l.pop());)if(3==o.nodeType){if(!ge.utils.strings.isEmptyString(o.data))continue;i=r+o.length,!c&&e.start>=r&&e.start<=i&&(this.setStart(o,e.start-r),c=!0),c&&e.end>=r&&e.end<=i&&(this.setEnd(o,e.end-r),u=!0),r=i}else for(a=(s=o.childNodes).length;a--;)l.push(s[a])},_getBookmarkSetter:function(e){if(e.start===e.end)return function(e){e.setStart()}},_moveToExtendedBookmark:function(e,t){if(!function(e){if(!e||!e.containerNode)return!1;if(-1<e.start||(e.start=0),-1<e.end||(e.end=0),e.end<e.start){var t=e.start;e.start=e.end,e.end=t}return!0}(e))return ge.logger.warn("move to invalid bookmark",e);var n=e.containerNode,r=0,o=Boolean(e.after&&!1!==t.after||t.after);ge.logger.debug("move to bookmark",e.start,"after: ",o),"left"===t.move&&(e.start=Math.max(0,e.start-1)),this.setStart(n,0),this.collapse(!0);var i,a,s=[{node:n,index:0}],l=0===e.end,c=0,u=0,d=null,p=0,f=e.start,h=this,g=0;function m(){return!(f<e.end)||(b=y,f=e.end,o=l=!1)}for(var v=function(){return o&&f===e.end},y=function(e,t){return h.setEnd(e,t)},b=function(e,t){h.setStart(e,t),h.setEnd(e,t)};a=s.pop();)if(3===(i=a.node).nodeType){if(l&&(b(i,0),m()))return;if((c=r+(u=e.isFiltered?ge.utils.strings.getEffectiveStringLength(i.data):i.length))<1)continue;if(r<=f&&f<=c){if(g=e.isFiltered?ge.utils.strings.getEffectiveStringIndex(i.data,f-r):f-r,b(i,g),f<e.end&&c>=e.end){if(g=e.isFiltered?ge.utils.strings.getEffectiveStringIndex(i.data,e.end-r):e.end-r,!o||g<u)return void this.setEnd(i,g);l=!0;continue}if(v())l=!0;else if(m())return}r=c,d=i}else{if(e.ignoreSelector&&ge.utils.dom.matchesSelector(i,e.ignoreSelector))continue;if(e.selector&&ge.utils.dom.matchesSelector(i,e.selector)){if(c=r+1,r<=f&&f<=c){if((l||!v())&&(b(i.parentNode,a.index+(l?0:1)),m()))return;l=!0}r=c,d=i.parentNode,p=a.index}else for(var _=i.lastChild,C=i.childNodes.length;_;_=_.previousSibling)s.push({node:_,index:--C})}d&&b(d,3===d.nodeType?d.length:p+1)},getName:function(){return"DomRange"},equals:function(e){return Boolean(e&&he.rangesEqual(this,e))},isValid:function(){return z(this)},inspect:function(){return w(this)},detach:function(){}}),de(he,fe),r.extend(he,{rangeProperties:Z,RangeIterator:O,copyComparisonConstants:ce,createPrototypeRange:de,inspect:w,toHtml:J,getRangeDocument:b,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),c.DomRange=he}),C.createCoreModule("WrappedRange",["DomRange"],function(u,d){var p,e,N=u.dom,f=u.util,T=N.DomPosition,h=u.DomRange,g=N.getBody,m=N.getContentDocument,k=N.isCharacterDataNode;if(u.features.implementsDomRange&&function(){var t,n,r=h.rangeProperties;function o(e){for(var t,n=r.length;n--;)e[t=r[n]]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}p=function(e){if(!e)throw d.createError("WrappedRange: Range must be specified");this.nativeRange=e,o(this)},h.createPrototypeRange(p,function(e,t,n,r,o){var i=e.startContainer!==t||e.startOffset!=n,a=e.endContainer!==r||e.endOffset!=o,s=!e.equals(e.nativeRange);(i||a||s)&&(e.setEnd(r,o),e.setStart(t,n))}),(t=p.prototype).selectNode=function(e){return this.nativeRange.selectNode(e),o(this),this},t.cloneContents=function(){return this.nativeRange.cloneContents()},t.surroundContents=function(e){return this.nativeRange.surroundContents(e),o(this),this},t.collapse=function(e){return this.nativeRange.collapse(e),o(this),this},t.cloneRange=function(){return this.syncToNative(),new p(this.nativeRange.cloneRange())},t.refresh=function(){return o(this),this},t.toString=function(){return this.nativeRange.toString()};var e=document.createTextNode("test");g(document).appendChild(e);var i=document.createRange();i.setStart(e,0),i.setEnd(e,0);try{i.setStart(e,1),t.setStart=function(e,t){this.nativeRange.setStart(e,t),o(this)},t.setEnd=function(e,t){this.nativeRange.setEnd(e,t),o(this)},n=function(t){return function(e){this.nativeRange[t](e),o(this)}}}catch(e){t.setStart=function(t,n){try{this.nativeRange.setStart(t,n)}catch(e){this.nativeRange.setEnd(t,n),this.nativeRange.setStart(t,n)}o(this)},t.setEnd=function(t,n){try{this.nativeRange.setEnd(t,n)}catch(e){this.nativeRange.setStart(t,n),this.nativeRange.setEnd(t,n)}o(this)},n=function(n,r){return function(t){try{this.nativeRange[n](t)}catch(e){this.nativeRange[r](t),this.nativeRange[n](t)}o(this)}}}t.setStartBefore=n("setStartBefore","setEndBefore"),t.setStartAfter=n("setStartAfter","setEndAfter"),t.setEndBefore=n("setEndBefore","setStartBefore"),t.setEndAfter=n("setEndAfter","setStartAfter"),t.selectNodeContents=function(e){this.setStartAndEnd(e,0,N.getNodeLength(e))},t.syncToNative=function(){return this.nativeRange||ge.logger.warn("synctonative: no native range"),this.nativeRange.setStart(this.startContainer,this.startOffset),this.nativeRange.setEnd(this.endContainer,this.endOffset),this},i.selectNodeContents(e),i.setEnd(e,3);var a=document.createRange();a.selectNodeContents(e),a.setEnd(e,4),a.setStart(e,2),-1==i.compareBoundaryPoints(i.START_TO_END,a)&&1==i.compareBoundaryPoints(i.END_TO_START,a)?t.compareBoundaryPoints=function(e,t){return e==(t=t.nativeRange||t).START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:t.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var s=document.createElement("div");s.innerHTML="123";var l=s.firstChild,c=g(document);c.appendChild(s),i.setStart(l,1),i.setEnd(l,2),i.deleteContents(),"13"==l.data&&(t.deleteContents=function(){this.nativeRange.deleteContents(),o(this)},t.extractContents=function(){var e=this.nativeRange.extractContents();return o(this),e}),c.removeChild(s),c=null,f.isHostMethod(i,"createContextualFragment")&&(t.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),g(document).removeChild(e),t.getName=function(){return"WrappedRange"},u.WrappedRange=p,u.createNativeRange=function(e){return(e=m(e,d,"createNativeRange")).createRange()}}(),u.features.implementsTextRange){var o=function(e,t,n,r,o){var i=e.duplicate();i.collapse(n);var a=i.parentElement();if(N.isOrIsAncestorOf(t,a)||(a=t),!a.canHaveHTML){var s=new T(a.parentNode,N.getNodeIndex(a));return{boundaryPosition:s,nodeInfo:{nodeIndex:s.offset,containerElement:s.node}}}var l=N.getDocument(a).createElement("span");l.parentNode&&N.removeNode(l);for(var c,u,d,p,f,h=n?"StartToStart":"StartToEnd",g=o&&o.containerElement==a?o.nodeIndex:0,m=a.childNodes.length,v=m,y=v;y==m?a.appendChild(l):a.insertBefore(l,a.childNodes[y]),i.moveToElementText(l),0!=(c=i.compareEndPoints(h,e))&&g!=v;){if(-1==c){if(v==g+1)break;g=y}else v=v==g+1?g:y;y=Math.floor((g+v)/2),a.removeChild(l)}if(f=l.nextSibling,-1==c&&f&&k(f)){var b;if(i.setEndPoint(n?"EndToStart":"EndToEnd",e),/[\r\n]/.test(f.data)){var _=i.duplicate(),C=_.text.replace(/\r\n/g,"\r").length;for(b=_.moveStart("character",C);-1==(c=_.compareEndPoints("StartToEnd",_));)b++,_.moveStart("character",1)}else b=i.text.length;p=new T(f,b)}else u=(r||!n)&&l.previousSibling,p=(d=(r||n)&&l.nextSibling)&&k(d)?new T(d,0):u&&k(u)?new T(u,u.data.length):new T(a,N.getNodeIndex(l));return N.removeNode(l),{boundaryPosition:p,nodeInfo:{nodeIndex:y,containerElement:a}}},i=function(e,t){var n,r,o,i,a=e.offset,s=N.getDocument(e.node),l=g(s).createTextRange(),c=k(e.node);return r=c?(n=e.node).parentNode:(n=a<(i=e.node.childNodes).length?i[a]:null,e.node),(o=s.createElement("span")).innerHTML="&#feff;",n?r.insertBefore(o,n):r.appendChild(o),l.moveToElementText(o),l.collapse(!t),r.removeChild(o),c&&l[t?"moveStart":"moveEnd"]("character",a),l};((e=function(e){this.textRange=e,this.refresh()}).prototype=new h(document)).refresh=function(){var e,t,n,r=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var r=n.parentElement();(n=e.duplicate()).collapse(!1);var o=n.parentElement(),i=r==o?r:N.getCommonAncestor(r,o);return i==t?i:N.getCommonAncestor(t,i)}(this.textRange);t=function(e){return 0==e.compareEndPoints("StartToEnd",e)}(this.textRange)?e=o(this.textRange,r,!0,!0).boundaryPosition:(e=(n=o(this.textRange,r,!0,!1)).boundaryPosition,o(this.textRange,r,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},e.prototype.getName=function(){return"WrappedTextRange"},h.copyComparisonConstants(e);var t=function(e){if(e.collapsed)return i(new T(e.startContainer,e.startOffset),!0);var t=i(new T(e.startContainer,e.startOffset),!0),n=i(new T(e.endContainer,e.endOffset),!1),r=g(h.getRangeDocument(e)).createTextRange();return r.setEndPoint("StartToStart",t),r.setEndPoint("EndToEnd",n),r};if(e.rangeToTextRange=t,e.prototype.toTextRange=function(){return t(this)},u.WrappedTextRange=e,!u.features.implementsDomRange||u.config.preferTextRange){var n=Function("return this;")();void 0===n.Range&&(n.Range=e),u.createNativeRange=function(e){return e=m(e,d,"createNativeRange"),g(e).createTextRange()},u.WrappedRange=e}}u.createRange=function(e){return e=m(e,d,"createRange"),new u.WrappedRange(u.createNativeRange(e))},u.createRangyRange=function(e){return e=m(e,d,"createRangyRange"),new h(e)},f.createAliasForDeprecatedMethod(u,"createIframeRange","createRange"),f.createAliasForDeprecatedMethod(u,"createIframeRangyRange","createRangyRange"),u.addShimListener(function(e){var t=e.document;void 0===t.createRange&&(t.createRange=function(){return u.createRange(t)}),t=e=null})}),C.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(d,l){d.config.checkSelectionRanges=!0;var o,i,e="boolean",t="number",p=d.dom,n=d.util,r=n.isHostMethod,s=d.DomRange,a=d.WrappedRange,c=d.DOMException,u=p.DomPosition,f=d.features,h="Control",g=p.getDocument,m=p.getBody,v=s.rangesEqual;function y(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function b(e,t){if(e){if(p.isWindow(e))return e;if(e instanceof z)return e.win;var n=p.getContentDocument(e,l,t);return p.getWindow(n)}return window}function _(e){return b(e,"getDocSelection").document.selection}function C(e){var t=!1;return e.anchorNode&&(t=1==p.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}var N=r(window,"getSelection"),T=n.isHostObject(document,"selection");f.implementsWinGetSelection=N;var k=(f.implementsDocSelection=T)&&(!N||d.config.preferTextRange);if(k)o=_,d.isSelectionValid=function(e){var t=b(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||g(n.createRange().parentElement())==t};else{if(!N)return l.fail("Neither document.selection or window.getSelection() detected."),!1;o=function(e){return b(e,"getWinSelection").getSelection()},d.isSelectionValid=function(){return!0}}var E=(d.getNativeSelection=o)();if(!E)return l.fail("Native selection was null (possibly issue 138?)"),!1;var x=d.createNativeRange(document),S=m(document),w=n.areHostProperties(E,["anchorNode","focusNode","anchorOffset","focusOffset"]);f.selectionHasAnchorAndFocus=w;var O=r(E,"extend");f.selectionHasExtend=O;var A=typeof E.rangeCount==t;f.selectionHasRangeCount=A;var R=!1,I=!0,D=O?function(e,t){var n=s.getRangeDocument(t),r=d.createRange(n);r.collapseToPoint(t.endContainer,t.endOffset),e.addRange(j(r)),e.extend(t.startContainer,t.startOffset)}:null;n.areHostMethods(E,["addRange","getRangeAt","removeAllRanges"])&&typeof E.rangeCount==t&&f.implementsDomRange&&function(){var e=window.getSelection();if(e){for(var t=e.rangeCount,n=1<t,r=[],o=C(e),i=0;i<t;++i)r[i]=e.getRangeAt(i);var a=p.createTestElement(document,"",!1),s=a.appendChild(document.createTextNode("   ")),l=document.createRange();if(l.setStart(s,1),l.collapse(!0),e.removeAllRanges(),e.addRange(l),I=1==e.rangeCount,e.removeAllRanges(),!n){var c=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(c&&36<=parseInt(c[1]))R=!1;else{var u=l.cloneRange();l.setStart(s,0),u.setEnd(s,3),u.setStart(s,2),e.addRange(l),e.addRange(u),R=2==e.rangeCount}}for(p.removeNode(a),e.removeAllRanges(),i=0;i<t;++i)0==i&&o?D?D(e,r[i]):(d.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),e.addRange(r[i])):e.addRange(r[i])}}(),f.selectionSupportsMultipleRanges=R,f.collapsedNonEditableSelectionsSupported=I;var L,P,M=!1;function B(e,t,n){var r=n?"end":"start",o=n?"start":"end";e.anchorNode=t[r+"Container"],e.anchorOffset=t[r+"Offset"],e.focusNode=t[o+"Container"],e.focusOffset=t[o+"Offset"]}function F(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges=e._ranges||[],e._ranges.length=0}function j(e){var t;return e instanceof s?((t=d.createNativeRange(e.getDocument())).setEnd(e.endContainer,e.endOffset),t.setStart(e.startContainer,e.startOffset)):e instanceof a?t=e.nativeRange:f.implementsDomRange&&e instanceof p.getWindow(e.startContainer).Range&&(t=e),t}function U(e){var t=e.getNodes();if(!function(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;t<n;++t)if(!p.isAncestorOf(e[0],e[t]))return!1;return!0}(t))throw l.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return t[0]}function H(e){return!!e&&void 0!==e.text}function W(e,t){var n=new a(t);e._ranges=[n],B(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function q(e){if(e._ranges.length=0,"None"==e.docSelection.type)F(e);else{var t=e.docSelection.createRange();if(H(t))W(e,t);else{e.rangeCount=t.length;for(var n,r=g(t.item(0)),o=0;o<e.rangeCount;++o)(n=d.createRange(r)).selectNode(t.item(o)),e._ranges.push(n);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,B(e,e._ranges[e.rangeCount-1],!1)}}}function V(e,t){for(var n=e.docSelection.createRange(),r=U(t),o=g(n.item(0)),i=m(o).createControlRange(),a=0,s=n.length;a<s;++a)i.add(n.item(a));try{i.add(r)}catch(e){throw l.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}i.select(),q(e)}function z(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function Y(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}S&&r(S,"createControlRange")&&(L=S.createControlRange(),n.areHostProperties(L,["item","add"])&&(M=!0)),f.implementsControlRange=M,i=w?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed},r(E,"getRangeAt")?P=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:w&&(P=function(e){var t=g(e.anchorNode),n=d.createRange(t);return n.setStartAndEnd(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),n.collapsed!==this.isCollapsed&&n.setStartAndEnd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset),n}),z.prototype=d.selectionPrototype;var G=[];function $(e,t){for(var n,r,o=G.length;o--;)if(r=(n=G[o]).selection,"deleteAll"==t)Y(r);else if(n.win==e)return"delete"==t?(G.splice(o,1),!0):r;return"deleteAll"==t&&(G.length=0),null}function X(e){if(e&&e instanceof z)return e.refresh(),e;var t=$(e=b(e,"getNativeSelection")),n=o(e),r=T?_(e):null;return t?(t.nativeSelection=n,t.docSelection=r,t.refresh()):(t=new z(n,r,e),G.push({win:e,selection:t})),t}d.getSelection=X,n.createAliasForDeprecatedMethod(d,"getIframeSelection","getSelection");var K,J=z.prototype;function Q(e,t){for(var n,r=g(t[0].startContainer),o=m(r).createControlRange(),i=0,a=t.length;i<a;++i){n=U(t[i]);try{o.add(n)}catch(e){throw l.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}o.select(),q(e)}if(!k&&w&&n.areHostMethods(E,["removeAllRanges","addRange"])){J.removeAllRanges=function(){try{this.nativeSelection.removeAllRanges()}catch(e){}F(this)};var Z=function(e,t){D(e.nativeSelection,t),e.refresh()};J.addRange=A?function(t,e){if(M&&T&&this.docSelection.type==h)V(this,t);else if(y(e)&&O)Z(this,t);else{var n;n=R?this.rangeCount:(this.removeAllRanges(),0);var r=j(t).cloneRange();try{this.nativeSelection.addRange(r)}catch(e){console.error(e,t)}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==n+1){if(d.config.checkSelectionRanges){var o=P(this.nativeSelection,this.rangeCount-1);o&&!v(o,t)&&(t=new a(o))}this._ranges[this.rangeCount-1]=t,B(this,t,te(this.nativeSelection)),this.isCollapsed=i(this)}else this.refresh()}}:function(e,t){y(t)&&O?Z(this,e):(this.nativeSelection.addRange(j(e)),this.refresh())},J.setRanges=function(e){if(M&&T&&1<e.length)Q(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;t<n;++t)this.addRange(e[t])}}}else{if(!(r(E,"empty")&&r(x,"select")&&M&&k))return l.fail("No means of selecting a Range or TextRange was found"),!1;J.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=g(this.anchorNode);else if(this.docSelection.type==h){var t=this.docSelection.createRange();t.length&&(e=g(t.item(0)))}if(e)m(e).createTextRange().select(),this.docSelection.empty()}}catch(e){}F(this)},J.addRange=function(e){this.docSelection.type==h?V(this,e):(d.WrappedTextRange.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,B(this,e,!1))},J.setRanges=function(e){this.removeAllRanges();var t=e.length;1<t?Q(this,e):t&&this.addRange(e[0])}}if(J.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new c("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()},k)K=function(e){var t;d.isSelectionValid(e.win)?t=e.docSelection.createRange():(t=m(e.win.document).createTextRange()).collapse(!0),e.docSelection.type==h?q(e):H(t)?W(e,t):F(e)};else if(r(E,"getRangeAt")&&typeof E.rangeCount==t)K=function(e){if(M&&T&&e.docSelection.type==h)q(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection&&e.nativeSelection.rangeCount||0,e.rangeCount){for(var t=0,n=e.rangeCount;t<n;++t)e._ranges[t]=new d.WrappedRange(e.nativeSelection.getRangeAt(t));B(e,e._ranges[e.rangeCount-1],te(e.nativeSelection)),e.isCollapsed=i(e)}else F(e)};else{if(!w||typeof E.isCollapsed!=e||typeof x.collapsed!=e||!f.implementsDomRange)return l.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;K=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=P(n,0),e._ranges=[t],e.rangeCount=1,function(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}(e),e.isCollapsed=i(e)):F(e)}}J.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(K(this),e){var o=t.length;if(o!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=r)return!0;for(;o--;)if(!v(t[o],this._ranges[o]))return!0;return!1}};function ee(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var r=0,o=n.length;r<o;++r)v(t,n[r])||e.addRange(n[r]);e.rangeCount||F(e)}var te;function ne(e,t){if(e.win.document!=g(t))throw new c("WRONG_DOCUMENT_ERR")}function re(r){return function(e,t){var n;this.rangeCount?(n=this.getRangeAt(0))["set"+(r?"Start":"End")](e,t):(n=d.createRange(this.win.document)).setStartAndEnd(e,t),this.setSingleRange(n,this.isBackward())}}function oe(e){var t=[],n=new u(e.anchorNode,e.anchorOffset),r=new u(e.focusNode,e.focusOffset),o="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(var i=0,a=e.rangeCount;i<a;++i)t[i]=s.inspect(e.getRangeAt(i));return"["+o+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"}J.removeRange=M&&T?function(e){if(this.docSelection.type==h){for(var t=this.docSelection.createRange(),n=U(e),r=g(t.item(0)),o=m(r).createControlRange(),i=!1,a=0,s=t.length;a<s;++a)t.item(a)!==n||i?o.add(t.item(a)):i=!0;o.select(),q(this)}else ee(this,e)}:function(e){ee(this,e)},!k&&w&&f.implementsDomRange?(te=C,J.isBackward=function(){return te(this)}):te=J.isBackward=function(){return!1},J.isBackwards=J.isBackward,J.toString=function(){for(var e=[],t=0,n=this.rangeCount;t<n;++t)e[t]=""+this._ranges[t];return e.join("")},J.collapse=function(e,t){ne(this,e);var n=d.createRange(e);n.collapseToPoint(e,t),this.setSingleRange(n),this.isCollapsed=!0},J.collapseToStart=function(){if(!this.rangeCount)throw new c("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},J.collapseToEnd=function(){if(!this.rangeCount)throw new c("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},J.selectAllChildren=function(e){ne(this,e);var t=d.createRange(e);t.selectNodeContents(e),this.setSingleRange(t)},J.deleteFromDocument=function(){if(M&&T&&this.docSelection.type==h){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),p.removeNode(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var r=0,o=n.length;r<o;++r)n[r].deleteContents();this.addRange(n[o-1])}}},J.eachRange=function(e,t){for(var n=0,r=this._ranges.length;n<r;++n)if(e(this.getRangeAt(n)))return t},J.getAllRanges=function(){var t=[];return this.eachRange(function(e){t.push(e)}),t},J.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},J.callMethodOnEachRange=function(t,n){var r=[];return this.eachRange(function(e){r.push(e[t].apply(e,n||[]))}),r},J.setStart=re(!0),J.setEnd=re(!1),d.rangePrototype.select=function(e){X(this.getDocument()).setSingleRange(this,e)},J.changeEachRange=function(t){var n=[],e=this.isBackward();this.eachRange(function(e){t(e),n.push(e)}),this.removeAllRanges(),e&&1==n.length?this.addRange(n[0],"backward"):this.setRanges(n)},J.containsNode=function(t,n){return this.eachRange(function(e){return e.containsNode(t,n)},!0)||!1},J.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},J.moveToBookmark=function(e){for(var t,n,r=[],o=0;t=e.rangeBookmarks[o++];)(n=d.createRange(this.win)).moveToBookmark(t),r.push(n);e.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},J.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},J.restoreRanges=function(e){this.removeAllRanges();for(var t,n=0;t=e.ranges[n];++n)this.addRange(t,e.backward&&0==n)},J.toHtml=function(){var t=[];return this.eachRange(function(e){t.push(s.toHtml(e))}),t.join("")},f.implementsTextRange&&(J.getNativeTextRange=function(){var e;if(e=this.docSelection){var t=e.createRange();if(H(t))return t;throw l.createError("getNativeTextRange: selection is a control selection")}if(0<this.rangeCount)return d.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw l.createError("getNativeTextRange: selection contains no range")}),J.getName=function(){return"WrappedSelection"},J.inspect=function(){return oe(this)},J.detach=function(){$(this.win,"delete"),Y(this)},J.detachAll=function(){$(null,"deleteAll")},z.detachAll=function(){$(null,"deleteAll")},z.inspect=oe,z.isDirectionBackward=y,d.Selection=z,d.selectionPrototype=J,d.addShimListener(function(e){void 0===e.getSelection&&(e.getSelection=function(){return X(e)}),e=null})});function L(e){P||(P=!0,!C.initialized&&C.config.autoInitialize&&S())}var P=!1;return b&&("complete"==document.readyState?L():(u(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",L,!1),v(window,"load",L))),C.isInitialized=function(e){var t;for(var n in e&&!P&&L(),this.modules)if(!(t=this.modules[n])||!t.initialized||!t.supported)return ge.logger.debug("rangy NOT initialized: module",n,"initialized",t.initialized,"supported",t.supported),!1;return!0},C},(t=window.FLITE)||console.error("rangy: root is undefined"),t.rangy=e(t),t.logger.scheduleDump(),function(e){var U=e.$;function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}for(var t=["Edge","Trident","Firefox"],n=0,r=0;r<t.length;r+=1)if(0<=navigator.userAgent.indexOf(t[r])){n=1;break}var H=Boolean(window.Promise)?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},n))}};function i(e){return e&&"[object Function]"==={}.toString.call(e)}function C(e,t){if(1!==e.nodeType)return[];var n=V(e).defaultView.getComputedStyle(e,null);return t?n[t]:n}function h(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function g(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return V(e).body;case"#document":return e.body}var t=C(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:g(h(e))}var o=Boolean(window.MSInputMethodContext&&document.documentMode),a=/MSIE 10/.test(navigator.userAgent);function m(e){return 11===e?o:10===e?a:o||a}function N(e){if(!e)return document.documentElement;for(var t=V(e),n=m(10)?t.body:null,r=e.offsetParent||null;r===n&&e.nextElementSibling;)r=(e=e.nextElementSibling).offsetParent;var o=r&&r.nodeName;return o&&"BODY"!==o&&"HTML"!==o?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===C(r,"position")?N(r):r:V(e).documentElement}function c(e){return null!==e.parentNode?c(e.parentNode):e}function v(e,t){var n=V(e||t);if(!(e&&e.nodeType&&t&&t.nodeType))return n.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,o=r?e:t,i=r?t:e,a=n.createRange();a.setStart(o,0),a.setEnd(i,0);var s=a.commonAncestorContainer;if(e!==s&&t!==s||o.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||N(e.firstElementChild)===e)}(s)?s:N(s);var l=c(e);return l.host?v(l.host,t):v(e,c(t).host)}function y(e,t){var n="top"===(1<arguments.length&&void 0!==t?t:"top")?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"!==r&&"HTML"!==r)return e[n];var o=V(e),i=o.documentElement;return(o.scrollingElement||i)[n]}function d(e,t){var n="x"===t?"Left":"Top",r="Left"==n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function s(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],m(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function b(e){var t=e.body,n=e.documentElement,r=m(10)&&getComputedStyle(n);return{height:s("Height",t,n,r),width:s("Width",t,n,r)}}var W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function T(e){return W({},e,{right:e.left+e.width,bottom:e.top+e.height})}function k(e){var t={};try{if(m(10)){t=e.getBoundingClientRect();var n=y(e,"top"),r=y(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?b(V(e)):{},a=i.width||e.clientWidth||o.right-o.left,s=i.height||e.clientHeight||o.bottom-o.top,l=e.offsetWidth-a,c=e.offsetHeight-s;if(l||c){var u=C(e);l-=d(u,"x"),c-=d(u,"y"),o.width-=l,o.height-=c}return T(o)}function E(e,t,n){var r=2<arguments.length&&void 0!==n&&n,o=m(10),i="HTML"===t.nodeName,a=k(e),s=k(t),l=g(e),c=C(t),u=parseFloat(c.borderTopWidth,10),d=parseFloat(c.borderLeftWidth,10);r&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=T({top:a.top-s.top-u,left:a.left-s.left-d,width:a.width,height:a.height});if(p.marginTop=0,p.marginLeft=0,!o&&i){var f=parseFloat(c.marginTop,10),h=parseFloat(c.marginLeft,10);p.top-=u-f,p.bottom-=u-f,p.left-=d-h,p.right-=d-h,p.marginTop=f,p.marginLeft=h}return(o&&!r?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(p=function(e,t,n){var r=2<arguments.length&&void 0!==n&&n,o=y(t,"top"),i=y(t,"left"),a=r?-1:1;return e.top+=o*a,e.bottom+=o*a,e.left+=i*a,e.right+=i*a,e}(p,t)),p}function x(e){var t=V(e);if(!e||!e.parentElement||m())return t.documentElement;for(var n=e.parentElement;n&&"none"===C(n,"transform");)n=n.parentElement;return n||t.documentElement}function S(e,t,n,r,o){var i=4<arguments.length&&void 0!==o&&o,a={top:0,left:0},s=i?x(e):v(e,t);if("viewport"===r)a=function(e,t){var n=V(e).defaultView,r=1<arguments.length&&void 0!==t&&t,o=V(e).documentElement,i=E(e,o),a=Math.max(o.clientWidth,n.innerWidth||0),s=Math.max(o.clientHeight,n.innerHeight||0),l=r?0:y(o),c=r?0:y(o,"left");return T({top:l-i.top+i.marginTop,left:c-i.left+i.marginLeft,width:a,height:s})}(s,i);else{var l=void 0;"scrollParent"===r?"BODY"===(l=g(h(t))).nodeName&&(l=V(e).documentElement):l="window"===r?V(e).documentElement:r;var c=E(l,s,i);if("HTML"!==l.nodeName||function e(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===C(t,"position"))return!0;var r=h(t);return!!r&&e(r)}(s))a=c;else{var u=b(V(e)),d=u.height,p=u.width;a.top+=c.top-c.marginTop,a.bottom=d+c.top,a.left+=c.left-c.marginLeft,a.right=p+c.left}}var f="number"==typeof(n=n||0);return a.left+=f?n:n.left||0,a.top+=f?n:n.top||0,a.right-=f?n:n.right||0,a.bottom-=f?n:n.bottom||0,a}function l(e,t,r,n,o,i){var a=5<arguments.length&&void 0!==i?i:0;if(-1===e.indexOf("auto"))return e;var s=S(r,n,a,o),l={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},c=Object.keys(l).map(function(e){return W({key:e},l[e],{area:function(e){return e.width*e.height}(l[e])})}).sort(function(e,t){return t.area-e.area}),u=c.filter(function(e){var t=e.width,n=e.height;return t>=r.clientWidth&&n>=r.clientHeight}),d=0<u.length?u[0].key:c[0].key,p=e.split("-")[1];return d+(p?"-"+p:"")}function u(e,t,n,r){var o=3<arguments.length&&void 0!==r?r:null;return E(n,o?x(t):v(t,n),o)}function w(e){var t=V(e).defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function O(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function A(e,t,n){n=n.split("-")[0];var r=w(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",l=i?"height":"width",c=i?"width":"height";return o[a]=t[a]+t[l]/2-r[l]/2,o[s]=n===s?t[s]-r[c]:t[O(s)],o}function R(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function I(e,n,t){return(void 0===t?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=R(e,function(e){return e[t]===n});return e.indexOf(r)}(e,"name",t))).forEach(function(e){e.function;var t=e.function||e.fn;e.enabled&&i(t)&&(n.offsets.popper=T(n.offsets.popper),n.offsets.reference=T(n.offsets.reference),n=t(n,e))}),n}function p(e,n){return e.some(function(e){var t=e.name;return e.enabled&&t===n})}function D(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==document.body.style[i])return i}return null}function q(e){return V(e).defaultView}function V(e){return e?e.ownerDocument?e.ownerDocument:e.documentElement||"#document"===e.nodeName?e:window.document:window.document}function f(e,t,n,r){n.updateBound=r,q(e).addEventListener("resize",n.updateBound,{passive:!0});var o=g(e);return function e(t,n,r,o){var i="BODY"===t.nodeName,a=i?V(t).defaultView:t;a.addEventListener(n,r,{passive:!0}),i||e(g(a.parentNode),n,r,o),o.push(a)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function L(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function(e,t){return q(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}(this.reference,this.state))}function P(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function M(n,r){Object.keys(r).forEach(function(e){var t="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&P(r[e])&&(t="px"),n.style[e]=r[e]+t})}function B(e,t){function n(e){return e}var r=e.offsets,o=r.popper,i=r.reference,a=Math.round,s=Math.floor,l=a(i.width),c=a(o.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),p=t?u||d||l%2==c%2?a:s:n,f=t?a:n;return{left:p(l%2==1&&c%2==1&&!d&&t?o.left-1:o.left),top:f(o.top),bottom:f(o.bottom),right:p(o.right)}}var F=/Firefox/i.test(navigator.userAgent);function j(e,t,n){var r=R(e,function(e){return e.name===t}),o=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!o);return o}var z=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Y=z.slice(3);function G(e,t){var n=1<arguments.length&&void 0!==t&&t,r=Y.indexOf(e),o=Y.slice(r+1).concat(Y.slice(0,r));return n?o.reverse():o}var $="flip",X="clockwise",K="counterclockwise";function J(e,o,i,t){var a=[0,0],s=-1!==["right","left"].indexOf(t),n=e.split(/(\+|\-)/).map(function(e){return e.trim()}),r=n.indexOf(R(n,function(e){return-1!==e.search(/,|\s/)}));n[r]&&n[r].indexOf(",");var l=/\s*,\s*|\s+/,c=-1!==r?[n.slice(0,r).concat([n[r].split(l)[0]]),[n[r].split(l)[1]].concat(n.slice(r+1))]:[n];return(c=c.map(function(e,t){var n=(1===t?!s:s)?"height":"width",r=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,r=!0,e):r?(e[e.length-1]+=t,r=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;var s=instance.doc,l=q(instance.reference);if(0!==a.indexOf("%"))return"vh"!==a&&"vw"!==a?i:("vh"===a?Math.max(s.documentElement.clientHeight,l.innerHeight||0):Math.max(s.documentElement.clientWidth,l.innerWidth||0))/100*i;var c=void 0;switch(a){case"%p":c=n;break;case"%":case"%r":default:c=r}return T(c)[t]/100*i}(e,n,o,i)})})).forEach(function(n,r){n.forEach(function(e,t){P(e)&&(a[r]+=e*("-"===n[t-1]?-1:1))})}),a}var Q={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:_({},l,i[l]),end:_({},l,i[l]+i[c]-a[c])};e.offsets.popper=W({},a,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,a=o.reference,s=r.split("-")[0],l=void 0;return l=P(+n)?[+n,0]:J(n,i,a,s),"left"===s?(i.top+=l[0],i.left-=l[1]):"right"===s?(i.top+=l[0],i.left+=l[1]):"top"===s?(i.left+=l[0],i.top-=l[1]):"bottom"===s&&(i.left+=l[0],i.top+=l[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,r){var t=r.boundariesElement||N(e.instance.popper);e.instance.reference===t&&(t=N(t));var n=D("transform"),o=e.instance.popper.style,i=o.top,a=o.left,s=o[n];o.top="",o.left="",o[n]="";var l=S(e.instance.popper,e.instance.reference,r.padding,t,e.positionFixed);o.top=i,o.left=a,o[n]=s,r.boundaries=l;var c=r.priority,u=e.offsets.popper,d={primary:function(e){var t=u[e];return u[e]<l[e]&&!r.escapeWithReference&&(t=Math.max(u[e],l[e])),_({},e,t)},secondary:function(e){var t="right"===e?"left":"top",n=u[t];return u[e]>l[e]&&!r.escapeWithReference&&(n=Math.min(u[t],l[e]-("right"===e?u.width:u.height))),_({},t,n)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=W({},u,d[t](e))}),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<i(r[l])&&(e.offsets.popper[l]=i(r[l])-n[c]),n[l]>i(r[s])&&(e.offsets.popper[l]=i(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!j(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return e;var o=e.placement.split("-")[0],i=e.offsets,a=i.popper,s=i.reference,l=-1!==["left","right"].indexOf(o),c=l?"height":"width",u=l?"Top":"Left",d=u.toLowerCase(),p=l?"left":"top",f=l?"bottom":"right",h=w(r)[c];s[f]-h<a[d]&&(e.offsets.popper[d]-=a[d]-(s[f]-h)),s[d]+h>a[f]&&(e.offsets.popper[d]+=s[d]+h-a[f]),e.offsets.popper=T(e.offsets.popper);var g=s[d]+s[c]/2-h/2,m=C(e.instance.popper),v=parseFloat(m["margin"+u],10),y=parseFloat(m["border"+u+"Width"],10),b=g-e.offsets.popper[d]-v-y;return b=Math.max(Math.min(a[c]-h,b),0),e.arrowElement=r,e.offsets.arrow=(_(n={},d,Math.round(b)),_(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(f,h){if(p(f.instance.modifiers,"inner"))return f;if(f.flipped&&f.placement===f.originalPlacement)return f;var g=S(f.instance.popper,f.instance.reference,h.padding,h.boundariesElement,f.positionFixed),m=f.placement.split("-")[0],v=O(m),y=f.placement.split("-")[1]||"",b=[];switch(h.behavior){case $:b=[m,v];break;case X:b=G(m);break;case K:b=G(m,!0);break;default:b=h.behavior}return b.forEach(function(e,t){if(m!==e||b.length===t+1)return f;m=f.placement.split("-")[0],v=O(m);var n=f.offsets.popper,r=f.offsets.reference,o=Math.floor,i="left"===m&&o(n.right)>o(r.left)||"right"===m&&o(n.left)<o(r.right)||"top"===m&&o(n.bottom)>o(r.top)||"bottom"===m&&o(n.top)<o(r.bottom),a=o(n.left)<o(g.left),s=o(n.right)>o(g.right),l=o(n.top)<o(g.top),c=o(n.bottom)>o(g.bottom),u="left"===m&&a||"right"===m&&s||"top"===m&&l||"bottom"===m&&c,d=-1!==["top","bottom"].indexOf(m),p=!!h.flipVariations&&(d&&"start"===y&&a||d&&"end"===y&&s||!d&&"start"===y&&l||!d&&"end"===y&&c);(i||u||p)&&(f.flipped=!0,(i||u)&&(m=b[t+1]),p&&(y=function(e){return"end"===e?"start":"start"===e?"end":e}(y)),f.placement=m+(y?"-"+y:""),f.offsets.popper=W({},f.offsets.popper,A(f.instance.popper,f.offsets.reference,f.placement)),f=I(f.instance.modifiers,f,"flip"))}),f},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(s?o[a?"width":"height"]:0),e.placement=O(t),e.offsets.popper=T(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!j(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=R(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=q(e.instance.reference),i=e.offsets.popper,a=R(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration,s=void 0!==a?a:t.gpuAcceleration,l=N(e.instance.popper),c=k(l),u={position:i.position},d=B(e,o.devicePixelRatio<2||!F),p="bottom"===n?"top":"bottom",f="right"===r?"left":"right",h=D("transform"),g=void 0,m=void 0;if(m="bottom"==p?"HTML"===l.nodeName?-l.clientHeight+d.bottom:-c.height+d.bottom:d.top,g="right"==f?"HTML"===l.nodeName?-l.clientWidth+d.right:-c.width+d.right:d.left,s&&h)u[h]="translate3d("+g+"px, "+m+"px, 0)",u[p]=0,u[f]=0,u.willChange="transform";else{var v="bottom"==p?-1:1,y="right"==f?-1:1;u[p]=m*v,u[f]=g*y,u.willChange=p+", "+f}var b={"x-placement":e.placement};return e.attributes=W({},b,e.attributes),e.styles=W({},u,e.styles),e.arrowStyles=W({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return M(e.instance.popper,e.styles),function(t,n){Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})}(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&M(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=u(o,t,e,n.positionFixed),a=l(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),M(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},Z=function(e,t,n){var r=this;n=n||{},this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=H(this.update.bind(this)),this.options=W({},Z.Defaults,n),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(W({},Z.Defaults.modifiers,n.modifiers)).forEach(function(e){r.options.modifiers[e]=W({},Z.Defaults.modifiers[e]||{},n.modifiers?n.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return W({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&i(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o};Z.prototype={update:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=u(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=l(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=A(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=I(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)},destroy:function(){return function(){return this.state.isDestroyed=!0,p(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[D("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)},enableEventListeners:function(){return function(){this.state.eventsEnabled||(this.state=f(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)},disableEventListeners:function(){return L.call(this)}},Z.placements=z,Z.Defaults=Q,Z.hasOwnProperty("default")&&(Z=Z.default);var ee='.tippy-iOS{cursor:pointer!important}.tippy-notransition{transition:none}.tippy-popper{transition-timing-function:cubic-bezier(.165,.84,.44,1);max-width:calc(100% - 8px);pointer-events:none;outline:0}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-7px;bottom:-6.5px;-webkit-transform-origin:50% 0;transform-origin:50% 0;margin:0 3px}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;bottom:-7px;margin:0 3px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 25%;transform-origin:0 25%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%)}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%,-45%);transform:scale(.2) translate(-50%,-45%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(-10px) rotateX(0);transform:perspective(700px) translateY(-10px) rotateX(0)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) translateY(0) rotateX(60deg);transform:perspective(700px) translateY(0) rotateX(60deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=top] [data-animation=scale]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(-10px) scale(1);transform:translateY(-10px) scale(1)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px) scale(.5);transform:translateY(-10px) scale(.5)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-7px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;margin:0 3px}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(0);transform:rotate(0)}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;top:-7px;margin:0 3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%)}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%);transform:scale(.2) translate(-50%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(10px) rotateX(0);transform:perspective(700px) translateY(10px) rotateX(0)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) translateY(0) rotateX(-60deg);transform:perspective(700px) translateY(0) rotateX(-60deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=bottom] [data-animation=scale]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(10px) scale(1);transform:translateY(10px) scale(1)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px) scale(.5);transform:translateY(10px) scale(.5)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-12px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%;margin:3px 0}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-75%,-50%);transform:scale(.2) translate(-75%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(-10px) rotateY(0);transform:perspective(700px) translateX(-10px) rotateY(0)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) translateX(0) rotateY(-60deg);transform:perspective(700px) translateX(0) rotateY(-60deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=left] [data-animation=scale]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(-10px) scale(1);transform:translateX(-10px) scale(1)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px) scale(.5);transform:translateX(-10px) scale(.5)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-12px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%;margin:3px 0}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-25%,-50%);transform:scale(.2) translate(-25%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(10px) rotateY(0);transform:perspective(700px) translateX(10px) rotateY(0)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) translateX(0) rotateY(60deg);transform:perspective(700px) translateX(0) rotateY(60deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=right] [data-animation=scale]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(10px) scale(1);transform:translateX(10px) scale(1)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px) scale(.5);transform:translateX(10px) scale(.5)}.tippy-tooltip{position:relative;color:#fff;border-radius:.25rem;font-size:.875rem;padding:.3125rem .5625rem;line-height:1.4;text-align:center;will-change:transform;background-color:#333}.tippy-tooltip[data-size=small]{padding:.1875rem .375rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.375rem .75rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:transparent}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:18px;height:7px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;will-change:transform;background-color:#333;border-radius:50%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}.tippy-backdrop+.tippy-content{transition-property:opacity;will-change:opacity}.tippy-backdrop+.tippy-content[data-state=visible]{opacity:1}.tippy-backdrop+.tippy-content[data-state=hidden]{opacity:0}';function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var te=navigator.userAgent,ne=(/MSIE |Trident\//.test(te),/UCBrowser\//.test(te)),re=/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,oe=(Q={a11y:!0,allowHTML:!0,animateFill:!0,animation:"shift-away",appendTo:function(e){return V(e).body},aria:void 0,arrow:!1,arrowType:"sharp",boundary:"scrollParent",content:"",delay:[0,20],distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},placement:"top",popperOptions:{},role:"tooltip",showOnInit:!1,size:"regular",sticky:!1,target:"",theme:"dark",touch:!0,touchHold:!1,trigger:"mouseenter focus",updateDuration:0,wait:null,zIndex:9999},["arrow","arrowType","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"]),ie={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-content",BACKDROP:".tippy-backdrop",ARROW:".tippy-arrow",ROUND_ARROW:".tippy-roundarrow"},ae=Element.prototype,se=ae.matches||ae.matchesSelector||ae.webkitMatchesSelector||ae.mozMatchesSelector||ae.msMatchesSelector;function le(e){return[].slice.call(e)}function ce(e,t){return(ae.closest||function(e){for(var t=this;t;){if(se.call(t,e))return t;t=t.parentElement}}).call(e,t)}function ue(e,t){for(;e;){if(t(e))return e;e=e.parentElement}}function de(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pe(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?n:r}return e}function H(n,r){var o;return function(){var e=this,t=arguments;clearTimeout(o),o=setTimeout(function(){return n.apply(e,t)},r)}}function fe(e,t){return e&&e.modifiers&&e.modifiers[t]}function he(e,t){return-1<e.indexOf(t)}function ge(e,t){return"function"==typeof e?e.apply(null,t):e}function me(e,t){e.filter(function(e){return"flip"===e.name})[0].enabled=t}function ve(e){var t=e.createElement("div");return t.setAttribute("spellcheck","false"),t.setAttribute("contenteditable",!1),t}function ye(e,t){e.innerHTML=t instanceof Element?t.innerHTML:t}function be(e,t){t.content instanceof Element?(ye(e,""),e.appendChild(t.content)):e[t.allowHTML?"innerHTML":"textContent"]=t.content}function _e(e){return{tooltip:e.querySelector(ie.TOOLTIP),backdrop:e.querySelector(ie.BACKDROP),content:e.querySelector(ie.CONTENT),arrow:e.querySelector(ie.ARROW)||e.querySelector(ie.ROUND_ARROW)}}function Ce(e){e.setAttribute("data-inertia","")}function Ne(e,t){var n=ve(t);return"round"===e?(n.className="tippy-roundarrow",ye(n,'<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>')):n.className="tippy-arrow",n}function Te(e){var t=ve(e);return t.className="tippy-backdrop",t.setAttribute("data-state","hidden"),t}function ke(e,t){e.setAttribute("tabindex","-1"),t.setAttribute("data-interactive","")}function Ee(e,t){e.forEach(function(e){e&&(e.style.transitionDuration="".concat(t,"ms"))})}function xe(e,t,n){var r=ne&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";e[t+"EventListener"](r,n)}function Se(e){var t=e.getAttribute("x-placement");return t?t.split("-")[0]:""}function we(e,t){e.forEach(function(e){e&&e.setAttribute("data-state",t)})}function Oe(t,n,e){e.split(" ").forEach(function(e){t.classList[n](e+"-theme")})}function Ae(e,t,n,r){var o=_e(e),i=o.tooltip,a=o.content,s=o.backdrop,l=o.arrow;e.style.zIndex=n.zIndex,i.setAttribute("data-size",n.size),i.setAttribute("data-animation",n.animation),i.style.maxWidth=n.maxWidth+("number"==typeof n.maxWidth?"px":""),n.role?e.setAttribute("role",n.role):e.removeAttribute("role"),t.content!==n.content&&be(a,n),!t.animateFill&&n.animateFill?(i.appendChild(Te(r)),i.setAttribute("data-animatefill","")):t.animateFill&&!n.animateFill&&(i.removeChild(s),i.removeAttribute("data-animatefill")),!t.arrow&&n.arrow?i.appendChild(Ne(n.arrowType,r)):t.arrow&&!n.arrow&&i.removeChild(l),t.arrow&&n.arrow&&t.arrowType!==n.arrowType&&i.replaceChild(Ne(n.arrowType,r),l),!t.interactive&&n.interactive?ke(e,i):t.interactive&&!n.interactive&&function(e,t){e.removeAttribute("tabindex"),t.removeAttribute("data-interactive")}(e,i),!t.inertia&&n.inertia?Ce(i):t.inertia&&!n.inertia&&function(e){e.removeAttribute("data-inertia")}(i),t.theme!==n.theme&&(Oe(i,"remove",t.theme),Oe(i,"add",n.theme))}function Re(e,t){var n=e.popper,r=e.options,o=r.onCreate,i=r.onUpdate;r.onCreate=r.onUpdate=function(e){!function(e){e.offsetHeight}(n),t(),i(e),r.onCreate=o,r.onUpdate=i}}function Ie(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.checkHideOnClick,r=t.exclude,o=t.duration;le(e.querySelectorAll(ie.POPPER)).forEach(function(e){var t=e._tippy;!t||n&&!0!==t.props.hideOnClick||r&&e===r.popper||t.hide(o)})}var De={passive:!0},Le=4,Pe=!1;function Me(e){var t=V(e.currentTarget||e.target);Pe||(Pe=!0,re&&t.body.classList.add("tippy-iOS"),window.performance&&t.addEventListener("mousemove",Fe))}var Be=0;function Fe(e){var t=function(e){return V(e.currentTarget||e.target)}(e),n=performance.now();n-Be<20&&(Pe=!1,t.removeEventListener("mousemove",Fe),re||t.body.classList.remove("tippy-iOS")),Be=n}function je(e){var t=e.currentTarget||e.target;if(!(t instanceof Element))return Ie(V(t));var n=ce(t,ie.POPPER);if(!(n&&n._tippy&&n._tippy.props.interactive)){var r=ue(t,function(e){return e._tippy&&e._tippy.reference===e});if(r){var o=r._tippy,i=he(o.props.trigger,"click");if(Pe||i)return Ie(V(t),{exclude:o,checkHideOnClick:!0});if(!0!==o.props.hideOnClick||i)return;o.clearDelayTimeouts()}Ie(V(t),{checkHideOnClick:!0})}}function Ue(e){var t=e.currentTarget||e.target,n=(t&&t.document||window.document).activeElement;n&&n.blur&&n._tippy&&n.blur()}var He=Object.keys(Q);function We(e,t){var n=W({},t,{content:ge(t.content,[e])},t.ignoreAttributes?{}:function(e){return He.reduce(function(t,n){var r=(e.getAttribute("data-tippy-".concat(n))||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(e){t[n]=r}return t},{})}(e));return(n.arrow||ne)&&(n.animateFill=!1),n}function qe(e,t){var n=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length?t:void 0;Object.keys(n).forEach(function(e){if(!de(r,e))throw new Error("[tippy]: `".concat(e,"` is not a valid option"))})}var Ve=1;function ze(e,n){var r=We(e,n);if(!function(e,t){var n,r=t.head;if((n=U(r).find("style#tippy-inline-style")).length)return;(n=t.createElement("style")).setAttribute("id","tippy-inline-style"),n.type="text/css",n.textContent=e;var o=r.firstChild;r.insertBefore(n,o)}(ee,V(e)),!r.multiple&&e._tippy)return null;var i={},g=null,o=0,t=0,a=!1,s=function(){},l=[],c=0<r.interactiveDebounce?H(N,r.interactiveDebounce):N,u=null,d=Ve++,p=function(e,t,n){var r=ve(n);r.className="tippy-popper",r.id="tippy-".concat(e),r.style.zIndex=t.zIndex,t.role&&r.setAttribute("role",t.role);var o=ve(n);o.className="tippy-tooltip",o.style.maxWidth=t.maxWidth+("number"==typeof t.maxWidth?"px":""),o.setAttribute("data-size",t.size),o.setAttribute("data-animation",t.animation),o.setAttribute("data-state","hidden"),Oe(o,"add",t.theme);var i=ve(n);return i.className="tippy-content",i.setAttribute("data-state","hidden"),t.interactive&&ke(r,o),t.arrow&&o.appendChild(Ne(t.arrowType,n)),t.animateFill&&(o.appendChild(Te(n)),o.setAttribute("data-animatefill","")),t.inertia&&Ce(o),be(i,t),o.appendChild(i),r.appendChild(o),r}(d,r,V(e));p.addEventListener("mouseenter",function(e){m.props.interactive&&m.state.isVisible&&"mouseenter"===i.type&&v(e)}),p.addEventListener("mouseleave",function(){m.props.interactive&&"mouseenter"===i.type&&m.doc.addEventListener("mousemove",c)});var f=_e(p),m={id:d,doc:V(e),reference:e,popper:p,popperChildren:f,popperInstance:null,props:r,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},clearDelayTimeouts:P,set:M,setContent:function(e){M({content:e})},show:B,hide:F,enable:function(){m.state.isEnabled=!0},disable:function(){m.state.isEnabled=!1},destroy:j};return I(),r.lazy||(w(),m.popperInstance.disableEventListeners()),r.showOnInit&&v(),!r.a11y||r.target||function(e){return!(e instanceof Element)||se.call(e,"a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]")&&!e.hasAttribute("disabled")}(e)||e.setAttribute("tabindex","0"),e._tippy=m,p._tippy=m;function h(e){var t=g=e,n=t.clientX,r=t.clientY;if(m.popperInstance){var o=q(m.reference),i=Se(m.popper),a=m.props.arrow?Le+("round"===m.props.arrowType?18:16):Le,s=he(["top","bottom"],i),l=he(["left","right"],i),c=s?Math.max(a,n):n,u=l?Math.max(a,r):r;s&&a<c&&(c=Math.min(n,o.innerWidth-a)),l&&a<u&&(u=Math.min(r,o.innerHeight-a));var d=m.reference.getBoundingClientRect(),p=m.props.followCursor,f="horizontal"===p,h="vertical"===p;m.popperInstance.reference={getBoundingClientRect:function(){return{width:0,height:0,top:f?d.top:u,bottom:f?d.bottom:u,left:h?d.left:c,right:h?d.right:c}},clientWidth:0,clientHeight:0},m.popperInstance.scheduleUpdate(),"initial"===p&&m.state.isVisible&&b(m.doc)}}function v(e){if(P(),!m.state.isVisible){if(m.props.target)return function(e){var t=ce(e.target,m.props.target);t&&!t._tippy&&(ze(t,W({},m.props,{content:ge(n.content,[t]),appendTo:n.appendTo,target:"",showOnInit:!0})),v(e))}(e);if(a=!0,m.props.wait)return m.props.wait(m,e);O()&&!m.state.isMounted&&m.doc.addEventListener("mousemove",h);var t=pe(m.props.delay,0,Q.delay);t?o=setTimeout(function(){B()},t):B()}}function y(){if(P(),!m.state.isVisible)return b(m.doc);a=!1;var e=pe(m.props.delay,1,Q.delay);e?t=setTimeout(function(){m.state.isVisible&&F()},e):F()}function b(e){e.removeEventListener("mousemove",h)}function _(e){e&&(e.body.removeEventListener("mouseleave",y),e.removeEventListener("mousemove",c))}function C(e){m.state.isEnabled&&!S(e)&&(m.state.isVisible||(i=e)instanceof MouseEvent&&(g=e),"click"===e.type&&!1!==m.props.hideOnClick&&m.state.isVisible?y():v(e))}function N(e){var t=ue(e.target,function(e){return e._tippy}),n=ce(e.target,ie.POPPER)===m.popper,r=t===m.reference;n||r||!function(e,t,n,r){if(!e)return!0;var o=n.clientX,i=n.clientY,a=r.interactiveBorder,s=r.distance,l=t.top-i>("top"===e?a+s:a),c=i-t.bottom>("bottom"===e?a+s:a),u=t.left-o>("left"===e?a+s:a),d=o-t.right>("right"===e?a+s:a);return l||c||u||d}(Se(m.popper),m.popper.getBoundingClientRect(),e,m.props)||(_(m.doc),y())}function T(e){if(!S(e)){var t=V(e.currentTarget||e.target);if(m.props.interactive)return t.body.addEventListener("mouseleave",y),void t.addEventListener("mousemove",c);y()}}function k(e){e.target===m.reference&&(m.props.interactive&&e.relatedTarget&&m.popper.contains(e.relatedTarget)||y())}function E(e){ce(e.target,m.props.target)&&v(e)}function x(e){ce(e.target,m.props.target)&&y()}function S(e){var t="ontouchstart"in m.doc.defaultView,n=he(e.type,"touch"),r=m.props.touchHold;return t&&Pe&&r&&!n||Pe&&!r&&n}function w(){var o=m.props.popperOptions,e=m.popperChildren,i=e.tooltip,t=e.arrow;m.popperInstance=new Z(m.reference,m.popper,W({placement:m.props.placement},o,{modifiers:W({},o?o.modifiers:{},{preventOverflow:W({boundariesElement:m.props.boundary,padding:Le},fe(o,"preventOverflow")),arrow:W({element:t,enabled:!!t},fe(o,"arrow")),flip:W({enabled:m.props.flip,padding:m.props.distance+Le,behavior:m.props.flipBehavior},fe(o,"flip")),offset:W({offset:m.props.offset},fe(o,"offset"))}),onUpdate:function(e){m.props.flip&&!m.props.flipOnUpdate&&(e.flipped&&(m.popperInstance.options.placement=e.placement),me(m.popperInstance.modifiers,!1));var t=Se(m.popper),n=i.style;n.top="",n.bottom="",n.left="",n.right="",n[t]=function(e){return-(e-10)+"px"}(m.props.distance);var r={top:Le,bottom:Le,left:Le,right:Le};r[t]=Le+m.props.distance,m.popperInstance.modifiers.filter(function(e){return"preventOverflow"===e.name})[0].padding=r,o&&o.onUpdate&&o.onUpdate(e)}}))}function O(){return m.props.followCursor&&!Pe&&"focus"!==i.type}function A(e,t){function n(e){e.target===r&&(xe(r,"remove",n),t())}if(0===e)return t();var r=m.popperChildren.tooltip;xe(r,"remove",s),xe(r,"add",n),s=n}function R(e,t,n){var r=2<arguments.length&&void 0!==n&&n;m.reference.addEventListener(e,t,r),l.push({eventType:e,handler:t,options:r})}function I(){m.props.touchHold&&!m.props.target&&(R("touchstart",C,De),R("touchend",T,De)),m.props.trigger.trim().split(" ").forEach(function(e){if("manual"!==e)if(m.props.target)switch(e){case"mouseenter":R("mouseover",E),R("mouseout",x);break;case"focus":R("focusin",E),R("focusout",x);break;case"click":R(e,E)}else switch(R(e,C),e){case"mouseenter":R("mouseleave",T);break;case"focus":R("focusout",k)}})}function D(){l.forEach(function(e){var t=e.eventType,n=e.handler,r=e.options;m.reference.removeEventListener(t,n,r)}),l=[]}function L(){return[m.popperChildren.tooltip,m.popperChildren.backdrop,m.popperChildren.content]}function P(){clearTimeout(o),clearTimeout(t)}function M(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};qe(t,Q);var e=m.props,n=We(m.reference,W({},m.props,t,{ignoreAttributes:!0}));n.ignoreAttributes=de(t,"ignoreAttributes")?t.ignoreAttributes:e.ignoreAttributes,m.props=n,(de(t,"trigger")||de(t,"touchHold"))&&(D(),I()),de(t,"interactiveDebounce")&&(_(m.doc),c=H(N,t.interactiveDebounce)),Ae(m.popper,e,n,m.doc),m.popperChildren=_e(m.popper),m.popperInstance&&(m.popperInstance.update(),oe.some(function(e){return de(t,e)})&&(m.popperInstance.destroy(),w(),m.state.isVisible||m.popperInstance.disableEventListeners(),m.props.followCursor&&g&&h(g)))}function B(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:pe(m.props.duration,0,Q.duration[0]);if(!m.state.isDestroyed&&m.state.isEnabled&&(!Pe||m.props.touch)){var t=function(e){if(null==e)return null;if(e.getRootNode)return e.getRootNode();for(;null!==e.parentNode;)e=e.parentNode;return e}(m.reference),n=t&&t.documentElement;if(!(de(m.reference,"isVirtual")||n&&n.contains(m.reference)))return j();m.reference.hasAttribute("disabled")||!1!==m.props.onShow(m)&&(m.popper.style.visibility="visible",m.state.isVisible=!0,m.props.interactive&&m.reference.classList.add("tippy-active"),Ee([m.popper,m.popperChildren.tooltip,m.popperChildren.backdrop],0),function(e){var t=!(O()||"initial"===m.props.followCursor&&Pe);m.popperInstance?(O()||(m.popperInstance.scheduleUpdate(),t&&m.popperInstance.enableEventListeners()),me(m.popperInstance.modifiers,m.props.flip)):(w(),t||m.popperInstance.disableEventListeners()),m.popperInstance.reference=m.reference;var n=m.popperChildren.arrow;if(O()){n&&(n.style.margin="0");var r=pe(m.props.delay,0,Q.delay);i.type&&h(r&&g?g:i)}else n&&(n.style.margin="");Pe&&g&&"initial"===m.props.followCursor&&(h(g),n&&(n.style.margin="0")),Re(m.popperInstance,e);var o=m.props.appendTo;(u="parent"===o?m.reference.parentNode:ge(o,[m.reference])).contains(m.popper)||(u.appendChild(m.popper),m.props.onMount(m),m.state.isMounted=!0)}(function(){m.state.isVisible&&(O()||m.popperInstance.update(),Ee([m.popper],r.updateDuration),Ee(L(),e),m.popperChildren.backdrop&&(m.popperChildren.content.style.transitionDelay=Math.round(e/12)+"ms"),m.props.sticky&&(Ee([m.popper],0),function e(){m.popperInstance&&m.popperInstance.scheduleUpdate(),m.state.isMounted?requestAnimationFrame(e):Ee([m.popper],0)}()),we(L(),"visible"),function(e,t){A(e,t)}(e,function(){m.popperChildren.tooltip.classList.add("tippy-notransition"),m.props.aria&&m.reference.setAttribute("aria-".concat(m.props.aria),m.popper.id),m.props.onShown(m),m.state.isShown=!0}))}))}}function F(e){e="number"==typeof e?e:pe(m.props.duration,1,Q.duration[1]),!m.state.isDestroyed&&m.state.isEnabled&&!1!==m.props.onHide(m)&&(m.popperChildren.tooltip.classList.remove("tippy-notransition"),m.props.interactive&&m.reference.classList.remove("tippy-active"),m.popper.style.visibility="hidden",m.state.isVisible=!1,m.state.isShown=!1,Ee(L(),e),we(L(),"hidden"),function(e,t){A(e,function(){!m.state.isVisible&&u&&u.contains(m.popper)&&t()})}(e,function(){a||b(m.doc),m.props.aria&&m.reference.removeAttribute("aria-".concat(m.props.aria)),m.popperInstance.disableEventListeners(),m.popperInstance.options.placement=m.props.placement,u.removeChild(m.popper),m.props.onHidden(m),m.state.isMounted=!1}))}function j(e){m.state.isDestroyed||(m.state.isMounted&&F(0),D(),delete m.reference._tippy,m.props.target&&e&&le(m.reference.querySelectorAll(m.props.target)).forEach(function(e){e._tippy&&e._tippy.destroy()}),m.popperInstance&&m.popperInstance.destroy(),m.state.isDestroyed=!0)}}var Ye=!1;function Ge(e,t){if(!e)return null;qe(t,Q),Ye||(function(e){var t=V(e),n=t.defaultView;t.addEventListener("click",je,!0),t.addEventListener("touchstart",Me,De),n.addEventListener("blur",Ue)}(e),Ye=!0);var r=W({},Q,t);return function(e){return"[object Object]"==={}.toString.call(e)&&!e.addEventListener}(e)&&function(n){var e={isVirtual:!0,attributes:n.attributes||{},setAttribute:function(e,t){n.attributes[e]=t},getAttribute:function(e){return n.attributes[e]},removeAttribute:function(e){delete n.attributes[e]},hasAttribute:function(e){return e in n.attributes},addEventListener:function(){},removeEventListener:function(){},classList:{classNames:{},add:function(e){n.classList.classNames[e]=!0},remove:function(e){delete n.classList.classNames[e]},contains:function(e){return e in n.classList.classNames}}};for(var t in e)n[t]=e[t]}(e),[e].reduce(function(e,t){var n=t&&ze(t,r);return n&&e.push(n),e},[])[0]}Ge.version="4.0.4",Ge.defaults=Q,Ge.setDefaults=function(t){Object.keys(t).forEach(function(e){Q[e]=t[e]})},Ge.hideAll=Ie,Ge.group=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.delay,r=void 0===n?t[0].props.delay:n,o=e.duration,i=void 0===o?0:o,a=!1;function s(e){a=e,d()}function l(e){e._originalProps.onShow(e),t.forEach(function(e){e.set({duration:i}),e.hide()}),s(!0)}function c(e){e._originalProps.onHide(e),s(!1)}function u(e){e._originalProps.onShown(e),e.set({duration:e._originalProps.duration})}function d(){t.forEach(function(e){e.set({onShow:l,onShown:u,onHide:c,delay:a?[0,Array.isArray(r)?r[1]:r]:r,duration:a?i:e._originalProps.duration})})}t.forEach(function(e){e._originalProps={duration:e.props.duration,onHide:e.props.onHide,onShow:e.props.onShow,onShown:e.props.onShown}}),d()},e.tippy=Ge}(window.FLITE);var r,n,o,s,i,a,l,c,u,d,p,f,h,g,m,D=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function v(){this._isComposing=!1,this._compositionEnded=!1}function y(n,r){var o=this;this.callback=r,this.id=String(y.nextId++),y._guards[this.id]=this;var i=null,a=function(e){n.removeEventListener("keyup",a,!0),delete y._guards[o.id],i&&clearTimeout(i);var t=e.keyCode||e.which;8===t?r({backspace:!0,ctrl:e.ctrlKey,shift:e.shiftKey}):46===t&&r({del:!0,ctrl:e.ctrlKey,shift:e.shiftKey})};n.addEventListener("keyup",a,!0),i=setTimeout(function(){i=0,removeEventListener("keyup",a,!0),delete y._guards[o.id],r({backspace:!1,del:!1,ctrl:!1,shift:!1})},75)}function b(){this._allDeadCharsRegex=/[\u200B\uFEFF\u00A0]/g,this._deadCharsNoNBSPRegex=/[\u200B\uFEFF]/g}function _(){this._matchers=[],this._matcherMap={},this._types=[]}function C(e){}function N(e,t){this.env=e,this._startInText=!1,this._endInText=!1,N.removeBookmarks(e.element),this._createBookmark(t)}Object.defineProperty(Ht,"__esModule",{value:!0}),(o=n=n||{})[o.OK=0]="OK",o[o.IGNORE=1]="IGNORE",o[o.IGNORE_ALL=2]="IGNORE_ALL",function(a){a||console.error("mutation-summary: global is not defined");var f,e,r=a.$;(e=f=f||{})[e.STAYED_OUT=0]="STAYED_OUT",e[e.ENTERED=1]="ENTERED",e[e.STAYED_IN=2]="STAYED_IN",e[e.REPARENTED=3]="REPARENTED",e[e.REORDERED=4]="REORDERED",e[e.EXITED=5]="EXITED";var o=void 0!==window.WebKitMutationObserver?window.WebKitMutationObserver:window.MutationObserver;if(!o)throw new Error("DOM Mutation Observers are required; https://developer.mozilla.org/en-US/docs/DOM/MutationObserver");var n=["added","removed","reordered","reparented","valueChanged","characterDataChanged"],l=(i.prototype.isIndex=function(e){return+e==e>>>0},i.prototype.nodeId=function(e){var t=e[i.ID_PROP];return t=t||(e[i.ID_PROP]=i.nextId_++)},i.prototype.set=function(e,t){var n=this.nodeId(e);this.nodes[n]=e,this.values[n]=t},i.prototype.get=function(e){var t=this.nodeId(e);return this.values[t]},i.prototype.has=function(e){return Boolean(this.nodes[this.nodeId(e)])},i.prototype.delete=function(e){var t=this.nodeId(e);delete this.nodes[t],this.values[t]=void 0},i.prototype.keys=function(){var e=[];for(var t in this.nodes)this.isIndex(t)&&e.push(this.nodes[t]);return e},i.ID_PROP="__mutation_summary_node_map_id__",i.nextId_=1,i);function i(){this.nodes=[],this.values=[]}var s=(t.prototype.getAttributeOldValue=function(e){if(this.attributeOldValues)return this.isCaseInsensitive&&(e=e.toLowerCase()),this.attributeOldValues[e]},t.prototype.getAttributeNamesMutated=function(){var e=[];if(!this.attributeOldValues)return e;for(var t in this.attributeOldValues)e.push(t);return e},t.prototype.attributeMutated=function(e,t){this.attributes=!0,this.attributeOldValues=this.attributeOldValues||{},e in this.attributeOldValues||(this.attributeOldValues[e]=t)},t.prototype.characterDataMutated=function(e){this.characterData||(this.characterData=!0,this.characterDataOldValue=e)},t.prototype.removedFromParent=function(e){this.childList=!0,this.added||this.oldParentNode?(this.added=!1,this.oldParentNode=this.oldParentNode||e):this.oldParentNode=e},t.prototype.insertedIntoParent=function(){this.childList=!0,this.added=!0},t.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return this.node.parentNode},t);function t(e,t,n,r,o,i,a,s){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===o&&(o=null),void 0===i&&(i=!1),void 0===a&&(a=null),void 0===s&&(s=null),this.node=e,this.childList=t,this.attributes=n,this.characterData=r,this.oldParentNode=o,this.added=i,this.attributeOldValues=a,this.characterDataOldValue=s,this.isCaseInsensitive=1===this.node.nodeType&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}var c,u=function(){this.added=new l,this.removed=new l,this.maybeMoved=new l,this.oldPrevious=new l,this.moved=void 0},d=(D(p,c=l),p.prototype.getChange=function(e){var t=this.get(e);return t||(t=new s(e),this.set(e,t)),t},p.prototype.getOldParent=function(e){var t=this.get(e);return t?t.getOldParent():e.parentNode},p.prototype.getIsReachable=function(e){if(e===this.rootNode)return!0;if(!e)return!1;this.reachableCache=this.reachableCache||new l;var t=this.reachableCache.get(e);return void 0===t&&(t=this.getIsReachable(e.parentNode),this.reachableCache.set(e,t)),t},p.prototype.getWasReachable=function(e){if(e===this.rootNode)return!0;if(!e)return!1;this.wasReachableCache=this.wasReachableCache||new l;var t=this.wasReachableCache.get(e);return void 0===t&&(t=this.getWasReachable(this.getOldParent(e)),this.wasReachableCache.set(e,t)),t},p.prototype.reachabilityChange=function(e){return this.getIsReachable(e)?this.getWasReachable(e)?f.STAYED_IN:f.ENTERED:this.getWasReachable(e)?f.EXITED:f.STAYED_OUT},p);function p(e,t,n){var r,o,i=c.call(this)||this;n=n||function(e){return!0},i.rootNode=e,i.reachableCache=void 0,i.wasReachableCache=void 0,i.anyParentsChanged=!1,i.anyAttributesChanged=!1,i.anyCharacterDataChanged=!1;for(var a=0;a<t.length;a++)switch((o=t[a]).type){case"childList":i.anyParentsChanged=!0;for(var s=0;s<o.removedNodes.length;s++)r=o.removedNodes[s],i.getChange(r).removedFromParent(o.target);for(s=0;s<o.addedNodes.length;s++)r=o.addedNodes[s],i.getChange(r).insertedIntoParent();break;case"attributes":i.anyAttributesChanged=!0,n(o.target)&&i.getChange(o.target).attributeMutated(o.attributeName,o.oldValue);break;case"characterData":i.anyCharacterDataChanged=!0,n(o.target)&&i.getChange(o.target).characterDataMutated(o.oldValue)}return i}var h=(g.prototype.processMutations=function(){if(this.treeChanges.anyParentsChanged||this.treeChanges.anyAttributesChanged)for(var e=this.treeChanges.keys(),t=0;t<e.length;t++)this.visitNode(e[t],void 0)},g.prototype.visitNode=function(e,t){if(!this.visited.has(e)){this.visited.set(e,!0);var n=this.treeChanges.get(e),r=t;if((n&&n.childList||null==r)&&(r=this.treeChanges.reachabilityChange(e)),r!==f.STAYED_OUT){if(this.matchabilityChange(e),r===f.ENTERED)this.entered.push(e);else if(r===f.EXITED)this.exited.push(e),this.ensureHasOldPreviousSiblingIfNeeded(e);else if(r===f.STAYED_IN){var o=f.STAYED_IN;n&&n.childList&&(n.oldParentNode!==e.parentNode?(o=f.REPARENTED,this.ensureHasOldPreviousSiblingIfNeeded(e)):this.calcReordered&&this.wasReordered(e)&&(o=f.REORDERED)),this.stayedIn.set(e,o)}if(r!==f.STAYED_IN)for(var i=e.firstChild;i;i=i.nextSibling)this.visitNode(i,r)}}},g.prototype.ensureHasOldPreviousSiblingIfNeeded=function(e){if(this.calcOldPreviousSibling){this.processChildlistChanges();var t=e.parentNode,n=this.treeChanges.get(e);n&&n.oldParentNode&&(t=n.oldParentNode);var r=this.childListChangeMap.get(t);r||(r=new u,this.childListChangeMap.set(t,r)),!e.previousSibling&&r.oldPrevious.has(e)||r.oldPrevious.set(e,e.previousSibling)}},g.prototype.getChanged=function(e,t,n){var r,o;this.selectors=t,this.characterDataOnly=n;for(var i=0;i<this.entered.length;i++)r=this.entered[i],(o=this.matchabilityChange(r))!==f.ENTERED&&o!==f.STAYED_IN||e.added.push(r);var a,s=this.stayedIn.keys();for(i=0;i<s.length;i++)if(a=3===(r=s[i]).nodeType&&this.stayedIn.get(r)===f.REPARENTED,(o=this.matchabilityChange(r,a?f.STAYED_IN:null))===f.ENTERED)e.added.push(r);else if(o===f.EXITED)e.removed.push(r);else if(o===f.STAYED_IN&&(e.reparented||e.reordered)){var l=this.stayedIn.get(r);e.reparented&&l===f.REPARENTED?e.reparented.push(r):e.reordered&&l===f.REORDERED&&e.reordered.push(r)}for(i=0;i<this.exited.length;i++)r=this.exited[i],(o=this.matchabilityChange(r))!==f.EXITED&&o!==f.STAYED_IN||e.removed.push(r)},g.prototype.getOldParentNode=function(e){var t=this.treeChanges.get(e);if(t&&t.childList)return t.oldParentNode?t.oldParentNode:null;var n=this.treeChanges.reachabilityChange(e);return n===f.STAYED_OUT||n===f.ENTERED?(a.logger.warn("getOldParentNode requested on invalid node."),null):e.parentNode},g.prototype.getOldPreviousSibling=function(e){var t=e.parentNode,n=this.treeChanges.get(e);n&&n.oldParentNode&&(t=n.oldParentNode);var r=this.childListChangeMap.get(t);if(!r)throw Error("getOldPreviousSibling requested on invalid node.");return r.oldPrevious.get(e)},g.prototype.getOldAttribute=function(e,t){var n=this.treeChanges.get(e);if(!n||!n.attributes)throw Error("getOldAttribute requested on invalid node.");var r=n.getAttributeOldValue(t);if(void 0===r)throw Error("getOldAttribute requested for unchanged attribute name.");return r},g.prototype.attributeChangedNodes=function(e){if(!this.treeChanges.anyAttributesChanged)return{};var t,n;if(e){t={},n={};for(var r=0;r<e.length;r++){var o=e[r];t[o]=!0,n[o.toLowerCase()]=o}}var i,a,s={},l=this.treeChanges.keys();for(r=0;r<l.length;r++){i=l[r];var c=this.treeChanges.get(i);if(c.attributes&&f.STAYED_IN===this.treeChanges.reachabilityChange(i)&&f.STAYED_IN===this.matchabilityChange(i)){a=i;for(var u=c.getAttributeNamesMutated(),d=void 0,p=0;p<u.length;p++)d=u[p],(!t||t[d]||c.isCaseInsensitive&&n[d])&&c.getAttributeOldValue(d)!==a.getAttribute(d)&&(n&&c.isCaseInsensitive&&(d=n[d]),s[d]=s[d]||[],s[d].push(a))}}return s},g.prototype.getOldCharacterData=function(e){var t=this.treeChanges.get(e);if(!t||!t.characterData)throw Error("getOldCharacterData requested on invalid node.");return t.characterDataOldValue},g.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];for(var e,t,n=this.treeChanges.keys(),r=[],o=0;o<n.length;o++)e=n[o],f.STAYED_IN===this.treeChanges.reachabilityChange(e)&&(t=this.treeChanges.get(e)).characterData&&e.textContent!=t.characterDataOldValue&&r.push(e);return r},g.prototype.computeMatchabilityChange=function(e,t){this.matchCache||(this.matchCache=[]),this.matchCache[e.uid]||(this.matchCache[e.uid]=new l);var n=this.matchCache[e.uid],r=n.get(t);return void 0===r&&(r=e.matchabilityChange(t,this.treeChanges.get(t)),n.set(t,r)),r},g.prototype.matchabilityChange=function(e,t){var n=this;if(this.characterDataOnly)switch(e.nodeType){case Node.COMMENT_NODE:case 3:return f.STAYED_IN;default:return f.STAYED_OUT}if(!this.selectors)return f.STAYED_IN;if(1!==e.nodeType)return null==t?e.parentNode?f.STAYED_IN:f.STAYED_OUT:t;for(var r=e,o=this.selectors.map(function(e){return n.computeMatchabilityChange(e,r)}),i=f.STAYED_OUT,a=0;i!==f.STAYED_IN&&a<o.length;){switch(o[a]){case f.STAYED_IN:i=f.STAYED_IN;break;case f.ENTERED:i=i===f.EXITED?f.STAYED_IN:f.ENTERED;break;case f.EXITED:i=i===f.ENTERED?f.STAYED_IN:f.EXITED}a++}return i},g.prototype.getChildlistChange=function(e){var t=this.childListChangeMap.get(e);return t||(t=new u,this.childListChangeMap.set(e,t)),t},g.prototype.processChildlistChanges=function(){if(!this.childListChangeMap){var e,t,n,r;this.childListChangeMap=new l;for(var o=function(e,t,n){!e||n.added.has(e)||n.maybeMoved.has(e)||t&&!n.oldPrevious.get(e)&&(t&&(n.added.has(t)||n.maybeMoved.has(t))||n.oldPrevious.set(e,t))},i=0;i<this.mutations.length;i++)if("childList"==(e=this.mutations[i]).type&&(this.treeChanges.reachabilityChange(e.target)===f.STAYED_IN||this.calcOldPreviousSibling)){n=this.getChildlistChange(e.target),r=e.previousSibling;for(var a=0;a<e.removedNodes.length;a++)o(t=e.removedNodes[a],r,n),n.added.has(t)?n.added.delete(t):(n.removed.set(t,!0),n.maybeMoved.delete(t)),r=t;for(o(e.nextSibling,r,n),a=0;a<e.addedNodes.length;a++)t=e.addedNodes[a],n.removed.has(t)?(n.removed.delete(t),n.maybeMoved.set(t,!0)):n.added.set(t,!0)}}},g.prototype.wasReordered=function(e){if(!this.treeChanges.anyParentsChanged)return!1;this.processChildlistChanges();var t=e.parentNode,n=this.treeChanges.get(e);n&&n.oldParentNode&&(t=n.oldParentNode);var r=this.childListChangeMap.get(t);if(!r)return!1;if(r.moved)return r.moved.get(e);r.moved=new l;var o=new l;function i(e){if(!e)return!1;if(!r.maybeMoved.has(e))return!1;var t=r.moved.get(e);return void 0!==t||(t=!!o.has(e)||(o.set(e,!0),function(e){if(s.has(e))return s.get(e);for(var t=e.previousSibling;t&&(r.added.has(t)||i(t));)t=t.previousSibling;return s.set(e,t),t}(e)!==function e(t){var n=a.get(t);if(void 0!==n)return n;for(n=r.oldPrevious.get(t);n&&(r.removed.has(n)||i(n));)n=e(n);return void 0===n&&(n=t.previousSibling),a.set(t,n),n}(e)),o.has(e)?(o.delete(e),r.moved.set(e,t)):t=r.moved.get(e)),t}var a=new l,s=new l;return r.maybeMoved.keys().forEach(i),r.moved.get(e)},g);function g(e,t,n,r,o,i){this.rootNode=e,this.mutations=t,this.selectors=n,this.calcReordered=r,this.calcOldPreviousSibling=o,this.nodeFilter=i,this.nodeFilter=this.nodeFilter||a.utils.yes,this.treeChanges=new d(e,t,this.nodeFilter),this.entered=[],this.exited=[],this.stayedIn=new l,this.visited=new l,this.childListChangeMap=void 0,this.characterDataOnly=void 0,this.matchCache=void 0,this.processMutations()}var m=(v.prototype.getOldParentNode=function(e){return this.projection.getOldParentNode(e)},v.prototype.getOldAttribute=function(e,t){return this.projection.getOldAttribute(e,t)},v.prototype.getOldPreviousSibling=function(e){return this.projection.getOldPreviousSibling(e)},v.prototype.getOldCharacterData=function(e){return this.projection.getOldCharacterData(e)},v.prototype.getCharacterDataChanged=function(){return this.projection.getCharacterDataChanged()},v);function v(e,t){var n=this;if(this.projection=e,this.added=[],this.removed=[],this.reparented=t.all||t.element||t.characterData?[]:void 0,this.reordered=t.all?[]:void 0,(this.projection=e).getChanged(this,t.elementFilter,t.characterData),t.all||t.attribute||t.attributeList){var r=t.attribute?[t.attribute]:t.attributeList,o=e.attributeChangedNodes(r);t.attribute?this.valueChanged=o[t.attribute]||[]:(this.attributeChanged=o,t.attributeList&&t.attributeList.forEach(function(e){n.attributeChanged.hasOwnProperty(e)||(n.attributeChanged[e]=[])}))}if(t.all||t.characterData){var i=e.getCharacterDataChanged();t.characterData?this.valueChanged=i:this.characterDataChanged=i}this.reordered&&(this.getOldPreviousSibling=e.getOldPreviousSibling.bind(e))}var y=/[a-zA-Z_]+/,b=/[a-zA-Z0-9_\-]+/;function _(e){return'"'+e.replace(/"/,'\\"')+'"'}var C=(N.prototype.matches=function(e){if(null===e)return!1;if(void 0===this.attrValue)return!0;if(!this.contains)return this.attrValue==e;for(var t=e.split(" "),n=0;n<t.length;n++)if(this.attrValue===t[n])return!0;return!1},N.prototype.toString=function(){var e="["+this.attrName+"]";return"class"===this.attrName&&this.contains?"."+this.attrValue:"id"!==this.attrName||this.contains?this.contains?"["+this.attrName+"~="+_(this.attrValue)+"]":"attrValue"in this?"["+this.attrName+"="+_(this.attrValue)+"]":e:"#"+this.attrValue},N);function N(){}var T,k=(Object.defineProperty(E.prototype,"caseInsensitiveTagName",{get:function(){return this.tagName.toUpperCase()},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"selectorString",{get:function(){return this.tagName+this.qualifiers.join("")},enumerable:!1,configurable:!0}),E.prototype.isMatching=function(e){return e[E.matchesSelector](this.selectorString)},E.prototype.wasMatching=function(e,t,n){if(!t||!t.attributes)return n;var r=t.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;if("*"!==r&&r!==e.tagName)return!1;for(var o,i=[],a=!1,s=0;s<this.qualifiers.length;s++){o=this.qualifiers[s];var l=t.getAttributeOldValue(o.attrName);i.push(l),a=a||void 0!==l}if(!a)return n;for(s=0;s<this.qualifiers.length;s++)if(o=this.qualifiers[s],void 0===(l=i[s])&&(l=e.getAttribute(o.attrName)),!o.matches(l))return!1;return!0},E.prototype.matchabilityChange=function(e,t){return this.isMatching(e)?this.wasMatching(e,t,!0)?f.STAYED_IN:f.ENTERED:this.wasMatching(e,t,!1)?f.EXITED:f.STAYED_OUT},E.parseSelectors=function(e){var t,n,r=[];function o(){t&&(n&&(t.qualifiers.push(n),n=void 0),r.push(t)),t=new E}function i(){n&&t.qualifiers.push(n),n=new C}for(var a,s,l=/\s/,c="Invalid or unsupported selector syntax.",u=1,d=0;d<e.length;)switch(s=e[d++],u){case 1:if(s.match(y)){o(),t.tagName=s,u=2;break}if("*"===s){o(),t.tagName="*",u=3;break}if("."===s){o(),i(),t.tagName="*",n.attrName="class",n.contains=!0,u=4;break}if("#"===s){o(),i(),t.tagName="*",n.attrName="id",u=4;break}if("["===s){o(),i(),t.tagName="*",n.attrName="",u=6;break}if(s.match(l))break;throw Error(c);case 2:if(s.match(b)){t.tagName+=s;break}if("."===s){i(),n.attrName="class",n.contains=!0,u=4;break}if("#"===s){i(),n.attrName="id",u=4;break}if("["===s){i(),n.attrName="",u=6;break}if(s.match(l)){u=14;break}if(","!==s)throw Error(c);u=1;break;case 3:if("."===s){i(),n.attrName="class",n.contains=!0,u=4;break}if("#"===s){i(),n.attrName="id",u=4;break}if("["===s){i(),n.attrName="",u=6;break}if(s.match(l)){u=14;break}if(","!==s)throw Error(c);u=1;break;case 4:if(s.match(y)){n.attrValue=s,u=5;break}throw Error(c);case 5:if(s.match(b)){n.attrValue+=s;break}if("."===s){i(),n.attrName="class",n.contains=!0,u=4;break}if("#"===s){i(),n.attrName="id",u=4;break}if("["===s){i(),u=6;break}if(s.match(l)){u=14;break}if(","!==s)throw Error(c);u=1;break;case 6:if(s.match(y)){n.attrName=s,u=7;break}if(s.match(l))break;throw Error(c);case 7:if(s.match(b)){n.attrName+=s;break}if(s.match(l)){u=8;break}if("~"===s){n.contains=!0,u=9;break}if("="===s){n.attrValue="",u=11;break}if("]"!==s)throw Error(c);u=3;break;case 8:if("~"===s){n.contains=!0,u=9;break}if("="===s){n.attrValue="",u=11;break}if("]"===s){u=3;break}if(s.match(l))break;throw Error(c);case 9:if("="!==s)throw Error(c);n.attrValue="",u=11;break;case 10:if("]"===s){u=3;break}if(s.match(l))break;throw Error(c);case 11:if(s.match(l))break;if('"'===s||"'"===s){a=s,u=13;break}n.attrValue+=s,u=12;break;case 12:if(s.match(l)){u=10;break}if("]"===s){u=3;break}if("'"===s||'"'==s)throw Error(c);n.attrValue+=s;break;case 13:if(s===a){u=10;break}n.attrValue+=s;break;case 14:if(s.match(l))break;if(","!==s)throw Error(c);u=1}switch(u){case 1:case 2:case 3:case 5:case 14:o();break;default:throw Error(c)}if(!r.length)throw Error(c);return r},E.nextUid=1,E.matchesSelector="function"==typeof(T=document.createElement("div")).webkitMatchesSelector?"webkitMatchesSelector":"function"==typeof T.mozMatchesSelector?"mozMatchesSelector":"function"==typeof T.msMatchesSelector?"msMatchesSelector":"matchesSelector",E);function E(){this.uid=E.nextUid++,this.qualifiers=[]}var x=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:\.]*)$/;function S(e){if("string"!=typeof e)throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!(e=e.trim()))throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!e.match(x))throw Error("Invalid request option. invalid attribute name: "+e);return e}function w(e){if(!e.trim().length)throw Error("Invalid request option: elementAttributes must contain at least one attribute.");for(var t,n,r={},o={},i=e.split(/\s+/),a=0;a<i.length;a++)if(t=i[a]){if(r[n=(t=S(t)).toLowerCase()])throw Error("Invalid request option: observing multiple case variations of the same attribute is not supported.");o[t]=!0,r[n]=!0}return Object.keys(o)}var O=(A.prototype.setCallback=function(e,t){var n=this._callbacks.current;if(!(e in this._callbacks.callbacks))throw new Error("unknown mutation summary callback key "+e);return this._callbacks.current=e,t&&(this._callbacks.callbacks[e]=t),n},A.prototype.ignoreNextMutation=function(){this._summaryGuard.set(1)},Object.defineProperty(A.prototype,"callback",{get:function(){return this._callbacks.callbacks[this._callbacks.current]},enumerable:!1,configurable:!0}),A.prototype.filterIgnoredMutations=function(e){return e},A.prototype.filterIgnoredMutations1=function(e){if(!e)return e;var t=this.options.mutationFilter&&this.options.mutationFilter(e)||e,n=this.options.nodeFilter;if(!t||!t.length||!n)return t;for(var r,o=[],i=0,a=t.length;i<a;++i)n((r=e[i]).target)&&o.push(r);return o},A.createObserverOptions=function(e){var t,n={childList:!0,subtree:!0};function r(e){n.attributes&&!t||(n.attributes=!0,n.attributeOldValue=!0,e?(t=t||{},e.forEach(function(e){t[e]=!0,t[e.toLowerCase()]=!0})):t=void 0)}return e.forEach(function(e){if(e.characterData)return n.characterData=!0,void(n.characterDataOldValue=!0);if(e.all)return r(),n.characterData=!0,void(n.characterDataOldValue=!0);if(e.attribute)r([e.attribute.trim()]);else{var t=function(e,t){var n={};return e.forEach(function(e){e.qualifiers.forEach(function(e){t&&"class"===e.attrName||(n[e.attrName]=!0)})}),Object.keys(n)}(e.elementFilter,!1===e.classAttribute).concat(e.attributeList||[]);t.length&&r(t)}}),t&&(n.attributeFilter=Object.keys(t)),n},A.validateOptions=function(e){for(var t in e)if(!(t in A.optionKeys))throw Error("Invalid option: "+t);if(!e.queries||!e.queries.length)throw Error("Invalid options: queries must contain at least one query request object.");for(var n={callbacks:e.callbacks,mutationFilter:e.mutationFilter,nodeFilter:e.nodeFilter,rootNode:e.rootNode||document,observeOwnChanges:Boolean(e.observeOwnChanges),oldPreviousSibling:Boolean(e.oldPreviousSibling),queries:[]},r=0;r<e.queries.length;r++){var o=e.queries[r];if(o.all){if(1<Object.keys(o).length)throw Error("Invalid request option. all has no options.");n.queries.push({all:!0})}else if("attribute"in o){if((a={attribute:S(o.attribute)}).elementFilter=k.parseSelectors("*["+a.attribute+"]"),1<Object.keys(o).length)throw Error("Invalid request option. attribute has no options.");n.queries.push(a)}else if("element"in o){var i=Object.keys(o).length,a={element:o.element,elementFilter:k.parseSelectors(o.element)};if(o.hasOwnProperty("elementAttributes")&&(a.attributeList=w(o.elementAttributes),i--),void 0!==o.classAttribute&&(a.classAttribute=!1!==o.classAttribute,i--),1<i)throw Error("Invalid request option. element only allows elementAttributes option.");n.queries.push(a)}else{if(!o.characterData)throw Error("Invalid request option. Unknown query request.");if(1<Object.keys(o).length)throw Error("Invalid request option. characterData has no options.");n.queries.push({characterData:!0})}}return n},A.prototype.createSummaries=function(e){var t=this.filterIgnoredMutations(e);if(!t||!t.length)return[];for(var n=new h(this.root,t,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling,this.options.nodeFilter),r=[],o=0;o<this.options.queries.length;o++)r.push(new m(n,this.options.queries[o]));return r},A.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach(function(e){e&&e.recordPreviousState()})},A.prototype.runQueryValidators=function(n){this.queryValidators.forEach(function(e,t){e&&e.validate(n[t])})},A.prototype.changesToReport=function(e){return e.some(function(t){return!!n.some(function(e){return t[e]&&t[e].length})||!(!t.attributeChanged||!Object.keys(t.attributeChanged).some(function(e){return!!t.attributeChanged[e].length}))})},A.prototype.filterSummaries=function(e){if(e&&!(e.length<2)){var t,n,r,o=0;for(e.length;o<length;++o)if(!((t=e[o].added).length<1))for(var i=o+1;i<e.length;++i){r=e[i];for(var a=t.length-1;0<=a;--a)0<=r.removed.indexOf(t[a])?(t.splice(o,1),r.removed.splice(a,1)):0<=(n=r.added.indexOf(t[0]))&&r.added.splice(n,1)}}},A.prototype.observerCallback=function(e){if(this._summaryGuard.shouldIgnore())a.logger.debug("Ignoring mutations",this._summaryGuard);else{var t=this.callback;if(t){this.options.observeOwnChanges||this.observer.disconnect();var n=this.createSummaries(e);this.runQueryValidators(n),this.options.observeOwnChanges&&this.checkpointQueryValidators(),this.changesToReport(n)&&(this.filterSummaries(n),t(n)),!this.options.observeOwnChanges&&this.connected&&(this.checkpointQueryValidators(),this.observer.observe(this.root,this.observerOptions))}}},Object.defineProperty(A.prototype,"isConnected",{get:function(){return Boolean(this.connected)},enumerable:!1,configurable:!0}),A.prototype.reconnect=function(){this.connected||(this.observer.observe(this.root,this.observerOptions),this.connected=!0,this.checkpointQueryValidators())},A.prototype.dispose=function(){try{this.disconnect(),this.observer=null,this.options=null,this._summaryGuard=null,this._callbacks=null,this.elementFilter=null,this.calcReordered=null,this.queryValidators=null}catch(e){a.logger.error(e,"while disposing mutation summary")}},A.prototype.disconnect=function(){if(!this.connected)return a.logger.debug("Disconnect: already disconnected"),[];var e;try{e=this.takeSummaries(),this.observer.disconnect()}catch(e){a.logger.debug("Disconnect: ",e)}return this.connected=!1,e},A.prototype.takeSummaries=function(){if(!this.connected)throw Error("Not connected");var e=this.createSummaries(this.observer.takeRecords());return this.changesToReport(e)?e:void 0},A.NodeMap=l,A.parseElementFilter=k.parseSelectors,A.optionKeys={callbacks:!0,queries:!0,rootNode:!0,oldPreviousSibling:!0,observeOwnChanges:!0,mutationFilter:!0,nodeFilter:!0},A);function A(e,t){var n=this;this.connected=!1,this.options=A.validateOptions(e),this.observerOptions=A.createObserverOptions(this.options.queries),this.root=this.options.rootNode,this._summaryGuard=new R,this._callbacks={current:null,callbacks:r.extend({},{},e.callbacks)},this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map(function(e){return e.elementFilter?e.elementFilter:[]})),this.elementFilter.length||(this.elementFilter=void 0),this.calcReordered=this.options.queries.some(function(e){return e.all}),this.queryValidators=[],A.createQueryValidator&&(this.queryValidators=this.options.queries.map(function(e){return A.createQueryValidator(n.root,e)})),this.observer=new o(function(e){n.observerCallback(e)}),t&&this.reconnect()}var R=(I.prototype.set=function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.ignoreCount+=e;var n=this.ignoreCount;this.timeout=setTimeout(function(){t.timeout=null,t.ignoreCount=Math.max(t.ignoreCount-n,0)},35)},I.prototype.shouldIgnore=function(){var e=0<this.ignoreCount;return e&&this.ignoreCount--,0===this.ignoreCount&&this.timeout&&(clearTimeout(this.timeout),this.timeout=null),e},I);function I(){this.ignoreCount=0,this.timeout=null}Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n}),a.MutationSummary=O}(window.FLITE),Object.defineProperty(Ht,"__esModule",{value:!0}),s=window.FLITE,i=s.$,v.prototype.attach=function(e){try{if(e===this._root)return;this._root&&this._unlisten()}catch(e){s.logger.warn(e)}(this._root=e)&&this._listen()},v.prototype.dispose=function(){this._unlisten(),this._root=null},Object.defineProperty(v.prototype,"root",{get:function(){return this._root},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isComposing",{get:function(){return this._isComposing||this._compositionEnded},enumerable:!1,configurable:!0}),v.prototype._unlisten=function(){var e=this._unlistenCB;if(this._unlistenCB=null,e)try{e()}finally{}},v.prototype._listen=function(){var t=this;function e(e){s.logger.debug("Composition start"),t._isComposing=!0}function n(e){s.logger.debug("Composition update"),t._isComposing=!0}function r(e){s.logger.debug("Composition end"),t._isComposing=!1,t._compositionEnded=!0}function o(e){t._compositionEnded=!1}function i(e){229!==e.which&&(t._compositionEnded=!1)}this._unlisten(),this._root.addEventListener("compositionupdate",n,!0),this._root.addEventListener("compositionstart",e,!0),this._root.addEventListener("compositionend",r,!0),this._root.addEventListener("keyup",o),this._root.addEventListener("keydown",i),this._unlistenCB=function(){t._root&&(t._root.removeEventListener("compositionupdate",n,!0),t._root.removeEventListener("compositionstart",e,!0),t._root.removeEventListener("compositionend",r,!0),t._root.removeEventListener("keyup",o),t._root.removeEventListener("keydown",i))}},a=v,y._guards={},y.nextId=0,c=y,b.prototype.mergeStringsOrArrays=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!e||!e.length)return[];for(var n=[],r=0,o=e.length;r<o;++r){var i=e[r];i&&n.push.apply(n,s.utils.strings.toStringArray(i))}var a=s.utils.strings.toStringMap(n);return Object.keys(a)},b.prototype.isFLITEBody=function(e){return e&&Boolean(e.getAttribute("data-flite-body"))},b.prototype.markFLITEBody=function(e){e&&e.setAttribute("data-flite-body","1")},b.prototype.getTagName=function(e){return e&&e.tagName&&e.tagName.toLowerCase()||null},b.prototype.isBRNode=function(e){return"br"==this.getTagName(e)},b.prototype.printRange=function(e){if(!e)return"<null range>";var t=["Range:",l.printNode(e.startContainer),":",e.startOffset];return e.collapsed||t.push(", end: ",l.printNode(e.endContainer),":",e.endOffset),t.join(" ")},b.prototype.printNode=function(e){if(!e)return"<null node>";var t=e.nodeType,n=[3===t?"text":1===t?e.nodeName:"<"+t+"node>"];return e.id&&n.push("#",e.id),e.className&&n.push(".",e.className),n.push("(",(3===t?e.data:String(e.innerHTML)).substring(0,10),")"),n.push("parent:",e.parentNode&&e.parentNode.nodeName||"NULL"),n.join("")},b.prototype.stripNode=function(e){if(e&&1===e.nodeType){var n=e,t=i.map(n.attributes,function(e){return e.name});i(e).removeClass(),i.each(t,function(e,t){n.removeAttribute(t)})}},b.prototype.findIndexInArray=function(e,t){if(!e)return-1;for(var n=0,r=e.length;n<r;++n)if(t(e[n]))return n;return-1},b.prototype.findInArray=function(e,t){var n=this.findIndexInArray(e,t);return 0<=n?e[n]:null},b.prototype.createCompositionStateTracker=function(){return new a},b.prototype.createBackspaceGuard=function(e,t){return new c(e,t)},b.prototype.makeDateLabel=function(e,t,n,r){new Date;var o=e("MONTHS"),i="string"==typeof o?o.split(","):o;return[i&&i[n]||"",t,r].join(" ")},b.prototype.fixSelection=function(e,t){if(!e||!t||e.collapsed)return e;var n;try{for(;(n=e.endContainer)&&n!==t&&0==e.endOffset&&!e.collapsed&&(n.previousSibling?e.setEndBefore(n):n.parentNode&&n.parentNode!==t&&e.setEndBefore(n.parentNode),e.endContainer!==n););}catch(e){}try{for(;(n=e.startContainer)&&n!==t&&!e.collapsed&&(3==(n=e.startContainer).nodeType?e.startOffset>=n.nodeValue.length&&e.setStartAfter(n):e.startOffset>=n.childNodes.length&&e.setStartAfter(n),e.startContainer!=n););}catch(e){}},b.prototype.removeDeadCharactersFrom=function(e,t){return e&&e.replace(t?this._deadCharsNoNBSPRegex:this._allDeadCharsRegex,"")},b.prototype.getListItemDeleteContext=function(e){var t={li:e,liContent:e.innerHTML,list:e.parentNode,listTag:e.parentNode.nodeName,index:s.utils.dom.getNodeIndex(e),tag:s.utils.getUniqueId("flite-list-")};return t.list.setAttribute("data-flite-list-id",t.tag),t.li.setAttribute("data-flite-li-id",t.tag),t},b.prototype.findMatchingListElement=function(e,t){var n={list:void 0,item:void 0};if(!e||!t||!t.length)return n;for(var r=0,o=t;r<o.length;r++){var i=o[r];if(1===i.nodeType){if(!n.list&&i.getAttribute("data-flite-list-id")===e.tag&&(i.removeAttribute("data-flite-list-id"),n.list=i,n.item))return n;if(!n.list&&i.getAttribute("data-flite-li-id")===e.tag&&(i.removeAttribute("data-flite-li-id"),n.item=i,n.list))return n}}return n},u=b,_.prototype.getSelector=function(e){return this._matcherMap[e]},_.prototype.addPatterns=function(e,t){if(!t||!e)return this;var n=this._matcherMap[e]||"";return this._matcherMap[e]=this._addPatternsToString(n,t),this._refresh(),this},_.prototype.removePattern=function(e,t){if(!e||!t)return this;var n=this._matcherMap[e]||"";return this._matcherMap[e]=this._removePatternsFromString(n,t),this._refresh(),this},_.prototype.addClassifier=function(e){return this._matchers.push(e),this},_.prototype.classifyNode=function(e,t,n,r){if(void 0===r&&(r=!1),!e||e===t)return _.IGNORE;if(3===e.nodeType){if(n&&s.utils.dom.isEmptyTextNode(e))return _.IGNORE;if(r)return _.NODE_AND_CONTENT}var o=this._runMatchers(e);if(o!=_.NODE_AND_CONTENT)return o;if((o=this._runSelectors(e))===_.FORCE_ACCEPT)return _.NODE_AND_CONTENT;if(r||o===_.IGNORE)return o;for(var i=e.parentNode;i&&i!==t;i=i.parentNode){var a=this._runSelectors(i);if(a===_.FORCE_ACCEPT)return _.NODE_AND_CONTENT;if(a===_.NODE_ONLY||a===_.IGNORE)return _.IGNORE}return o},_.prototype._runSelectors=function(e){var t,n=_.NODE_AND_CONTENT;if(this._matcherMap[n]&&s.utils.dom.matchesSelector(e,this._matcherMap[n]))return _.FORCE_ACCEPT;for(var r=0,o=this._types.length;r<o;++r)if((t=this._types[r])!==n&&s.utils.dom.matchesSelector(e,this._matcherMap[t]))return t;return _.NODE_AND_CONTENT},_.prototype._refresh=function(){var n=this;Object.keys(this._matcherMap).forEach(function(e){var t=n._matcherMap[e];t&&t.length||delete n._matcherMap[e]}),this._types=Object.keys(this._matcherMap).sort(function(e,t){return e===_.IGNORE?-1:t===_.IGNORE?1:0})},_.prototype._runMatchers=function(e){for(var t,n=0,r=this._matchers.length;n<r;++n)if(t=this._matchers[n](e,this))return t;return _.NODE_AND_CONTENT},_.prototype._removePatternsFromString=function(e,t){if(!t)return e;var n=this._toSelectorMap(t),r=this._toSelectorMap(e);return Object.keys(n).forEach(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];delete r[e]}),Object.keys(r).join(",")},_.prototype._addPatternsToString=function(e,t){return s.trackerUtils.mergeStringsOrArrays(e,t).join(",")},_.prototype._toSelectorMap=function(e){return s.utils.strings.toStringMap(s.utils.strings.toStringArray(e))},_.NODE_AND_CONTENT="track",_.NODE_ONLY="node",_.CONTENT_ONLY="content",_.IGNORE="ignore",_.FORCE_ACCEPT="track!",d=_,s.trackerUtils=l=new u,s.NodeClassifier=d,Object.defineProperty(Ht,"__esModule",{value:!0}),function(u){var l=u.$,s=/ice-ins/,c={OL:1,TR:1,UL:1,BR:1,TBODY:1},t={TOGGLE_TRACKING:"Toggle Tracking Changes",TOGGLE_SHOW:"Toggle Tracking visibility",ACCEPT_ALL:"Accept all changes",REJECT_ALL:"Reject all changes",ACCEPT_ONE:"Accept Change",REJECT_ONE:"Reject Change",START_TRACKING:"Start tracking changes",STOP_TRACKING:"Stop tracking changes",PENDING_CHANGES:"Your document contains some pending changes.\nPlease resolve them before turning off change tracking.",HIDE_TRACKED:"Hide tracked changes",SHOW_TRACKED:"Show tracked changes",CHANGE_TYPE_ADDED:"added",CHANGE_TYPE_DELETED:"deleted",MONTHS:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],NOW:"now",MINUTE_AGO:"1 minute ago",MINUTES_AGO:"%Minutes minutes ago",BY:"by",ON:"on",AT:"on"};u.Events={INIT:"flite:init",ACCEPT:"flite:accept",REJECT:"flite:reject",SHOW_HIDE:"flite:showHide",TRACKING:"flite:tracking",CHANGE:"flite:change",HOVER_IN:"flite:hover-in",HOVER_OUT:"flite:hover-out",EVENT_INTERCEPTED:"flite:event-intercepted"},u.Commands={TOGGLE_TRACKING:"flite-toggletracking",TOGGLE_SHOW:"flite-toggleshow",ACCEPT_ALL:"flite-acceptall",REJECT_ALL:"flite-rejectall",ACCEPT_ONE:"flite-acceptone",REJECT_ONE:"flite-rejectone",TOGGLE_TOOLTIPS:"flite-toggletooltips",NEXT_CHANGE:"flite-nextchange",PREV_CHANGE:"flite-prevchange"};var r=[/^tabindex/i,/^aria-/i],e={isTracking:!0,isVisible:!0,onEditorDestroy:"none",trackApiInsert:!0,removeDeleteOnPaste:!1,showChangesWhenInactive:!0,preserveWhiteSpace:!0,ignoreCommands:void 0,ignoreContainers:!1,trackSpellcheck:!1,deletableSelectors:"P,LI,H1,H2,H3,H4,H5,H6,DIV,IMG,BR",opaqueSelectors:"",backgroundColors:{insert:["#A0F7A5","#bdffff","#e5ffcd"],delete:["#ffdddd","#F1C9FF","#FFB3A5"]},debug:{error:!1,log:!1,debug:!1,warn:!1,prefix:"FLITE "},tooltips:{show:!0,delay:[750,0],template:"%a %%BY %u %t",useTitle:!1,formatter:null},contextMenu:!0,ignoreSelectors:[],userName:null,userId:null,styleUrls:["css/flite.css","css/tooltips.css"],acceptRejectInReadOnly:!1,commands:null,timezone:null},d={fliteTextContent:"data-flite-text-content",fliteCreated:"data-flite-created",fliteMarked:"data-flite-marked",fliteTitle:"data-flite-title",changeId:"data-flite-cid",userId:"data-userid",userName:"data-username",sessionId:"data-session-id",changeData:"data-changedata",time:"data-time",lastTime:"data-last-change-time",isDeleteNode:"data-flite-is-delete"};function p(e,t,n){l(e).addClass(n);for(var r,o=t.attributes,i=o&&o.length-1||-1;0<=i;--i)r=o[i].name,u.flitePluginUtils.shouldIgnoreImportedAttribute(r)||e.getAttribute(r)||e.setAttribute(r,o[i].value);return e}function f(e){return e?e.replace(/<[^>]*>/g," ").replace(/[^\x11-\x7F]+/g,"").replace(/\&[\#a-z0-9]+\;/gi," ").replace(/(\s)\s+/g,"$1"):""}var n=void 0,o=(i.prototype.isClipboardAPIAvailable=function(){if(void 0===n)try{(n=void 0!==navigator.clipboard&&"function"==typeof navigator.clipboard.write)?u.logger.debug("Using clipboard API"):/^https/i.test(window.top.location.protocol)||u.logger.warn("The clipboard API is only available under http. Complex `cut` operations may not track properly")}catch(e){}return n},Object.defineProperty(i.prototype,"insertClass",{get:function(){return"ice-ins"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"deleteClass",{get:function(){return"ice-del"},enumerable:!1,configurable:!0}),i.prototype.addUsers=function(e,t){if(t){u.$.isArray(t)||(t=[t]);var n=e.users;t.forEach(function(e){n.addUser(e)})}},i.prototype.setUserInfo=function(e,t){var n=t&&t.id;if(!n)return u.logger.warn("setUserInfo did not receive a user id"),!1;if(!e.users)return!1;var r=e.users.getUser(n)||{},o={id:n,name:t.name||r.name||e.getLocalizedString("USER"),style:t.style||r.style};return r.id?o.name===r.name&&o.style===r.style||e.users.updateUser(o):e.users.addUser(o),e.users.setCurrentUser(o.id),!0},i.prototype.shouldIgnoreImportedAttribute=function(e,t){if(!e)return!0;for(var n=r.length-1;0<=n;--n)if(r[n].test(e))return!0;return!1},i.prototype.createSpellCheckerTest=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=u.utils.strings.toStringArray(t).concat(u.utils.strings.toStringArray(e.config.spellCheckerClasses)).filter(Boolean).join(",");return function(e){return!(!e||1!==e.nodeType)&&u.utils.dom.matchesSelector(e,r)}},Object.defineProperty(i.prototype,"defaultConfig",{get:function(){return l.extend(!0,{},e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"trackerAttributes",{get:function(){return l.extend(!0,{},d)},enumerable:!1,configurable:!0}),i.prototype.upgradeConfig=function(e){var t=u.flitePluginUtils.defaultConfig;!(e=e||{}).maxDocumentReadyWaitSeconds||isNaN(e.maxDocumentReadyWaitSeconds)||Number(e.maxDocumentReadyWaitSeconds)<0?e.maxDocumentReadyWaitSeconds=0:e.maxDocumentReadyWaitSeconds=Number(e.maxDocumentReadyWaitSeconds),e.user?e.user.id||(u.logger.error("Missing id for user",e.user),e.user=null):e.userId&&(e.user={id:String(e.userId),name:e.userName||""}),e.userId=e.userName=void 0,e.deletableSelectors=u.trackerUtils.mergeStringsOrArrays(t.deletableSelectors,e.deletableSelectors).join(","),e.opaqueSelectors=u.trackerUtils.mergeStringsOrArrays(t.opaqueSelectors,e.opaqueSelectors).join(","),e.timezoneOffset=u.utils.getRelativeTimezoneOffset(e.timezone),e.ignoreCommands&&(e.ignoreCommands=u.utils.strings.toStringArray(e.ignoreCommands));var n=e.contextMenu||e.contextmenu||e["context-menu"],r=typeof n,o=null;"boolean"==r?o=n?[FLITE.Commands.ACCEPT_ONE,FLITE.Commands.REJECT_ONE]:[]:"string"==r?o=u.utils.strings.toStringArray(o):l.isArray(n)?o=n:n&&u.logger.error("unknown context menu configuration",n),e.contextMenu=o&&o.map(function(e){return e.trim()}).filter(Boolean),"boolean"==typeof e.tooltips?e.tooltips=e.tooltips?t.tooltips:{show:!1,delay:0,template:null,useTitle:!1,formatter:null}:e.tooltips?e.tooltips=l.extend({},t.tooltips,e.tooltips):e.tooltips=t.tooltips;var i=e.tooltips,a=i.delay,s=typeof a;return null==a?a=t.tooltips.delay:"string"==s||"number"==s?a=[Number(a),t.tooltips.delay[1]]:l.isArray(a)||(u.logger.error("invalid type "+s+" for tooltips delay"),a=t.tooltips.delay),e.tooltips.delay=a,e.tooltipTemplate&&(i.template=i.template||e.tooltipTemplate),this.validateKey(),l.extend(!0,{},t,e)},i.prototype.loadScript=function(r,e,o){var i=r.getElementsByTagName("head")[0];(e||[]).forEach(function(e){!function(e){if(e){var t="flite-"+e.replace(/[^0-9a-z]+/gi,"_");if(0===l(i).find("#"+t).length){var n=r.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("id",t),n.setAttribute("src",u.utils.joinPath(o,e)),i.appendChild(n)}}}(e)})},i.prototype.toggleTracking=function(t,e,n){var r,o=this;function i(){a||t.timeoutClient.stopAll(),t.processSetIsTracking(a,r.force),t.isTracking||t.toggleShow(t.isVisible&&!1!==t.config.showChangesWhenInactive),!1!==r.notify&&t.fireEditorEvent(u.Events.TRACKING,{tracking:a,flite:o})}r="boolean"==typeof n?{notify:n}:n||{};var a=void 0===e?!t.isTracking:e,s=!0===t.config.allowQuitWithChanges||n&&r.force;if(!a&&t.isTracking&&!s&&t.tracker&&t.tracker.countChanges({verify:!0}))return"function"==typeof t.config.allowQuitWithChanges?t.config.allowQuitWithChanges(t).then(function(e){if(e){if("accept"===e)t.acceptAll(null);else if("reject"===e)t.rejectAll(null);else if(!0!==e)return void u.logger.error("Illegal value "+e+" return from allowQuitWithChanges");i()}}):window.alert(t.getLocalizedString("PENDING_CHANGES"));i()},i.prototype.acceptChangedNode=function(e,t,n){return this._acceptOrRejectChangedNode({node:e,plugin:t,options:n,isAccept:!0})},i.prototype.rejectChangedNode=function(e,t,n){return this._acceptOrRejectChangedNode({node:e,plugin:t,options:n,isAccept:!1})},i.prototype.replaceInsDel=function(e,t,n,r){var o=l(t).find(n),i=e.tracker.getWrappingTagName(null,r),a=r?this.insertClass:this.deleteClass;o.each(function(e,n){var r,t=n.parentNode,o=[];l(n).contents().each(function(e,t){r=3===t.nodeType?function(e,t,n,r){var o="string"==typeof e?t.ownerDocument.createTextNode(e):e,i=t.ownerDocument.createElement(n);return i.appendChild(o),p(i,t,r),i.setAttribute(d.fliteCreated,"1"),i}(t,n,i,a):p(t,n,a),o.push(r)}),o.forEach(function(e){t.insertBefore(e,n)}),t.removeChild(n)})},i.prototype._acceptOrRejectChangedNode=function(e){var t=e.plugin;e.options=e.options||{},void 0===e.options.autoNext&&(e.options.autoNext=t.config.autoNext);var n=Boolean(e.node&&t.tracker&&(e.isAccept?t.tracker.acceptChange(e.node):t.tracker.rejectChange(e.node)));if(n&&(t.fireEditorEvent(e.isAccept?u.Events.ACCEPT:u.Events.REJECT,{flite:t}),t.cleanupAfterAcceptReject(),e.options.autoNext)){var r=t.tracker.navigateToChangeNode("next");r&&(e.plugin.revealEditorNode(r),t.onSelectionChanged(null))}return n},i.prototype.validateKey=function(){var e="api-key-placeholder";if(/placeholder/.test(e))return!0;var t=document.head&&document.head.querySelectorAll("meta[name='FLITE-API-KEY']"),n=t&&t.length&&t[0];return n&&n.getAttribute&&n.getAttribute("content")===e},i.prototype.updateSpellingStack=function(e){var o={"tr,td,ul,ol":!0};return function(t){Object.keys(t).forEach(function(e){/^tr,/.test(e)&&delete t[e]})}(o),e&&e.length&&o?(e.each(function(e,t){if(t.attributes&&t.attributes.length){var n=l.extend({},o),r=function(e){var t=(e||"").split("").reduce(function(e,t,n,r){return e+(n+1)*t.charCodeAt(0)},0);return n[t]&&delete n[t],t};Array.prototype.slice.apply(t.attributes).forEach(function(e){r(e.nodeValue),r(e.nodeName)}),0===Object.keys(n).length&&(o=void 0)}}),Boolean(o)):0<Object.keys(o).length},i.prototype.makeTooltipTitle=function(r){var e=r.config,t=r.change,n=new Date(t.time),o=new Date(Date.now()+r.timeOffset),i=new Date(t.lastTime),a=e.template||"";return a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace(/%%([^\b\s]+)/g,function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return r.localize(t[0])})).replace(/%a/g,r.localize(r.isInsert?"CHANGE_TYPE_ADDED":"CHANGE_TYPE_DELETED"))).replace(/%t/g,u.flitePluginUtils.relativeDateFormat(n,o,r.localize))).replace(/%u/g,t.username)).replace(/%dd/g,u.utils.strings.padNumber(n.getDate(),2))).replace(/%d/g,String(n.getDate()))).replace(/%mm/g,u.utils.strings.padNumber(n.getMonth()+1,2))).replace(/%m/g,String(n.getMonth()+1))).replace(/%yy/g,u.utils.strings.padNumber(n.getFullYear()%100,2))).replace(/%y/g,String(n.getFullYear()))).replace(/%nn/g,u.utils.strings.padNumber(n.getMinutes(),2))).replace(/%n/g,String(n.getMinutes()))).replace(/%hh/g,u.utils.strings.padNumber(n.getHours(),2))).replace(/%h/g,String(n.getHours()))).replace(/%T/g,u.flitePluginUtils.relativeDateFormat(i,o,r.localize))).replace(/%DD/g,u.utils.strings.padNumber(i.getDate(),2))).replace(/%D/g,String(i.getDate()))).replace(/%MM/g,u.utils.strings.padNumber(i.getMonth()+1,2))).replace(/%M/g,String(i.getMonth()+1))).replace(/%YY/g,u.utils.strings.padNumber(i.getFullYear()%100,2))).replace(/%Y/g,String(i.getFullYear()))).replace(/%NN/g,u.utils.strings.padNumber(i.getMinutes(),2))).replace(/%N/g,String(i.getMinutes()))).replace(/%HH/g,u.utils.strings.padNumber(i.getHours(),2))).replace(/%H/g,String(i.getHours()))},i.prototype.relativeDateFormat=function(e,t,n){var r,o,i,a=(t=t||new Date).getDate(),s=t.getMonth(),l=t.getFullYear(),c=typeof e;return a==(r="string"==c||"number"==c?new Date(r):e).getDate()&&s==r.getMonth()&&l==r.getFullYear()?(o=Math.floor((t.getTime()-r.getTime())/6e4))<1?n("NOW"):o<2?n("MINUTE_AGO"):o<60?n("MINUTES_AGO").replace("%Minutes",String(o)):(i=r.getHours(),o=r.getMinutes(),n("AT")+" "+u.utils.strings.padNumber(i,2)+":"+u.utils.strings.padNumber(o,2)):[n("ON"),u.trackerUtils.makeDateLabel(n.bind(this),r.getDate(),r.getMonth(),l===r.getFullYear()?null:r.getFullYear())].join(" ")},i.prototype.destroyTracker=function(e,t){var n=e.tracker;try{if(e.getBody()&&n)switch(t){case"accept":e.acceptAll({notify:!1});break;case"reject":e.rejectAll({notify:!1});break;case"hide":n.setShowChanges(!1)}}catch(e){u.logger.error(e)}if(n)try{n.toggleChangeTracking(!1,null),n.dispose()}catch(e){u.logger.error(e)}},Object.defineProperty(i.prototype,"TooltipGuard",{get:function(){return a},enumerable:!1,configurable:!0}),i.prototype.getEditorOffset=function(e){var t={x:0,y:0},n=e&&e.frameElement;if(!n)return t;var r=l(n).offset(),o=l(window);return t.x=r.left+o.scrollLeft(),t.y=r.top+o.scrollTop(),t},i.prototype.getEditorOffsetString=function(e){var t=u.flitePluginUtils.getEditorOffset(e);return[-t.x,-t.y].join(",")},i.prototype.removeTooltipFromNode=function(e){if(e&&1===e.nodeType)try{var t=e._tippy;t&&t.destroy()}finally{}},i.prototype.addTooltipToNode=function(t){var n=this;if(t.node&&1===t.node.nodeType&&!(t.node.nodeName in c)){var e=t.config||{};if(e.show){var r=Boolean(e.useTitle),o=function(){if(!t.change)return"";var e={change:t.change,timeOffset:t.timeOffset,isInsert:s.test(t.node.className),config:t.config,localize:t.localize};return t.config.formatter?t.config.formatter(e):u.flitePluginUtils.makeTooltipTitle(e)};if(r){var i=t.node.getAttribute("title");if(!t.node.getAttribute("data-flite-title")){var a=f(o());t.node.setAttribute("data-flite-title",i||"1"),t.node.setAttribute("title",i?i+" ("+a+")":a)}}try{u.tippy(t.node,{content:".",a11y:!1,flipOnUpdate:!0,onShow:function(e){return r?(t.node.setAttribute("title",f(o())),!1):(e.set({followCursor:"initial"}),!1!==t.canShow()&&(e.setContent(o()),void n.hideTooltips(t.node)))},delay:t.config.delay,theme:"dark",arrow:!0,followCursor:"initial",maxWidth:250,role:"none",appendTo:function(){return t.node.ownerDocument.body}})}catch(e){u.logger.debug("error while creating tooltip",e)}}}},i.prototype.removeAllTooltips=function(e){var t=e&&e.ownerDocument||e,n=t&&(t.body||l(t).find("body")[0]);n&&l(n).find("*").each(function(e,t){u.flitePluginUtils.removeTooltipFromNode(t)})},i.prototype.hideTooltips=function(e){var t=e&&e.ownerDocument||e;t&&l(t).find(".tippy-popper").each(function(e,t){var n=t&&t._tippy;try{n&&n.state.isShown&&n.hide(0),l(t).remove()}finally{}})},i.prototype.updateTrackerOptions=function(e,t){e.nodeClassifier.addPatterns(u.NodeClassifier.CONTENT_ONLY,"TBODY,TR,UL,OL").addPatterns(u.NodeClassifier.IGNORE,"BR");var n=t&&t.ignoreContainers;if(n){var r=!0===n?["p","div","h1","h2","h3","h4","h5","h6"]:String(n).split(",").map(function(e){return e.trim()}).filter(Boolean);e.nodeClassifier.addPatterns(u.NodeClassifier.CONTENT_ONLY,r)}},i.prototype.getEnglishString=function(e){return t[e]||null},i.prototype.createUserManager=function(e){return new g(e)},i);function i(){}var a=(h.prototype.attach=function(e){e!==this._doc&&(this._doc&&this._detach(),e&&this._attach(e))},h.prototype.detach=function(){this._detach()},Object.defineProperty(h.prototype,"canShowTooltip",{get:function(){return Date.now()-this._lastEventTime>this._duration},enumerable:!1,configurable:!0}),h.prototype._detach=function(){if(this._remove)try{this._remove()}finally{this._remove=null}},h.prototype._attach=function(e){var t=this;function n(){u.flitePluginUtils.hideTooltips(e),t._lastEventTime=Date.now()}(this._doc=e).body.addEventListener("keyup",n),e.body.addEventListener("mousedown",n),this._remove=function(){t._doc.body.removeEventListener("keyup",n),t._doc.body.removeEventListener("mousedown",n)}},h);function h(e){this._duration=e,this._lastEventTime=0,this._canShow=!0}var g=(m.prototype.getCurrentUser=function(e){return this._currentUserId&&this._users[this._currentUserId]||(e?{id:"",name:"default user",style:null}:null)},m.prototype.dispose=function(){for(var e in this._users)delete this._users[e];this._currentUserId=null},m.prototype.updateUser=function(e){if(!e||!e.id)return u.logger.error("updateUser: missing user id",e),null;var t=this._users[String(e.id)],n=!1;t?(e.name&&e.name!==t.name&&(n=!0,t.name=e.name),e.style&&e.style!==t.style&&(n=!0,t.style=e.style),n&&this._plugin.tracker&&this._plugin.tracker.updateUser(e)):u.logger.warn("updateUser: no user with id "+e.id)},m.prototype.setCurrentUser=function(e){this.getUser(e)?this._currentUserId=String(e):u.logger.error("setCurrentUser: unknown user id",e)},m.prototype.addUser=function(e){var t=this._plugin;if(!e||!e.id)return u.logger.error("can't add a user without an id",e),null;var n=this._users,r=n[e.id]||{};return n[(e=u.$.extend(!0,{id:e.id},{name:e.name||r.name||"",style:e.style||r.style})).id]=e,t.tracker&&t.tracker.addUsers(e),e},m.prototype.removeUser=function(e){var t=this._plugin,n=this._users;n[e]&&(delete n[e],t.tracker&&t.tracker.removeUsers(e))},m.prototype.getUser=function(e){return e&&this._users[String(e)]||null},m.prototype.getAllUsers=function(){var n={},r=this._users;return Object.keys(r).forEach(function(e){var t=r[e];t&&t.id&&(n[t.id]=l.extend(!0,{},t))}),n},m);function m(e){this._plugin=e,this._users={}}u.flitePluginUtils=new o}(window.FLITE),Object.defineProperty(Ht,"__esModule",{value:!0}),function(u){var s=u.$,e={meta:!0,input:!0,frame:!0,col:!0,base:!0,area:!0,img:!0,hr:!0,iframe:!0,param:!0,link:!0},t={body:!0,p:!0,div:!0,table:!0,tbody:!0,tr:!0,td:!0,th:!0,pre:!0,ul:!0,ol:!0,li:!0,fieldset:!0,form:!0,blockquote:!0,dl:!0,dt:!0,dd:!0,dir:!0,center:!0,address:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0},r=u.utils.strings.toStringMap(["body","p","div","pre","u","b","s","sub","sup","em","strong","span","i","li","td","th","blockquote","dt","dd","center","address","h1","h2","h3","h4","h5","h6","ins","del"]),n=u.utils.strings.toStringMap(["u","b","s","sub","sup","em","strong","span","i","blockquote"]),o=s.extend({},e);o.br=1;function a(e){return e.nextSibling}function i(e){return e.previousSibling}function l(e){return e.parentNode}var c=Object.keys(e).join(", "),d=(p.prototype.preserveWhiteSpaces=function(e){if(!e||!e.data||!e.data.length)return e;for(var t=0,n=null;0<=(t=e.data.indexOf("  ",t));)for(n=n||e.data.split("");" "===n[t];)n[t]=" ",t+=2;return n&&(e.data=n.join("")),e},p.prototype.getComputedStyle=function(e,t){var n=e&&1===e.nodeType&&e.ownerDocument,r=n&&n.defaultView,o=r&&r.getComputedStyle(e);return o?o.getPropertyValue(t):""},p.prototype.cleanTextNode=function(e,t){return e&&e.length&&(e.data=u.trackerUtils.removeDeadCharactersFrom(e.data,t)),e},p.prototype.addStubElementSelector=function(e){o[e]=!0},p.prototype.createTreeWalker=function(e){return new f(e)},p.prototype.getKeyChar=function(e){return String.fromCharCode(e.which)},p.prototype.removeEmptyCharsFromTextNode=function(e){var t;if(!e||3!==e.nodeType||!(t=e.length))return!1;for(var n=e.data,r=(u.trackerUtils.removeDeadCharactersFrom(n,!0),[]),o=e.data,i=0;i<t;++i)8203===o.charCodeAt(i)&&r.push(i);if(r.length<1)return!1;var a=o.split("");for(i=r.length-1;0<=i;--i)a.splice(i,1);return e.data=a.join(""),!0},p.prototype.getChildrenOfClass=function(e,t,n){t=t||document.body;var r=e.split(" ");return r.unshift(n||""),e=r.join("."),s.makeArray(s(t).find(e))},p.prototype.getElementWidth=function(e){return e.offsetWidth},p.prototype.getElementHeight=function(e){return e.offsetHeight},p.prototype.getElementDimensions=function(e){return{width:this.getElementWidth(e),height:this.getElementHeight(e)}},p.prototype.getNode=function(e,t){if(!e)return null;var n=e.$;if(n&&n.nodeType&&(e=n),1===e.nodeType)return u.utils.dom.matchesSelector(e,t)?e:null;for(var r=e.parentNode;r&&"BODY"!==r.nodeName;r=r.parentNode)if(u.utils.dom.matchesSelector(r,t))return r;return null},p.prototype.getParents=function(e,t,n){for(var r=s(e).parents(t),o=r.length,i=[],a=0;a<o&&r[a]!==n;a++)i.push(r[a]);return i},p.prototype.getSiblings=function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=null),!0===n)return"prev"===t?s(e).prevAll():s(e).nextAll();var o=[];if("prev"===t)for(;e.previousSibling&&(e=e.previousSibling)!==r;)o.push(e);else for(;e.nextSibling&&(e=e.nextSibling)!==r;)o.push(e);return o},p.prototype.getNodeStubContent=function(e){return s(e).find(c)},p.prototype.hasNoTextOrStubContent=function(e){if(!e||1!==e.nodeType)return!0;var t=e,n=t&&t.tagName&&String(t.tagName).toLowerCase();return!(!(n&&n in r)||!u.utils.strings.isEmptyString(t.textContent)||e.firstChild&&0!==s(e).find(c).length)},p.prototype.getNodeCharacterLength=function(e){return u.utils.dom.getNodeTextContent(e).length+s(e).find(c).length},p.prototype.setNodeTextContent=function(e,t){return s(e).text(t)},p.prototype.getIframeDocument=function(e){var t=null;return e.contentDocument?t=e.contentDocument:e.contentWindow?t=e.contentWindow.document:e.document&&(t=e.document),t},p.prototype.isBlockElement=function(e){return e&&e.nodeName&&e.nodeName.toLowerCase()in t},p.prototype.isStubElement=function(e){return e&&e.nodeName&&e.nodeName.toLowerCase()in o},p.prototype.walk=function(e,t,n){e&&(n=n||0,!1!==t.call(this,e,n)&&(e.childNodes&&0<e.childNodes.length?this.walk(e.firstChild,t,n+1):e.nextSibling?this.walk(e.nextSibling,t,n):e.parentNode&&e.parentNode.nextSibling&&this.walk(e.parentNode.nextSibling,t,n-1)))},p.prototype.getCommonAncestor=function(e,t){for(var n=e;n;)return!0===u.utils.dom.isDescendantOf(t,n)?n:null},p.prototype.getNextNode=function(e,t,n){if(!e||!u.utils.dom.isDescendantOf(e,t.root))return u.logger.warn("getNextNode: source node null or not under root"),null;if(t.root,n&&t.elementMatch(e)){var r=this.getFirstChild(e,t);if(r&&r!==e)return r}var o=this.skipIgnored(e.nextSibling,t,a);if(o)return t.breakOn(o)?null:t.elementMatch(o)?o:this.getFirstChild(o,t);var i=this.skipIgnored(e.parentNode,t,l);return i?this.getNextNode(i,t,!1):null},p.prototype.getPrevNode=function(e,t,n){if(!e||!u.utils.dom.isDescendantOf(e,t.root))return u.logger.warn("getPrevNode: source node null or not under root"),null;var r,o=this.skipIgnored(e.previousSibling,t,i);if(!o&&n&&(o=r=this.skipIgnored(e.parentNode,t,l)),o){if(t.breakOn(o))return null;if(t.elementMatch(o))return o;if(o!==r)return this.getLastChild(o,t)}return(r=r||this.skipIgnored(e.parentNode,t,l))?this.getPrevNode(r,t,n):null},p.prototype.canContainTextElement=function(e){return Boolean(e&&e.nodeName&&e.nodeName.toLowerCase()in r)},p.prototype.getFirstChild=function(e,t){if(!e||1!==e.nodeType)return e;var n=this.skipIgnored(e.firstChild,t,a);return n?3===n.nodeType?n:t.elementMatch(n)?n:this.getFirstChild(n,t):e},p.prototype.getLastChild=function(e,t){if(!e||1!==e.nodeType)return e;var n=this.skipIgnored(e.lastChild,t,i);return n?3===n.nodeType?n:t.elementMatch(n)?n:this.getLastChild(n,t):e},p.prototype.getNextContentNode=function(e,t){if(e)for(;e.parentNode;){if(e===t)return null;var n=e.nextSibling;if(n&&this.canContainTextElement(this.getBlockParent(e,t))){if(3===n.nodeType&&u.utils.dom.isEmptyTextNode(e)){e=n;continue}return n}if(e.nextElementSibling)return e.nextElementSibling;e=e.parentNode}return null},p.prototype.getPrevContentNode=function(e,t){if(e)for(;e.parentNode;){if(e===t)return null;if(e.previousSibling&&this.canContainTextElement(this.getBlockParent(e,t))){if(3!==e.previousSibling.nodeType||0!==e.previousSibling.length)return e.previousSibling;e=e.previousSibling}else{if(e.previousElementSibling)return e.previousElementSibling;e=e.parentNode}}return null},p.prototype._findNextTextContainer=function(e){for(var t;e;){if(3==e.nodeType)return e;for(var n=e.firstChild;n;n=n.nextSibling)if(t=this._findNextTextContainer(n))return t;if(this.isTextContainer(e))return e;e=e.nextSibling}return null},p.prototype._findPrevTextContainer=function(e){for(;e;){if(3==e.nodeType)return e;for(var t=e.lastChild;t;t=t.previousSibling){var n=this._findPrevTextContainer(t);if(n)return n}if(this.isTextContainer(e))return e;e=e.previousSibling}return null},p.prototype.findPrevTextContainer=function(e,t){if(!e||e==t)return{node:t,offset:0};if(e.parentNode&&this.isTextContainer(e.parentNode))return{node:e.parentNode,offset:u.utils.dom.getNodeIndex(e)};for(;e.previousSibling;){var n=this._findPrevTextContainer(e.previousSibling);if(n)return{node:n,offset:u.utils.dom.getNodeLength(n)};e=e.previousSibling}return this.findPrevTextContainer(e.parentNode&&e.parentNode.previousSibling,t)},p.prototype.findNextTextContainer=function(e,t){if(!e||e==t)return{node:t,offset:u.utils.dom.getNodeLength(t)};if(e.parentNode&&this.isTextContainer(e.parentNode))return{node:e.parentNode,offset:u.utils.dom.getNodeIndex(e)+1};for(;e.nextSibling;){var n=this._findNextTextContainer(e.nextSibling);if(n)return{node:n,offset:0};e=e.nextSibling}return this.findNextTextContainer(e.parentNode&&e.parentNode.nextSibling,t)},p.prototype.isTextContainer=function(e){return e&&3==e.nodeType||(e.nodeName||"").toLowerCase()in r},p.prototype.isInlineElement=function(e){return e&&1===e.nodeType&&(e.nodeName||"").toLowerCase()in n},p.prototype.findInlineParent=function(e,t){for(var n=null,r=e&&e.parentNode;r&&"BODY"!==r.nodeName;r=r.parentNode){if(!this.isInlineElement(r)||t&&!t(r))return n;n=r}return n},p.prototype.splitTextAt=function(e,t,n,r){void 0===r&&(r=!1);var o,i=e.length;return t<0||i<=t?null:(i<=t+n&&(n=i-t),n===i?r?e:null:((o=0<t?e.splitText(t):e).length>n&&o.splitText(n),o))},p.prototype.isset=function(e){return null!=e},p.prototype.inArray=function(e,t){for(var n=t.length,r=0;r<n;r++)if(e===t[r])return!0;return!1},p.prototype.arrayDiff=function(e,t,n){var r,o=e.length,i=[];for(r=0;r<o;r++)!1===this.inArray(e[r],t)&&i.push(e[r]);if(!0!==n)for(o=t.length,r=0;r<o;r++)!1===this.inArray(t[r],e)&&i.push(t[r]);return i},p.prototype.arrayMerge=function(e,t){for(var n=t.length,r=0;r<n;r++)e.push(t[r]);return e},p.prototype.getBlockParent=function(e,t){if(!0===this.isBlockElement(e))return e;if(e&&e!==t)for(;e.parentNode;){if(e=e.parentNode,!0===this.isBlockElement(e))return e;if(e===t)return null}return null},p.prototype.isOnBlockBoundary=function(e,t,n){return!(!e||!t)&&(this.getBlockParent(e,n)||this.isBlockElement(e)&&e||null)!==(this.getBlockParent(t,n)||this.isBlockElement(t)&&t||null)},p.prototype.mergeContainers=function(e,t){if(!e||!t)return!1;if(3===e.nodeType||this.isStubElement(e))t.appendChild(e);else if(1===e.nodeType){for(;e.firstChild;)t.appendChild(e.firstChild);s(e).remove()}return!0},p.prototype.isRangeInElement=function(e,t){for(var n=e&&e.startContainer;n;){if(n===t)return!0;n=n.parentNode}return!1},p.prototype.mergeBlockWithSibling=function(e,t,n){var r=n?s(t).next().get(0):s(t).prev().get(0);return n?this.mergeContainers(r,t):this.mergeContainers(t,r),e.collapse(!0),!0},p.prototype._getNextContainer=function(e,t){var n=t&&t.root;if(!e||e===n)return null;for(;e.nextSibling;){if(3!==(e=e.nextSibling).nodeType){var r=this.getFirstSelectableChild(e,t);if(null!==r)return r}if(this.isSelectable(e,t))return e}for(;e&&!e.nextSibling;){if(e===n)return null;e=e.parentNode}if(!e||e===n)return null;if(e=e.nextSibling,this.isSelectable(e,t))return e;var o=this.getFirstSelectableChild(e,t);return null!==o?o:this._getNextContainer(e,t)},p.prototype.getNextContainer=function(e,t){return this._getNextContainer(e,t||{})},p.prototype._getPreviousContainer=function(e,t){var n=t.root,r=t.nodeFilter;if(!e||e===n)return null;for(;e.previousSibling;){if(3!==(e=e.previousSibling).nodeType){if(!0===u.domUtils.isStubElement(e))return e;var o=this.getLastSelectableChild(e,t);if(null!==o)return o}if(this.isSelectable(e,t))return e}do{if(!(e=e.parentNode)||e===n)return null;if(r&&r(e))return e;if(e.previousSibling)break}while(e);if(e=e.previousSibling,this.isSelectable(e,t))return e;var i=this.getLastSelectableChild(e,t);return null!==i?i:this._getPreviousContainer(e,t)},p.prototype.getPreviousContainer=function(e,t){return this._getPreviousContainer(e,t||{})},p.prototype.getNextSelectableNode=function(e,t){return void 0===t&&(t=null),u.domUtils.createTreeWalker(t.root).nextNode(e,t)},p.prototype._getPreviousSelectableNode=function(e,t){return u.domUtils.createTreeWalker(t.root).previousNode(e,t)},p.prototype.getPreviousSelectableNode=function(e,t){return this._getPreviousSelectableNode(e,t||{})},p.prototype.getFirstSelectableChild=function(e,t){if(!e)return null;if((t=t||{}).visitFilter&&!t.visitFilter(e))return null;if(!t.excludeSelf){if(3===e.nodeType&&(!1!==t.allowEmptyText||!u.utils.dom.isEmptyTextNode(e)))return e;if(t&&t.nodeFilter&&t.nodeFilter(e))return e}var n,r=e.firstChild;for(t=t.excludeSelf?s.extend({},t,{excludeSelf:!1}):t;r;){if(n=this.getFirstSelectableChild(r,t))return n;r=r.nextSibling}return null},p.prototype.getLastSelectableChild=function(e,t){if(void 0===t&&(t=null),!e)return null;if((t=t||{}).visitFilter&&!t.visitFilter(e))return null;if(!t.excludeSelf){if(3==e.nodeType&&(!1!==t.allowEmptyText||!u.utils.dom.isEmptyTextNode(e)))return e;if(t&&t.nodeFilter&&t.nodeFilter(e))return e}var n,r=e.lastChild;for(t=t.excludeSelf?{root:t.root,excludeSelf:!1,nodeFilter:t.nodeFilter,allowEmptyText:t.allowEmptyText}:t;r;){if(n=this.getLastSelectableChild(r,t))return n;r=r.previousSibling}return null},p.prototype.isSelectable=function(e,t){return!!e&&(3===e.nodeType&&!u.utils.dom.isEmptyTextNode(e)||!(!t||!t.nodeFilter)&&t.nodeFilter(e))},p.prototype.findNodeByTagName=function(e,t){for(var n,r=e&&e.length||0,o=0;o<r;++o)if(1===(n=e[o]).nodeType&&t.test(n.tagName))return n;return null},p.prototype.isAncestorAmong=function(e,t){for(var n=u.rangy.dom,r=0;r<e.length;++r)if(n.isAncestorOf(e[r],t,!1))return!0;return!1},p.prototype.isOnRightEdge=function(e,t){if(!e)return!1;var n=e.nodeType;return 3==n?t&&e.nodeValue&&t>=e.nodeValue.length:1==n&&e.childNodes&&e.childNodes.length&&t>=e.childNodes.length},p.prototype.isOnLeftEdge=function(e,t){return Boolean(e&&0===t)},p.prototype.skipIgnored=function(e,t,n){for(;e&&e!==t.root&&t.ignore(e);)e=n(e);return e===t.root?null:e},p);function p(){this.wsrgx=/^\s*$/,this.numrgx=/^\d+$/}var f=(Object.defineProperty(h.prototype,"isValid",{get:function(){return this._isValid},enumerable:!1,configurable:!0}),h.prototype.previousNode=function(e,t){if(t=t||{},this._root=t.root||this._root,this.goto(e),!this.isValid)return null;var n=this._findPrevNode(e,t,!1,!0);return n&&this.goto(n),n},h.prototype.nextNode=function(e,t){if(t=t||{},this._root=t.root||this._root,this.goto(e),!this.isValid)return null;var n=this._findNextNode(e,t,!1,!0);return n&&this.goto(n),n},h.prototype.goto=function(e){this._isValid=e===this._root||u.utils.dom.isDescendantOf(e,this._root),this._isValid||(u.logger.debug("Treewalker can't set the current element to a node which is not under the root"),e=null)},h.prototype._findNextNode=function(e,t,n,r){if(!e||e===this._root)return null;var o,i,a=t.nodeFilter||u.utils.yes,s=t.visitFilter||u.utils.yes;3===e.nodeType?o=this._createIteratorAt(e):(o=u.utils.dom.createTreeWalker(this._root,5)).currentNode=e;for(var l=!0===t.excludeSelf;i=o.nextNode();)if((!l||!u.utils.dom.isDescendantOf(i,e))&&s(i)&&a(i))return i;return null},h.prototype._createIteratorAt=function(e){if(!e||!e.parentNode)return null;var t=u.utils.dom.createTreeWalker(this._root,5);t.currentNode=e.parentNode;for(var n=t.nextNode();n&&n!==e;n=t.nextNode());return t},h.prototype._findPrevNode=function(e,t,n,r){if(!e||e===this._root)return null;var o=t.nodeFilter||u.utils.yes,i=t.visitFilter||u.utils.yes,a=null;if(3===e.nodeType){for(var s=e.previousSibling;s&&!a;s=s.previousSibling){if(i(s)&&o(s))return s;1===s.nodeType&&(a=s)}if(!a&&i(a=e.parentNode)&&o(a))return a}else a=e;if(!a)return null;var l,c=u.utils.dom.createTreeWalker(this._root,5);for(c.currentNode=a;l=c.previousNode();)if(i(l)&&o(l))return l;return null},h);function h(e){this._root=e,this._isValid=!1}u.domUtils=new d}(window.FLITE),Object.defineProperty(Ht,"__esModule",{value:!0}),p=window.FLITE,C.prototype.init=function(e){},C.prototype.hideAll=function(e){},C.prototype.showTooltip=function(e,t,n){e&&e.setAttribute("title",t)},C.prototype.hideTooltip=function(e){p.$(e).attr("title",null)},f=C,p.DefaultTooltips=f,Object.defineProperty(Ht,"__esModule",{value:!0}),function(s){if(!s)return console.error("documentselection: global LOOPINDEX is not defined");var e=(t.prototype.dispose=function(){this._selection&&(this._selection.detachAll(),this._selection=null),this._setHook=null},Object.defineProperty(t.prototype,"nativeSelection",{get:function(){return this.getSelection().nativeSelection},enumerable:!1,configurable:!0}),t.prototype.setHook=function(e){this._setHook=e},t.prototype.getSelection=function(){return s.rangy.getSelection?(this._selection?this._selection.refresh():this.env.frame?this._selection=s.rangy.getSelection(this.env.frame):this._selection=s.rangy.getSelection(null),this._selection):(s.logger.warn("no getselection, rangy is",Object.keys(s.rangy),"global is",Object.keys(s),"initialized",s.rangy.isInitialized(!1)),null)},t.prototype.createRange=function(){return s.rangy.createRange(this.env.document)},t.prototype.getRangeAt=function(e){var t=null;try{this._selection.refresh(),t=this._selection.getRangeAt(e)}catch(e){this._selection=null;try{t=this.getSelection().getRangeAt(0)}catch(e){}}return t&&t.cloneRange()||null},t.prototype.getRange=function(){return this.getRangeAt(0)},t.prototype.getBookmark=function(e,t){return(t=t||this.getRange())&&t.getFullBookmark(null,e.elementSelector,e.ignoreSelector)},t.prototype.gotoBookmark=function(e,t){var n=e&&this.getRangeAt(0);return n?(n.moveToBookmark(e,t||{}),this.addRange(n),n):null},t.prototype.moveLeft=function(e,t,n){void 0===e&&(e=null),void 0===t&&(t=1),(e=e||this.getRangeAt(0))&&(e.moveStart("char",-t,n),e.collapse(!0),this.addRange(e))},t.prototype.nudgeLeft=function(e,t){if((e=e||this.getRangeAt(0))&&e.collapsed&&e.startContainer){var n=e.startContainer,r=3===n.nodeType;if(!r){if(!(i=n.childNodes.item(e.startOffset))){var o=s.domUtils.getLastSelectableChild(n,t);if(o)return void this.collapseAtEnd(o)}n=i||n}if(!r||0===e.startOffset){var i,a=s.domUtils.createTreeWalker(t.root).previousNode(n,t);a?a!==n&&this.collapseAtEnd(a):(i=s.domUtils.getFirstSelectableChild(t.root,t))&&this.collapseAtStart(i)}}},t.prototype.nudgeRight=function(e,t){var n,r=(e=e||this.getRangeAt(0))&&e.collapsed&&e.endContainer;if(r&&(1===r.nodeType?n=e.endOffset>=r.childNodes.length:3===r.nodeType&&(n=e.endOffset>=r.length),n)){var o=s.domUtils.createTreeWalker(t.root).nextNode(r,t);o&&o!==r&&this.collapseAtStart(o)}},t.prototype.moveRight=function(e,t,n){void 0===e&&(e=null),void 0===t&&(t=1),(e=e||this.getRangeAt(0))&&(e.moveStart("char",t,n),e.collapse(!0),this.addRange(e))},t.prototype.collapse=function(e){var t=this.getRangeAt(0);return t&&!t.collapsed&&(t.collapse(e),this.addRange(t)),t},t.prototype.collapseBefore=function(e,t){var n=s.domUtils.getPrevNode(e,t,!0);return!n||s.utils.dom.isDescendantOf(e,n)?(this.setStart(e.parentNode,!0,s.utils.dom.getNodeIndex(e)),!1):(this._collapseAt(n,!1),!0)},t.prototype.collapseAfter=function(e,t){var n=s.domUtils.getNextNode(e,t,!0);return n?(this._collapseAt(n,!0),!0):(this.setEnd(e.parentNode,!0,s.utils.dom.getNodeIndex(e)+1),!1)},t.prototype.collapseAtStart=function(e){return this._collapseAt(e,!0)},t.prototype.collapseAtEnd=function(e){return this._collapseAt(e,!1)},t.prototype.setStart=function(e,t,n){var r=this.getRangeForForTargetNode(e);return r?(r.setStart(e,n),t&&r.collapse(!0),this.addRange(r),r):null},t.prototype.setEnd=function(e,t,n){var r=this.getRangeForForTargetNode(e);return r?(r.setEnd(e,n),t&&r.collapse(!1),this.addRange(r),r):null},t.prototype.setEndAfter=function(e,t){void 0===t&&(t=!0);var n=this.getRangeForForTargetNode(e);return n?(n.setEndAfter(e),t&&n.collapse(!1),this.addRange(n),n):null},t.prototype.setStartBefore=function(e,t){void 0===t&&(t=!0);var n=this.getRangeForForTargetNode(e);return n?(n.setStartBefore(e),t&&n.collapse(!0),this.addRange(n),n):null},t.prototype.addRange=function(e,t){if(void 0===t&&(t=!0),e){this._selection||(this._selection=this.getSelection());var n=this.getRangeAt(0);if(!e.equals(n)){var r=this.createRange();r.setStart(e.startContainer,e.startOffset),r.setEnd(e.endContainer,e.endOffset),this._selection.setSingleRange(r),!1!==t&&this._setHook&&this._setHook(r.cloneRange())}}},t.prototype.normalize=function(e,t){var n=this.getRange();if(n&&n.collapsed){var r=n.startContainer;if(1===r.nodeType){var o=r.childNodes[n.startOffset];if(!e.nodeFilter(o)){if(t){var i=s.domUtils.getPreviousSelectableNode(o,e);if(i)return void this.collapseAtEnd(i)}var a=s.domUtils.getFirstSelectableChild(o,e);a&&a!==o&&this.setStart(a,!0,0)}}}},t.prototype.getRangeForForTargetNode=function(e){return e&&e.ownerDocument&&e.parentNode?this.getRangeAt(0):null},t.prototype._selectNodeOrContent=function(e,t){3===t.nodeType?e.selectNode(t):e.selectNodeContents(t)},t.prototype._adjustElementRange=function(e,t){if(!e.collapsed)return e;var n=e.startContainer,r=n&&n.parentNode;if(!r||1!==n.nodeType||r===t)return e;var o=s.utils.dom.getNodeIndex(n);return e.setStart(r,o),e.setEnd(r,o),e.collapse(!0),e},t.prototype._collapseAt=function(e,t){var n=e&&this.getRangeAt(0);if(!n)return null;try{this.addRange(n.collapseAt(e,t))}catch(e){s.logger.error("collapseAt",t?"start":"end",e)}finally{return this.getRangeAt(0)}},t.prototype._getEffectiveStartNode=function(e){if(!e||1!==e.nodeType)return e;var t=e.parentNode;return t&&e===t.firstChild?"LI"===e.nodeName||"TR"===e.nodeName?e.parentNode:"TD"===e.nodeName&&t===(t.parentNode&&t.parentNode.firstChild)?t.parentNode:e:e},t.prototype._getEffectiveEndNode=function(e){if(!e||1!==e.nodeType)return e;var t=e.parentNode;return t&&e===t.lastChild?"LI"===e.nodeName||"TR"===e.nodeName?e.parentNode:"TD"===e.nodeName&&t===(t.parentNode&&t.parentNode.lastChild)?t.parentNode:e:e},t);function t(e){this.env=e,this._setHook=null,this._selection=null,this.getSelection()}s.Selection=e}(window.FLITE),Object.defineProperty(Ht,"__esModule",{value:!0}),h=window.FLITE,g=h.$,Object.defineProperty(N.prototype,"isOrphan",{get:function(){return!(!this._start||this._start.previousSibling||(this._end?this._end.nextSibling||this._end.previousSibling!==this._start:this._start.nextSibling))},enumerable:!1,configurable:!0}),N.prototype.getNodesInRange=function(e,t){if(!this._end||!this._start||this._start.nextSibling===this._end)return[];var n,r=this.env.element,o=[],i=h.utils.dom.createTreeWalker(r,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT),a=this._end,s=!a.nextSibling;for(i.currentNode=this._start;n=i.nextNode();)if(!h.utils.dom.isDescendantOf(n,this._start)&&!h.utils.dom.isDescendantOf(n,a)){if(n===a||n===r)break;!s&&h.utils.dom.isDescendantOf(a,n)||e&&!e(n,t)||o.push(n)}return o},N.prototype._createBookmark=function(e){var t,n,r,o=this,i=e.collapsed;function a(e){var t=o.env.document.createElement("span");return t.style.display="none",t.innerHTML="&nbsp;",t.className="flite-bookmark flite-bookmark-"+e,t}this._startInText=3===e.startContainer.nodeType&&0<e.startOffset,this._endInText=3===e.endContainer.nodeType&&e.endOffset<e.endContainer.length,this._start=t=a("start"),i||(this._end=n=a("end"),(r=e.cloneRange()).collapse(!1),r.insertNode(n)),(r=e.cloneRange()).collapse(!0),r.insertNode(t),n?(r.setStart(t.parentNode,h.utils.dom.getNodeIndex(t)+1),r.setEnd(n.parentNode,h.utils.dom.getNodeIndex(n))):(r.setStartAfter(t),r.collapse(!0))},Object.defineProperty(N.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),N.prototype.collapseAndRemove=function(e,t){return(e=this.selectAndRemove(e)).collapse(t)},N.prototype.selectAndRemove=function(e){return this._start&&(this._startInText&&this._restoreText(this._start,e,!0)||e.setStartBefore(this._start),e.collapse(!0),this._removeStart(),this._end&&(this._endInText&&this._restoreText(this._end,e,!1)||e.setEndBefore(this._end),this._removeEnd())),e},N.prototype.remove=function(){this._removeStart(),this._removeEnd()},N.prototype._removeStart=function(){this._start&&(g(this._start).remove(),this._start=null)},N.prototype._removeEnd=function(){this._end&&(g(this._end).remove(),this._end=null)},N.prototype._restoreText=function(e,t,n){var r=e.previousSibling,o=e.nextSibling,i=r&&3===r.nodeType,a=o&&3===o.nodeType;if(i&&a){var s=t.startOffset,l=t.startContainer,c=r.length;return r.data+=o.data,n?t.setStart(r,c):t.setStartAndEnd(l,s,r,c),o.parentNode.removeChild(o),!0}return n&&a?t.setStart(o,0):!n&&i&&t.setEnd(o,o.length),!1},N.removeBookmarks=function(e){g(e).find("span.flite-bookmark").remove()},m=N,h.DOMMarker=m,Object.defineProperty(Ht,"__esModule",{value:!0}),function(E){var i,e,u,t,m,n,d,r,o,a,g,s;(e=i=i||{})[e.OK=0]="OK",e[e.IGNORE=1]="IGNORE",e[e.IGNORE_ALL=2]="IGNORE_ALL",(t=u=u||{})[t.None=0]="None",t[t.Start=1]="Start",t[t.End=2]="End",t[t.All=3]="All",(n=m=m||{})[n.DONT_TRACK=0]="DONT_TRACK",n[n.TRACK_TEXT=1]="TRACK_TEXT",n[n.TRACK_ALL=2]="TRACK_ALL",(r=d=d||{})[r.None=0]="None",r[r.Start=1]="Start",r[r.Composing=2]="Composing",(a=o=o||{})[a.inline=0]="inline",a[a.block=1]="block",a[a.none=2]="none",(s=g=g||{})[s.Right=1]="Right",s[s.Left=2]="Left",s[s.None=0]="None";var l,c,x=E.$,p=void 0!==window.WebKitMutationObserver?window.WebKitMutationObserver:window.MutationObserver,f=["tr:empty, ul:empty, ol:empty","tbody:empty","table:empty"],h="selectionchange.flite",v={TD:1,TR:1,TH:1},y="insertType",b=".FLITE-Tracking",_="deleteType",C="data-flite-class",N="data-flite-wrapper-classes",T="data-flite-wrapper-selector",k="data-flite-wrapper-change",S="flite-container-only",w="."+S,O=w+",[data-flite-complex]",A="data-flite-inserting",R="data-flite-empty-inline",I={LI:1,P:1,DIV:1,H1:1,H2:1,H3:1,H4:1,H5:1,H6:1},D={OL:1,UL:1},L={LI:1,TD:1,TR:1,UL:1,OL:1},P={BR:1,P:1,DIV:1,LI:1},M={LI:1,OL:1,UL:1},B=["pre","u","b","s","sub","sup","em","strong","a","span","blockquote:empty"].join(":empty,"),F={P:1,DIV:1,H1:1,H2:1,H3:1,H4:1,H5:1,H6:1},j=(Object.keys(F).join(","),Object.keys(F).join(w+":empty,")+w+":empty"),U=/^u|ol$/i,H=[{start:0,end:31},{start:33,end:40},{start:45,end:45},{start:91,end:93},{start:112,end:123},{start:144,end:145}],W=".scayt-misspell-word,span.mce-spellchecker-word",q={},V={attributes:E.flitePluginUtils.trackerAttributes,changeGroupTime:1e3,classes:{block:"ice-block"},deletableSelectors:"",opaqueSelectors:"",mergeBlocks:!1,stylePrefix:"cts",changeTypes:{insertType:{className:"ins",action:"Inserted"},deleteType:{className:"del",action:"Deleted"}},_changeData:null},z=void 0;(c=l=l||{})[c.Always=1]="Always",c[c.NotEmpty=2]="NotEmpty";var Y=[{selector:"img,br,.cke_widget_wrapper,li",type:l.Always},{selector:"p,div,td,h1,h2,h3,h4,h5,h6",type:l.NotEmpty}],G={collectTextChildren:function(e){if(1!==(null==e?void 0:e.nodeType))return[];var t=[];return E.utils.dom.forAllTextChildren(e,function(e){return t.push(e)}),t},collectEmptyTextChildren:function(e){return G.collectTextChildren(e).filter(function(e){return E.utils.dom.isEmptyTextNode(e)})},compareNodes:function(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.nodeName!==t.nodeName)return!1;var n=e.attributes.length;if(t.attributes.length!==n)return!1;for(var r=0;r<n;++r){var o=e.attributes[r],i=t.attributes[r];if(o.name!==i.name||o.value!==i.value)return!1}return!0},adjustSpellCheckerRange:function(e){return G.isSpellcheckerNode(e.startContainer)&&e.startContainer.firstChild&&(0===e.startOffset?(e.setStart(e.startContainer.firstChild,0),e.collapse(!0)):(e.setEnd(e.startContainer.lastChild,E.utils.dom.getNodeLength(e.startContainer.lastChild)),e.collapse(!1))),e},createReplacementText:function(e){return e.indexOf("*")<0?"****":e.indexOf("&")<0?"&&&&":e.indexOf("#")<0?"####":e.indexOf("@")<0?"@@@@":e.indexOf("%")<0?"%%%%":"===="},isContainerOnly:function(e){return 1===e.nodeType},shouldTrackChildren:function(e){return 3===e.nodeType?m.DONT_TRACK:e.nodeName in q?m.TRACK_TEXT:m.TRACK_ALL},isVirtuallyEmpty:function(e){if(e.length<1)return!0;if(e.is("BR"))return!0;for(var t,n=e.length-1;0<=n;--n){if(1===(t=e[n]).nodeType&&"BR"!==t.nodeName)return!1;if(3===t.nodeType&&!E.utils.dom.isEmptyTextNode(t))return!1}return!0},isIgnoredKeyCode:function(e){if(!e)return!0;var t,n,r=H.length;for(t=0;t<r;++t)if(e>=(n=H[t]).start&&e<=n.end)return!0;return!1},sortNodesByAncestry:function(e){return e.toArray().sort(function(e,t){return E.utils.dom.isDescendantOf(e,t)?-1:E.utils.dom.isDescendantOf(t,e)?1:0})},isBogus:function(e){return!(!e||1!==e.nodeType||"BR"===e.nodeName)&&null!==e.getAttribute("data-mce-bogus")},getNodeAttributes:function(e){for(var t,n=e.attributes,r=n&&n.length,o={},i=0;i<r;++i)o[(t=n[i]).name]=t.value;return o},removeAllAttributes:function(e){var t,n=null;e.attributes;try{for(;0<e.attributes.length;){if((t=e.attributes[0])===n)return;n=t,e.removeAttribute(t.name)}}catch(e){}},isSpellcheckerNode:function(e){return Boolean(e&&E.utils.dom.matchesSelector(e,W))},findSpellcheckerParent:function(e,t){if(!e)return null;for(var n=1===e.nodeType?e:e.parentNode;n&&n!==t;){if(G.isSpellcheckerNode(n))return n;n=n.parentNode}return null},removeSpellcheckerNode:function(e){for(e.parentNode;e.firstChild;)x(e.firstChild).insertBefore(e);e.parentNode.removeChild(e)},tryToRemoveSpellcheckerNode:function(e,t){var n=G.findSpellcheckerParent(e,t);return n&&G.removeSpellcheckerNode(n),Boolean(n)},removeSpellCheckingFromRange:function(e,t){if(!e||!e.collapsed||!e.commonAncestorContainer)return e;var n=e.commonAncestorContainer;if(3===n.nodeType)return G.tryToRemoveSpellcheckerNode(n,t),e.syncToNative(),e;if(G.isSpellcheckerNode(n)){var r=n.parentNode,o=E.utils.dom.getNodeIndex(n),i=e.cloneRange();G.removeSpellcheckerNode(n);var a=r.childNodes[o];return a?i.collapseAt(a,!0):(i.setEnd(r,o),i.collapse(!1)),i}var s=n[e.startOffset],l=n[e.startOffset-1],c=!1;G.isSpellcheckerNode(l)&&(c=!0,G.removeSpellcheckerNode(l));var u=s?E.utils.dom.getNodeIndex(s):n.childNodes.length;return G.isSpellcheckerNode(s)&&(c=!0,G.removeSpellcheckerNode(s)),c?(e.syncToNative(),(i=e.cloneRange()).setStart(n,Math.min(u,n.childNodes.length)),i.collapse(!0),i):e}},$=(X.prototype.dispose=function(){var t=this;this.setIgnoreMutations(!0),this._selection&&(this._selection.dispose(),this._selection=null),this._params=null,this._timeoutClient.clear(),this._env={},this._$element=null,this._mutationSummary&&(this._mutationSummary.dispose(),this._mutationSummary=null),this._forAllUsers(function(e){e.styleLoader&&(e.styleLoader.dispose(),e.styleLoader=null),t._users[e.userId]=void 0,delete t._users[e.userId]})},X.prototype.getSelectedNode=function(){var e=this._getNodeAtCaret({range:null,lookBack:!1,lookForward:!1});return e&&e.node},X.prototype.getSelection=function(){return this._selection},X.prototype.createNativeRange=function(){return E.rangy.createNativeRange(this._env.document)},X.prototype.fixEmbeddedTrackedSpans=function(){},X.prototype.removeFLITETracking=function(e){var t=this;if(e&&1===e.nodeType){var n=e;Object.keys(this.attributes).forEach(function(e){n.removeAttribute(t.attributes[e])}),this._restoreNodeTitle(e),n.removeAttribute(C),E.domUtils.isTextContainer(e)&&n.removeAttribute("tabindex");var r=x(e);r.removeClass(this._insertClassName).removeClass(this._deleteClassName).removeClass(S);var o=(n.className||"").split(" "),i=this._params.stylePrefix;return o.forEach(function(e){e&&0===e.indexOf(i)&&r.removeClass(e)}),""===n.getAttribute("class")&&n.removeAttribute("class"),n}},X.prototype.currentChangeNode=function(e){if(e)return this._getNodeTrackingContext(e,!1).trackingNode;var t=this._getNodeAtCaret({range:null,lookBack:!1,lookForward:!1});if(!t.node)return null;var n=this._getNodeTrackingContext(e,!1);return!n.trackingNode&&t.isOnEdge&&(t=t.isText?this._getNodeAtCaret({range:null,lookBack:0===t.offset,lookForward:0<t.offset}):this._getNodeAtCaret({range:null,lookBack:!1,lookForward:!0}),n=this._getNodeTrackingContext(t.node)),n.trackingNode},X.prototype.ignoreNextMutation=function(e){this._mutationSummary&&this._mutationSummary.ignoreNextMutation(),E.logger.debug("ignore next mutation after "+(e||"(no reason provided)"))},X.prototype.trackSpellCheckChange=function(){var t=this,e=new p(function(e){n(),E.logger.debug("received spellcheck mutations",e),t._handleSpellcheckMutation(e)}),n=function(){e&&(e.disconnect(),e=null)};e.observe(this._$element[0],{characterData:!0,childList:!0,characterDataOldValue:!0,subtree:!0}),setTimeout(function(){E.logger.debug("spellcheck mutation observer timeout"),n()},5)},X.prototype.toggleListenToCharacterChanges=function(t,n){var r=this;this._characterMutationObserver=this._characterMutationObserver||new p(function(e){0<t&&t--,r._onCharacterDataMutation(e,n),0===t&&r._characterMutationObserver.disconnect()}),this._characterMutationObserver.disconnect(),0!==t?this._characterMutationObserver.observe(this._$element[0],{characterData:!0,childList:!1,characterDataOldValue:!0,subtree:!0}):n&&x(this.rootElement).find(this._insertSelector+"["+this.attributes.fliteTextContent+"],"+this._deleteSelector+"["+this.attributes.fliteTextContent+"]").each(function(e,t){r._restoreTextContent(t)})},X.prototype.listenToMutations=function(e,t){var n=this._mutationSummary&&this._mutationSummary.isConnected;this._mutationListenRequestCount=Math.max(e,this._mutationListenRequestCount),this._mutationListenRequestCount&&!n&&this._createMutationObservers(!0),0<t&&setTimeout(this._unlistenToMutations.bind(this),t)},X.prototype.setIgnoreMutations=function(e){var t=this._ignoreMutations;return e!==t&&(this._ignoreMutations=e),t},Object.defineProperty(X.prototype,"rootElement",{get:function(){var e=this;this._rootGetter||(this._rootGetter=E.browser.msie?function(){return e.host&&e.host.getRootElement()}:function(){return e._params&&e._params.element});try{return this._rootGetter()}catch(e){E.logger.error(e)}},enumerable:!1,configurable:!0}),Object.defineProperty(X.prototype,"currentUser",{get:function(){return this.host&&this.host.users.getCurrentUser(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(X.prototype,"attributes",{get:function(){return this._params.attributes},enumerable:!1,configurable:!0}),Object.defineProperty(X.prototype,"changeTypes",{get:function(){return this._params.changeTypes},enumerable:!1,configurable:!0}),Object.defineProperty(X.prototype,"changeData",{get:function(){return this._params._changeData},enumerable:!1,configurable:!0}),Object.defineProperty(X.prototype,"sessionId",{get:function(){return this.host&&this.host.currentSessionId},enumerable:!1,configurable:!0}),X.prototype.toggleChangeTracking=function(e,t){return e?this._startTracking(t):this._stopTracking(),this},X.prototype.setUserStyle=function(e,t){if(e){var n=this._users[e],r=n&&this.host.users.getUser(n.userId);if(!r)return E.logger.error("setUserStyle: no user",e);r.style=this._validateUserStyle(t);var o=this._getUserStyleSheet(e,!0);if(o){o.reset(),o.addRule(b+" "+this._insertSelector+"["+this.attributes.userId+"='"+e+"']:not("+w+")",r.style.insert);var i=r.style.insert["background-color"];i&&(o.addRule(b+" tr"+this._insertSelector+"["+this.attributes.userId+"='"+e+"']",{"background-color":i}),o.addRule(b+" td"+this._insertSelector+"["+this.attributes.userId+"='"+e+"']",{"background-color":i}),o.addRule(b+" :not(td,tr,li)"+this._insertSelector+w+"["+this.attributes.userId+"='"+e+"']",{"border-color":i})),o.addRule(b+" "+this._deleteSelector+"["+this.attributes.userId+"='"+e+"']:not("+w+")",r.style.delete),(i=r.style.delete["background-color"])&&(o.addRule(b+" tr"+this._deleteSelector+"["+this.attributes.userId+"='"+e+"']",{"background-color":i}),o.addRule(b+" td"+this._deleteSelector+"["+this.attributes.userId+"='"+e+"']",{"background-color":i}),o.addRule(b+" :not(td,tr,li)"+this._deleteSelector+w+"["+this.attributes.userId+"='"+e+"']",{"border-color":i}))}}},X.prototype.getCurrentUser=function(){return this.currentUser||{id:"",name:""}},X.prototype.removeUsers=function(e){if(e&&e.length)for(var t=0,n=e=E.utils.strings.toStringArray(e);t<n.length;t++){var r=n[t],o=this._users[r];o&&(o.styleLoader&&(o.styleLoader.dispose(),o.styleLoader=null),delete this._users[r])}},X.prototype.addUsers=function(e){var t=this;e&&(E.$.isArray(e)||(e=[e]),e.forEach(function(e){t._addUser(e)}))},X.prototype.updateUser=function(n){var r=this,e=n&&n.id&&String(n.id),t=e&&this._users[e];if(!t||!t.userId)return E.logger.error("tracker can't set current user, unknown id",e);if(n.style&&this.setUserStyle(e,n.style),n.name){for(var o in this._changes){var i=this._changes[o];i.userid===n.id&&(i.username=n.name)}var a,s=this.getTrackedNodes(),l=this._params.attributes.userId;s.each(function(e,t){null!==(a=t.getAttribute(l))&&a!==n.id||t.setAttribute(r._params.attributes.userName,n.name)})}},X.prototype.prepareForInsertion=function(){var e=this._getCurrentRange(!0),t=e&&e.startContainer,n=this._getNodeTrackingContext(t);this._moveCaretOutOfTracking(e,n,!0)},X.prototype.isNodeVisible=function(e){if(e&&3===e.nodeType&&(e=e.parentNode),e){var t=e.getBoundingClientRect();return 0<t.top&&0<t.left}},X.prototype.getWrappingTagName=function(e){var t=this.getNodeWrappingType(e);return t===o.block?"div":t===o.inline?"span":null},X.prototype.getNodeWrappingType=function(e){return e&&3!==e.nodeType?o.none:o.inline},X.prototype._markupInsertedNodes=function(e,t){this._startBatchChange();var n=[];try{var r=t&&t.startContainer,o=this._getNodeTrackingContext(r),i=void 0;o.isTracking&&this._moveCaretOutOfTracking(t,o,!1);for(var a={changeId:void 0,containerOnly:!1,trackChildren:m.DONT_TRACK,type:y},s=0,l=e.length;s<l;++s)i=e[s],a.changeId=null,a.containerOnly=G.isContainerOnly(i),a.trackChildren=G.shouldTrackChildren(i),this.host.isPassThroughNode(i)?n.push(this._createTrackedNodesInNonTrackable(i,a)):n.push(this._createTrackedNode(i,a))}catch(e){E.logger.error("_markupInsertedNodes: ",e)}finally{this._endBatchChange(this._batchChangeId,!1)}return n},Object.defineProperty(X.prototype,"opaqueTester",{get:function(){var t=this;return this._opaqueTester||(this._opaqueTester=function(e){return t._isOpaqueNode(e)})},enumerable:!1,configurable:!0}),X.prototype._moveCaretOutOfTracking=function(e,t,n){if(e&&e.collapsed&&t.tracksContent){var r=this.setIgnoreMutations(!0),o=g.None;try{var i=e.startContainer;if(1===i.nodeType){var a=i;if(a===t.trackingNode)if(0===e.startOffset)this._selection.setStartBefore(t.trackingNode,!0),o=g.Left;else if(e.startOffset>=i.childNodes.length)this._selection.collapseAfter(a,this._getTraversalFilters("forward")),o=g.Right;else{var s=this._splitNode(t.trackingNode,t.trackingNode,e.startOffset);this._selection.collapseAfter(s,this._getTraversalFilters("forward")),o=g.Left}}else if(3===i.nodeType){var l=i,c=this._env.document,u=E.utils.dom.getNodeIndex(l);if(s=null,0===e.startOffset)0<u?s=this._splitNode(t.trackingNode,t.trackingNode,u):this._selection.collapseBefore(t.trackingNode,this._getTraversalFilters("back")),o=g.Left;else if(e.startOffset>=l.length)if(u<t.trackingNode.childNodes.length-1)s=this._splitNode(t.trackingNode,t.trackingNode,u+1);else{if(t.trackingNode.nextSibling)e.setEndAfter(t.trackingNode),e.collapse(!1),this._selection.addRange(e);else{var d=c.createTextNode("\ufeff");E.utils.dom.insertAfter(d,t.trackingNode),e.selectNode(d),this._selection.addRange(e)}o=g.Right}else s=this._splitNode(t.trackingNode,l,e.startOffset);s&&(e.setStart(s.parentNode,E.utils.dom.getNodeIndex(s)+1),e.collapse(!0),this._selection.addRange(e),o=g.Left)}var p=this._selection.getRange(),f=this._getNodeTrackingContext(p.startContainer);if(f.tracksContent){var h=E.utils.dom.getNodeIndex(f.trackingNode);this._selection.setStart(f.trackingNode.parentNode,!0,o===g.Left?h-1:h)}}finally{this.setIgnoreMutations(r)}}},X.prototype.isOwnRoot=function(e){return e&&x(e).data("FLITE::rootid")===String(this._rootId)},X.prototype.reload=function(e){e?(this._loadEditor(e),this.setShowChanges(this.host.isVisible)):this._loadFromDom()},X.prototype.prepareToCut=function(){var r=this,e=this.setIgnoreMutations(!0),t=null;try{var n=this._getCurrentRange(!0);if(!n||n.collapsed)return!1;if(E.flitePluginUtils.isClipboardAPIAvailable())return this._copyToClipboard(n),this._deleteSelection(n,{restoreSelection:u.End}),!0;n=this._cleanupSelection(n),t=this._selection.getBookmark(this.host.getCaretSelectors()),E.trackerUtils.fixSelection(n,this.rootElement);for(var o=n.cloneContents(),i=o.firstChild,a=o.lastChild,s=!0,l=i;l&&s;l=l.nextSibling)this._shouldIgnoreNode(l,!0)||(s=!1);if(s)return!1;this.host.beforeEdit(),n.collapse(!1),n.insertNode(o),n.setStartBefore(i),n.setEndAfter(a);var c=this._startBatchChange();try{this._deleteSelection(n,{preserveContainers:!1,restoreSelection:u.None})}catch(e){E.logger.error(e,"While trying to delete selection")}finally{this._endBatchChange(c,!1),t&&(this._selection.gotoBookmark(t),this._momentarilyRemoveTrackingInRange(this._getCurrentRange())),setTimeout(function(){var e=r._insertSelector+":not("+w+")>BR,"+r._deleteSelector+":not("+w+")>BR";r._$element.find(e).each(function(e,t){var n=x(t.parentNode);n[0].removeChild(t),n.is(":empty")&&r._removeNode(n[0])})},10)}}catch(e){E.logger.error("prepareToCut:",e)}finally{return this.setIgnoreMutations(e),!0}},X.prototype.prepareToCopy=function(){var e=this._getCurrentRange();if(e&&!e.collapsed){var t=this.setIgnoreMutations(!0);try{this._momentarilyRemoveTrackingInRange(e)}finally{this.setIgnoreMutations(t)}}},X.prototype.tryToCut=function(){},X.prototype.setShowChanges=function(e){this._showTitles(Boolean(e))},X.prototype.unlistenToEvents=function(){var e=this;setTimeout(function(){return e.rootElement&&e._boundEventHandler&&e.rootElement.removeEventListener("keydown",e._boundEventHandler,!0),e._boundEventHandler=null,e},0)},X.prototype.listenToEvents=function(){return this.rootElement&&!this._boundEventHandler&&(this._boundEventHandler=this.handleEvent.bind(this),this.rootElement.addEventListener("keydown",this._boundEventHandler,!0)),this},X.prototype.handleEvent=function(e){var t=!1;return"keypress"==e.type?t=this._keyPress(e):"keydown"==e.type&&(t=this._handleKeyDown(e)),t&&(e.stopImmediatePropagation(),e.preventDefault()),!t},X.prototype.markNodeForPendingInsertion=function(e){e&&1===e.nodeType&&(e.setAttribute(A,"1"),setTimeout(function(){try{e.removeAttribute(A)}finally{}},10))},X.prototype.setMutationContext=function(e,t,n,r){E.logger.debug("set mutation context",e,"count",n,"timeout",r),this._lastMutationContext.setContext({type:e,data:t,timeout:r}),0<n&&this.listenToMutations(n,r)},X.prototype.updateMutationContext=function(e,t,n){void 0===n&&(n=!0);var r=this._lastMutationContext.peekType();r&&"none"!==r?r===e?this._lastMutationContext.mergeData(t):E.logger.debug("updateMutationContextData mismatch",r,e):this.setMutationContext(e,t,1)},X.prototype.getMutationContext=function(){return this._lastMutationContext.peekType()},X.prototype.getCleanDOM=function(e,t){var n;t=x.extend({},{clone:!1,removeDeleted:!1},t),n=e?x("string"==typeof e?"<div>"+e+"</div>":e):this._$element,t.clone&&(n=n.clone());var r="["+this.attributes.isDeleteNode+"]",o=this._cleanBody(n,this._fliteSelector,this._deleteSelector,"["+this.attributes.fliteCreated+"]",t);return(o=this._cleanBody(o,r,r,null,t))[0]},X.prototype.processInsertedNodes=function(e,t){if(!e||!e.length)return[];var n,r=this._getCurrentRange(!0),o=(r=this.host.beforeInsert&&this.host.beforeInsert(r))&&!r.collapsed;try{if(t.deleteSelection&&o){this._deleteContents(u.End,r,!0),r=this._selection.getRange();var i=this._getNodeTrackingContext(r.startContainer);this._moveCaretOutOfTracking(r,i,!0),r=this._getCurrentRange()}n=t.markup?this._markupInsertedNodes(e,r):e}catch(e){E.logger.error(e,"while trying to insert nodes"),n=[]}return n},X.prototype.isInsideChange=function(e){try{return Boolean(this.currentChangeNode(e))}catch(e){return E.logger.error(e,"While testing if isInsideChange"),!1}},X.prototype.hasChanges=function(){var e=this._changes;for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!0;return!1},X.prototype._createMarkerForTrackedNode=function(e,t){var n=e.getAttribute(this.attributes.changeId),r=n&&this._changes[n];if(!r)return null;try{var o=JSON.stringify(r),i=e.className;return x("<span>&#8203;</span>").attr(k,o).attr(T,t).attr(N,i)}catch(e){return E.logger.error("wrapTrackedNodes",e),null}},X.prototype.getChangeForNode=function(e){if(!e||1!==e.nodeType)return null;var t=e.getAttribute(this._params.attributes.changeId),n=t&&this.getChange(t);return n?x.extend({},n):null},X.prototype.wrapTrackedNodes=function(e,t){for(var n,r,o=this.setIgnoreMutations(!0),i=[],a=0;a<e.length;++a)n=e[a],E.utils.dom.matchesSelector(n,t)&&(r=this._createMarkerForTrackedNode(n,t))&&i.push(r[0]),i.push(n);return this.setIgnoreMutations(o),i},X.prototype.wrapAllTrackedNodes=function(e,r){var o=this,t=this.setIgnoreMutations(!0),n=e&&x(e)||this._$element;n&&n.length&&(n.find("span["+k+"]").remove(),n.find(""+r+this._deleteSelector+","+r+this._insertSelector).each(function(e,t){var n=o._createMarkerForTrackedNode(t,r);n&&n.insertBefore(t)}),this.setIgnoreMutations(t))},X.prototype.unwrapAllTrackedNodes=function(e){var l=this,t=e&&x(e)||this._$element,c="span["+k+"]",n=t.find(c),u=this._getTrackedNodeClass("deleteType"),d=this._getTrackedNodeClass("insertType");n.each(function(e,t){try{var n=JSON.parse(t.getAttribute(k)),r=t.getAttribute(T);if(!n||!n.id)return;var o=t.nextSibling;if(o&&E.utils.dom.matchesSelector(o,r)||t.previousSibling&&E.utils.dom.matchesSelector(t.previousSibling,r)&&(o=t.previousSibling),1!==(null==o?void 0:o.nodeType))return;var i=String(t.getAttribute(N)||""),a=0<=i.indexOf(u)?"deleteType":0<=i.indexOf(d)?"insertType":null;if(a){var s=x(o);for(l._changes[n.id]=l._changes[n.id]||n,l._addNodeToChange(n.id,o,a),s.addClass(i);s.next().is(c);)s.next().remove()}}catch(e){E.logger.error("unrapTrackedNodes",e)}finally{x(t).remove()}})},X.prototype.getTrackedNodes=function(){return this._$element?this._$element.find(this._fliteSelector):x()},X.prototype.countChanges=function(e){return this._filterChanges(e).count},X.prototype.acceptAll=function(e){return this._acceptRejectSome(e,!0)},X.prototype.rejectAll=function(e){return this._acceptRejectSome(e,!1),!0},X.prototype.acceptChange=function(e){this._markInlines();try{var t=this._processChange(e,!0,{isAccept:!0});return this._removeFLITEArtifacts(!0),t}catch(e){return E.logger.error(e),!1}finally{this._cleanupInlines()}},X.prototype.rejectChange=function(e){this._markInlines();try{var t=this._processChange(e,!0,{isAccept:!1});return this._removeFLITEArtifacts(!0),t}catch(e){E.logger.error(e)}finally{this._cleanupInlines()}},X.prototype.getChanges=function(e){var t=e?this._filterChanges(e):this._changes;return x.extend(!0,{},t)},X.prototype.navigateToChangeNode=function(e){var t=this.getSelectedNode();if(!t)return null;var n=this._getNodeTrackingContext(t).trackingNode||t,r=this.getTrackedNodes().toArray(),o=r.length;if(o<1)return null;var i=null;switch(r.sort(E.utils.dom.compareNodePosition),e){case"next":for(var a=0;n&&!i&&a<o;++a)E.utils.dom.isDescendantOf(n,r[a])||-1!==E.utils.dom.compareNodePosition(n,r[a])||(i=r[a]);break;case"prev":for(a=o-1;n&&!i&&0<=a;--a)E.utils.dom.isDescendantOf(n,r[a])||-1!==E.utils.dom.compareNodePosition(r[a],n)||(i=r[a]);break;case"first":i=r[0];break;case"last":i=r[o-1]}return i&&this._selection.setStart(i,!0,0),i},X.prototype.getContentElement=function(){return null},X.prototype.getChange=function(e){return this._changes[e]||null},X.prototype.handleImmediateKeypress=function(e){var t=!1,n=this._handleEditKey(e);if(n.handled)t=n.cancel;else{if(e.ctrlKey||e.metaKey)return!1;switch(e.keyCode||e.which){case 8:t=this._deleteContents(u.Start,null,!1);break;case 46:t=this._deleteContents(u.End,null,!1);break;case 13:this.setMutationContext("enter",null,1)}}return t&&(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()),t},X.prototype.preserveWhiteSpace=function(e){return x(e).find(this._fliteTextSelector).each(function(e,t){E.utils.dom.forAllTextChildren(t,E.domUtils.preserveWhiteSpaces)}),e},X.prototype._getTraversalFilters=function(e){var t="back"===e?this._nodeTraversalOptions.deleteBack:this._nodeTraversalOptions.deleteForward;return{ignore:t.ignore,elementMatch:t.elementMatch,breakOn:t.breakOn,root:this.rootElement}},X.prototype._createTraversalSelectors=function(e){function t(e){return 3===e.nodeType?E.utils.dom.isEmptyTextNode(e):o._params.nodeClassifier.classifyNode(e,o.rootElement,!1,!0)===E.NodeClassifier.IGNORE}function n(e){return E.utils.dom.matchesSelector(e,o._params.deletableSelectors)}function r(e){return e&&e.nodeName&&e.nodeName in v}var o=this;return{deleteForward:{ignore:t,elementMatch:n,breakOn:r,root:null},deleteBack:{ignore:t,breakOn:r,elementMatch:n,root:null}}},X.prototype._cleanBody=function(e,t,r,o,n){var i=this,a=e.find(t),s=Boolean(n&&n.removeDeleted);return x.each(a,function(e,t){var n=x(t);!o||n.is(o)?s&&function(e){return e.is(r)&&(e.is(w)?i._replaceNodeWithContent(e):e.remove(),1)}(n)||i._replaceNodeWithContent(n):i.removeFLITETracking(t)}),e.find("span["+k+"]").remove(),e},X.prototype._acceptRejectSome=function(e,t,n){var r=this;void 0===n&&(n=null),this._markInlines();try{var o=function(e){r._processChange(e,!1,{isAccept:t,notify:!1})},i=void 0,a=e?this._filterChanges(e):{changes:this._changes,count:Object.keys(this._changes).length};for(i in n=n||this._$element,a.changes)G.sortNodesByAncestry(n.find("["+this.attributes.changeId+"="+i+"]")).forEach(o);this._removeFLITEArtifacts(!0),a.count&&this._triggerChange({isText:!0})}catch(e){E.logger.error("FLITE acceptReject",e)}finally{this._cleanupInlines()}},X.prototype._createTrackedNodesInNonTrackable=function(e,t){var n=this,r=null;return E.utils.dom.forAllTextChildren(e,function(e){n._getNodeTrackingContext(e).tracksContent||(r?r.appendChild(e):r=n._createTrackedNode(e,t))}),r},X.prototype._createTrackedNode=function(e,t){var n=e,r=!0,o=t.trackChildren,i=t.containerOnly;if(this.host.isPassThroughNode(e))return this._createTrackedNodesInNonTrackable(e,t);var a=this.getWrappingTagName(e);if(a){var s=this._env.document.createElement(a);if(n){var l=n.parentNode;l&&l.insertBefore(s,n),s.appendChild(n),3!==n.nodeType&&s.setAttribute("data-flite-complex","1")}s.setAttribute(this.attributes.fliteCreated,"1"),i=this._isOpaqueNode(n),r=!1,o=m.DONT_TRACK,n=s}else n=e;return this._useChange({type:t.type,nodes:[n],changeId:t.changeId,containerOnly:i,filterNodes:r,ignoredNodes:t.ignoredNodes,trackChildren:o}),n},X.prototype._startTracking=function(e){return this._loadEditor(e),this.setIgnoreMutations(!1),this._compositionState=this.host.getIMECompositionState(),this},X.prototype._stopTracking=function(){try{this.unlistenToEvents(),this._timeoutClient.stopAll(),this.setIgnoreMutations(!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null),x(this._env.document).off(".flite"),this._mutationSummary&&(this._mutationSummary.disconnect(),this._mutationSummary=null),this._changes={},this._env={element:null,document:null,window:null,frame:null},this._$element=null,this._resetBackgroundColors()}catch(e){E.logger.error(e,"While trying to stop tracking")}return this},X.prototype._filterChanges=function(e){var t,n=0,r={},o=e||{},i=o.filter,a=o.exclude?x.map(o.exclude,String):null,s=o.include?x.map(o.include,String):null,l=o.verify;for(var c in this._changes)if(t=this._changes[c]){var u=i&&!i({userid:t.userid,time:t.time,data:t.data})||a&&0<=a.indexOf(t.userid)||s&&s.indexOf(t.userid)<0;u||(l&&(u=!this._$element.find("["+this.attributes.changeId+"]").length),u||(++n,r[c]=t))}return{count:n,changes:r}},X.prototype._cleanupLINode=function(e){if("LI"===e[0].nodeName){var n=[];e.children("br").each(function(e,t){t.previousSibling&&!t.nextSibling?n.push(t):t.nextSibling&&!t.previousSibling?n.push(t):x(t.nextSibling).is("br[data-mce-bogus]")?n.push(t.nextSibling):t.nextSibling&&"block"===E.domUtils.getComputedStyle(t.nextSibling,"display")&&n.push(t)}),x(n).remove()}},X.prototype._processChange=function(e,t,n){var a=this;n=n||{};var r,o,i,s,l,c,u,d=E.domUtils,p=this._$element,f=this._getCurrentRange(!0),h=f&&f.cloneRange(),g=this._deleteSelector,m=this._insertSelector,v=this.setIgnoreMutations(!0),y=!1!==n.removeChange,b=this.attributes.userId,_=this._deleteClassName,C=this._insertClassName,N=n.isAccept,T=!1!==n.notify,k=h&&h.startContainer;try{if(!e){if(!h||!h.collapsed)return!1;e=h.startContainer}if(r=g,o=m,N||(r=m,o=g),!(i=d.getNode(e,this._fliteSelector)))return!1;c=i.getAttribute(this.attributes.changeId),l=(s=t?p.find(r+"["+this.attributes.changeId+"='"+c+"']"):E.utils.dom.matchesSelector(e,r)?x(e):x(null)).length,s.each(function(e,t){if(t&&t.parentNode){var n=x(t),r=new E.DOMMarker(a._env,f);a._cleanupLINode(n);var o=t===k,i=o||E.utils.dom.isDescendantOf(k,t);a.host.onTrackingNodeRemoved(t),n.hasClass(S)&&!a._isOpaqueNode(t)?(o&&(a._selection.collapseBefore(t,a._getTraversalFilters("back")),k=null),a._acceptDeletedParagraph(n)||a._replaceNodeWithContent(n)):(i&&(a._selection.collapseBefore(t,a._getTraversalFilters("back")),k=null),a._removeNode(t)),r.collapseAndRemove(f,!0)}}),l+=(s=t?p.find(o+"["+this.attributes.changeId+"='"+c+"']"):E.utils.dom.matchesSelector(e,o)?x(e):x(null)).length,x.each(s,function(e,t){if(t&&t.parentNode){var n=x(t),r=new E.DOMMarker(a._env,f);t.getAttribute(b),a._cleanupLINode(n),a.host.onTrackingNodeRemoved(t),u=n.contents(),n.removeClass(C).removeClass(_),a._restoreNodeTitle(t),t.getAttribute(a.attributes.fliteCreated)?a._replaceNodeWithContent(n):a.removeFLITETracking(t),x.each(u,function(e,t){E.utils.dom.normalizeNode(t.parentNode)}),r.collapseAndRemove(f,!0)}}),y&&delete this._changes[c],0<l&&T&&this._triggerChange({isText:!0})}finally{return this.setIgnoreMutations(v),0<l}},X.prototype._acceptDeletedParagraph=function(e){var t=e[0],n=t&&t.nodeName;if(!(n&&n in I))return!1;var r=t.previousSibling;if(r&&r.nodeName in I){var o=e.contents();return x(r).append(o).find("BR ~ BR").remove(),e.remove(),!0}return!1},X.prototype._getTrackedNodeClass=function(e){return this._params.changeTypes[e].className},X.prototype._getOppositeTChangeType=function(e){return"deleteType"===e?"insertType":"deleteType"},X.prototype._loadEditor=function(e){var n=this;if(E.logger.debug("FLITE Tracker loading environment for root element"),this._env=this._env||{},!E.browser.msie&&this.isOwnRoot(e))return this._loadFromDom();this._forAllUsers(function(e){e.styleLoader&&(e.styleLoader.dispose(),e.styleLoader=null)}),this._$element=x(e),this._$element.data("FLITE::rootid"),String(++this._rootId),this._env={element:e,document:e.ownerDocument,window:null,frame:null},this._env.window=this._env.document&&this._env.document.defaultView||window.self,this._env.frame=this._env.window.frameElement,this._lastChange=null,this._selection&&this._selection.dispose(),this._selection=new E.Selection(this._env),this._selection.setHook(this._onRangeChanged.bind(this)),this._loadFromDom(),this._reloadUserStyles();var t={root:e,nodeFilter:this._isDeletableCallback,visitFilter:function(e){return!n._isOpaqueNodeOrParent(e)},depthFirst:!0};this._deleteOptions={withParent:x.extend({},t,{excludeSelf:!0,queryParent:!0,nodeFilter:function(e){if(n._isDeletableElement(e,!0)){var t=n._getNodeTrackingContext(e);return!t.isDelete||!t.isCurrent}return!1}}),noSelfWithParentNoTracking:x.extend({},t,{excludeSelf:!0,queryParent:!0}),withSelfNoParent:x.extend({},t,{excludeSelf:!1,queryParent:!1}),noSelfNoParent:x.extend({},t,{queryParent:!1,excludeSelf:!0}),noFilter:{root:e,depthFirst:!0,queryParent:!0},noSelfNoParentNoBR:null,noSelfNoParentGreedy:null},x.extend(this._deleteOptions,{noSelfNoParentNoBR:x.extend({},this._deleteOptions.noSelfNoParent,{nodeFilter:function(e){return!(!e||"BR"===e.nodeName)&&n._isDeletableCallback(e)}}),noSelfNoParentGreedy:x.extend({},this._deleteOptions.noSelfNoParent,{depthFirst:!1})})},X.prototype._reloadUserStyles=function(){var n=this;this._timeoutClient.createTimer("style",{callback:function(){n._forAllUsers(function(e){var t=n.host.users.getUser(e.userId);t&&n.setUserStyle(e.userId,t.style)})},timeoutMSecs:10}).start()},X.prototype._loadFromDom=function(){var p=this;E.logger.debug("FLITE Tracker loading changes from DOM"),this._changes={};var f=Date.now(),e=[this._getTrackedNodeClass("insertType"),this._getTrackedNodeClass("deleteType")],h=new RegExp("("+e.join("|")+")");this.unwrapAllTrackedNodes(null),this.getTrackedNodes().each(function(e,t){for(var n,r=t.className.split(" "),o=0;o<r.length;o++)(n=h.exec(r[o]))&&p._getChangeTypeFromAlias(n[1]);var i=t.getAttribute(p.attributes.userId),a=t.getAttribute(p.attributes.changeId)||t.getAttribute("data-cid")||"";if(!a||isNaN(Number(a))||!i)return p.removeFLITETracking(t),void E.logger.error("missing change id or user id in tracked node");t.removeAttribute("data-cid"),t.setAttribute(p.attributes.changeId,a);var s=p.host.users.getUser(i);s?t.setAttribute(p.attributes.userName,s.name):s=p.host.users.addUser({id:i,name:t.getAttribute(p.attributes.userName)}),t.setAttribute(p.attributes.changeId,String(a));var l=parseInt(t.getAttribute(p.attributes.time)||"");isNaN(l)&&(l=f);var c=parseInt(t.getAttribute(p.attributes.lastTime)||"");isNaN(c)&&(c=l);var u=t.getAttribute(p.attributes.sessionId),d=t.getAttribute(p.attributes.changeData)||"";p._changes[a]={id:a,userid:i,username:s.name,time:l,lastTime:c,sessionId:u,data:d},p._finalizeTrackedNode(t)}),this._triggerChange()},X.prototype._triggerChange=function(e){var t=this;this._changeTID=this._changeTID||setTimeout(function(){t._changeTID=0,t.host.onTrackerChange(t),e&&e.isText&&t.host.onTrackerTextChange(t)},0)},X.prototype._finalizeTrackedNode=function(e){e&&1===e.nodeType&&this.host.onTrackingNodeCreated(e)},X.prototype.getNewChangeId=function(){for(var e;e=String(++this._uniqueIDIndex),this._changes[e];);return e},X.prototype._useChange=function(p){var f=this,h=p.changeId||this._batchChangeId,g=h&&this._changes[h]||this._getCurrentChange();return g||(g=this._createChange(h),this._changes[g.id]=g,this._lastChange=g,this._triggerChange({isText:!1})),h=g.id,this._updateChangeTime(g),p.nodes&&x.each(p.nodes,function(e,t){if(t&&1===t.nodeType&&t!==f.rootElement){var n=p.filterNodes?f._params.nodeClassifier.classifyNode(t,f.rootElement,!0,!1):E.NodeClassifier.NODE_AND_CONTENT,r=n===E.NodeClassifier.NODE_AND_CONTENT||n===E.NodeClassifier.NODE_ONLY,o=n===E.NodeClassifier.NODE_ONLY;if(n!==E.NodeClassifier.IGNORE&&(r&&f._addNodeToChange(h,t,p.type),(p.containerOnly||o)&&(r&&!o&&t.classList.add(S),p.trackChildren!==m.DONT_TRACK&&t.childNodes.length&&!o)))for(var i=t,a=Array.prototype.slice.call(i.childNodes,0),s=p.ignoredNodes,l=void 0,c=p.trackChildren===m.TRACK_TEXT,u=0,d=a.length;u<d;++u){if(l=a[u],s&&0<=s.indexOf(l))return;if(c&&3!==l.nodeType)return;f._params.nodeClassifier.classifyNode(l,f.rootElement,!0,!0)!==E.NodeClassifier.IGNORE&&f._createTrackedNode(l,{type:p.type,changeId:g.id,ignoredNodes:s,containerOnly:3!==l.nodeType,trackChildren:p.trackChildren})}}}),g},X.prototype._createChange=function(e){var t=this.getCurrentUser();return{id:e,time:0,lastTime:0,sessionId:this.sessionId,userid:t.id,username:t.name,data:this.changeData||""}},X.prototype._getCurrentChange=function(){var e,t=this._lastChange;if(t&&!this._changes[t.id]&&(t=this._lastChange=null),!t||!(e=this.host.users.getCurrentUser(!1)))return null;if(e&&t.sessionId===this.sessionId&&t.userid===e.id){var n=this._params.timezoneOffset||0;return Date.now()+n-t.lastTime<=this._params.changeGroupTime?t:null}},X.prototype._addNodeToChange=function(e,t,n){var r,o=this.getChange(e),i=this.attributes,a=x(t),s=this._getTrackedNodeClass(n),l=this._getTrackedNodeClass(this._getOppositeTChangeType(n));o||(E.logger.debug("addNodeToChange:creating change with id",e),o=this._createChange(e),this._updateChangeTime(o));var c=this.host.users.getCurrentUser(!1),u=((r={})[i.changeId]=e,r[i.userName]=o.username,r[i.userId]=c&&c.id||"0",r[i.fliteMarked]=1,r[i.changeData]=String(o.data||""),r[i.time]=o.time,r[i.lastTime]=o.lastTime,r[i.sessionId]=o.sessionId||null,r);a.attr(u).addClass(s).removeClass(l),this.host.onTrackingNodeCreated(t)},X.prototype._getChangeTypeFromAlias=function(e){for(var t in this.changeTypes){var n=this.changeTypes[t];if(n&&n.className&&n.className===e)return t}return null},X.prototype._isCurrentSessionNode=function(e){var t=e&&1===e.nodeType&&e,n=t&&t.getAttribute(this.attributes.userId)===this.currentUser.id;return n&&this.sessionId&&(n=t.getAttribute(this.attributes.sessionId)===this.sessionId),Boolean(n)},X.prototype._updateChangeTime=function(e){var t=this._$element.find("["+this.attributes.changeId+'="'+e.id+'"]'),n=this.attributes.lastTime,r=this._params.timezoneOffset||0,o=Date.now()+r;e.lastTime=o,e.time||(e.time=o),t.each(function(e,t){t.setAttribute(n,String(o))})},X.prototype._getCurrentRange=function(e){void 0===e&&(e=!1);var t=null,n=!1;try{if(!e&&this._selection)return(t=this._selection.getRangeAt(0))&&E.domUtils.isRangeInElement(t,this.rootElement)?t:n?null:this._getCurrentRange(!0);n=!0;var r=this.host.getHostNativeRange();return t=r&&new E.rangy.WrappedRange(r)}catch(e){return E.logger.error(e,"While trying to get current range"),t}},X.prototype._deleteContents=function(e,t,n){var r,o=!0,i=this.setIgnoreMutations(!0);if(this.host.beforeDelete&&this.host.beforeDelete(),t?this._selection.addRange(t):t=this._getCurrentRange(!0),!t)return!1;r=this._startBatchChange(),t=this._cleanupSelection(t);try{t.collapsed?o=e===u.End?this._deleteForward(t):this._deleteBack(t):this._deleteSelection(t,{restoreSelection:e,preserveContainers:n})}catch(e){E.logger.error(e)}finally{this._endBatchChange(r,o),this.setIgnoreMutations(i)}return o},X.prototype._deleteSelection=function(e,t){var n,r=new E.DOMMarker(this._env,e),o=r.getNodesInRange(),i=this._startBatchChange();try{for(var a=0;a<o.length;a++)n=o[a],this._markNodeAsDeleted(n,i)}catch(e){E.logger.error(e)}finally{switch(t.restoreSelection){case u.All:this._selection.addRange(r.selectAndRemove(e,!0));break;case u.End:case u.Start:this._selection.addRange(r.collapseAndRemove(e,t.restoreSelection===u.Start));break;default:r.remove()}t.preserveContainers||this._removeFLITEArtifacts(!1)}},X.prototype._copyToClipboard=function(e){var t,n=e.cloneContents(),r=x("<div></div>").append(n);this.removeFLITETracking(r[0]);var o=new Blob([r.html()],{type:"text/html"}),i=new Blob([n.textContent],{type:"text/plain"});return navigator.clipboard.write([new ClipboardItem((t={},t[o.type]=o,t[i.type]=i,t))]),!0},X.prototype._markNodeAsDeleted=function(e,t){if(e&&e.parentNode&&!this._shouldIgnoreNode(e,!0)){var n=this._getNodeTrackingContext(e),r=3===e.nodeType,o=!r&&this._isOpaqueNode(e),i=n.trackingNode===e,a={changeId:t,containerOnly:i?x(e).hasClass(S):!r&&!o,trackingContext:n,trackContent:!1};if(n.isTracking&&(n.tracksContent||i)){if(!n.isDelete)if(n.isCurrent)this._removeNode(e,n);else{var s;if(r){var l=e.length;this._splitNode(n.trackingNode,e,0),s=this._splitNode(n.trackingNode,e,l)}else s=n.trackingNode;this._addNodeToChange(t,s,"deleteType")}}else this._addDeleteTracking(e,a)}},X.prototype._startBatchChange=function(){if(!this._batchChangeId){var e=this._getCurrentChange();this._batchChangeId=e&&e.id||this.getNewChangeId()}return this._batchChangeId},X.prototype._endBatchChange=function(e,t){e&&e===this._batchChangeId&&(this._batchChangeId=null,t&&this._triggerChange({isText:!0}))},X.prototype._removeNode=function(e,t){var n=this;void 0===t&&(t=null);var r=e&&e.parentNode;r&&(t=t||this._getNodeTrackingContext(e),r.removeChild(e),t.isTracking&&setTimeout(function(){n._testChangeSetForRemoval(t.changeId)},1))},X.prototype._cleanupSelection=function(e){var t=this.setIgnoreMutations(!0);try{if(e.collapsed){var n=(e=G.removeSpellCheckingFromRange(e,this.rootElement)).commonAncestorContainer,r=3===n.nodeType?n.parentNode:n,o=G.collectEmptyTextChildren(r);if(o.length){var i=this._selection.getBookmark(this.host.getCaretSelectors(),e);o.forEach(function(e){return e.parentNode.removeChild(e)}),e.moveToBookmark(i,{})}}else{var a=new E.DOMMarker(this._env,e),s=this.rootElement;a.getNodesInRange(function(e,t){return 3===e.nodeType}).forEach(function(e){G.tryToRemoveSpellcheckerNode(e,s),E.utils.dom.isEmptyTextNode(e)&&x(e).remove()}),a.getNodesInRange(function(e,t){return G.isSpellcheckerNode(e)}).forEach(function(e){return G.removeSpellcheckerNode(e)}),e=a.selectAndRemove(e,!1)}}catch(e){E.logger.error("cleanupSelection",e)}finally{this._selection.addRange(e),this.setIgnoreMutations(t)}return e},X.prototype._ignoreKeyboardDelete=function(e){if(!e||!e.node)return!0;var t=!1;return this._params.nodeClassifier.classifyNode(e.node,this.rootElement,!0,!0)===E.NodeClassifier.NODE_AND_CONTENT&&!this.host.shouldIgnoreDeletedNode(e.node)||(t=!0),t&&(e.isText?x(e.node).parents(W).length&&(t=!1):this.ignoreNextMutation()),t},X.prototype._deleteForward=function(e){var t=this,n=this._findNextNodeToDelete(e)||{};if(!n.node||n.node.nodeName in v)return!1;if(!E.utils.dom.isContentEditable(n.node,this.rootElement,!0))return!1;e=n.range;var r="LI"===n.tagName&&n.node||"BR"===n.tagName&&this._maybeConvertBrToLI(n.node,!0);if(r){var o=this._getNodeTrackingContext(r);return!(o.isInsert&&o.isCurrent||(o.isDelete?this._selection.collapseAfter(r,this._getTraversalFilters("forward")):(this._addDeleteTracking(r,{move:g.None,containerOnly:!0,changeId:null}),this._selection.setStart(r,!0,0)),0))}if(this._ignoreKeyboardDelete(n))return!1;if("BR"===n.tagName)return!1;var i=this._getNodeAtCaret({range:e,lookBack:!0,lookForward:!1}),a=this._getNodeTrackingContext(i.node),s=n.node===i.node?a:this._getNodeTrackingContext(n.node);return a.isTracking||s.isTracking?a.isTracking&&!s.isTracking?a.isDelete&&a.isCurrent?this._assimilateNextChar(a,null,i,n):this._deleteForwardUntrackedContext(n,e):a.isTracking&&s.isTracking?s.isDelete?(this._selection.collapseAfter(s.trackingNode,this._getTraversalFilters("forward")),!0):s.isCurrent?(n.isText||this.ignoreNextMutation("Delete forward in insert"),setTimeout(function(){return t._testChangeSetForRemoval(s.changeId)},1),!1):a.isDelete&&a.isCurrent?this._assimilateNextChar(a,s,i,n):this._deleteForwardUntrackedContext(n,e,s):s.isInsert?s.isCurrent?this._removeInsertedCharacter(n,s,e,g.None):this._deleteForwardUntrackedContext(n,e,s):(this._selection.collapseAfter(s.trackingNode,this._getTraversalFilters("forward")),!0):this._deleteForwardUntrackedContext(n,e)},X.prototype._maybeConvertBrToLI=function(e,t){var n;if(t)return(n=E.domUtils.getNextNode(e,this._getTraversalFilters("forward"),!1))&&"LI"===n.nodeName?n:null;if(!(n=e.nextSibling)||1!==n.nodeType)return null;if(n.nodeName in D){for(var r=n.firstChild;r;r=r.nextSibling)if("LI"===r.nodeName)return r;return null}return"LI"===n.nodeName?n:null},X.prototype._deleteBack=function(e){var t=this,n=this._findPreviousNodeToDelete(e)||{};if(!n.node||n.node.nodeName in v)return!1;if(!E.utils.dom.isContentEditable(n.node,this.rootElement,!0))return!1;e=n.range;var r,o="BR"===n.tagName&&this._maybeConvertBrToLI(n.node,!0);if(o)return(r=this._getNodeTrackingContext(o)).trackingNode===o&&r.isCurrent?r.isInsert||this._selection.collapseBefore(o,this._getTraversalFilters("back")):(this._addDeleteTracking(o,{move:g.None,containerOnly:!0,changeId:null}),this._selection.collapseBefore(o,this._getTraversalFilters("back"))),!0;if(this._ignoreKeyboardDelete(n))return!1;if("LI"===n.tagName)return(r=this._getNodeTrackingContext(n.node)).isDelete?(this._selection.collapseBefore(r.trackingNode,this._getTraversalFilters("back")),!0):(r.isCurrent||this.setMutationContext("backspace-li",E.trackerUtils.getListItemDeleteContext(n.node),1),!1);var i=this._getNodeAtCaret({range:e,lookBack:!1,lookForward:!0}),a=this._getNodeTrackingContext(i.node),s=n.node===i.node?a:this._getNodeTrackingContext(n.node);return a.isTracking||s.isTracking?a.isTracking&&!s.isTracking?a.isDelete&&a.isCurrent?this._assimilatePrevChar(a,null,i,n):this._deleteBackUntrackedContext(n,e):a.isTracking&&s.isTracking?s.isDelete?(this._selection.setStartBefore(s.trackingNode,!0),!0):s.isCurrent?(n.isText||this.ignoreNextMutation("Delete back in insert"),setTimeout(function(){return t._testChangeSetForRemoval(s.changeId)},1),!1):a.isDelete&&a.isCurrent?this._assimilatePrevChar(a,s,i,n):this._deleteBackUntrackedContext(n,e,s):s.isInsert?s.isCurrent?this._removeInsertedCharacter(n,s,e,g.Left):this._deleteBackUntrackedContext(n,e,s):(this._selection.collapseBefore(s.trackingNode,this._getTraversalFilters("back")),!0):this._deleteBackUntrackedContext(n,e)},X.prototype._removeInsertedCharacter=function(e,t,n,r){var o=this;if(setTimeout(function(){return o._testChangeSetForRemoval(t.changeId)},1),!e.isText||0<e.offset)return!1;var i=e.node,a=e.offset,s=i.data[a];if(!/\s/.test(s))return!1;var l=this._selection.getBookmark(this.host.getCaretSelectors(),n),c=!1;return 1===i.length?(c=1<l.start&&!t.trackingNode.previousSibling,this._removeNode(i,t)):i.data=i.data.slice(1),this._selection.gotoBookmark(l,r===g.Left?{move:"left",after:c}:{after:c}),!0},X.prototype._assimilatePrevInline=function(e,t){var n=this,r=e.node;if(3!==r.nodeType)return!1;var o=E.domUtils.findInlineParent(e.node,function(e){return!E.utils.dom.matchesSelector(e,n._fliteSelector)});if(E.domUtils.findInlineParent(t.trackingNode)===o)return!1;try{var i=E.rangy.dom.splitDataNode(r,e.offset);return this._addDeleteTracking(i,{changeId:t.changeId}),this._selection.setStart(i,!0,0),!0}catch(e){return E.logger.error(e),!1}},X.prototype._assimilateNextInline=function(e,t){var n=this,r=e.node;if(3!==r.nodeType)return!1;var o=E.domUtils.findInlineParent(e.node,function(e){return!E.utils.dom.matchesSelector(e,n._fliteSelector)});if(E.domUtils.findInlineParent(t.trackingNode)===o)return!1;try{var i=E.rangy.dom.splitDataNode(r,e.offset+1);return this._addDeleteTracking(r,{changeId:t.changeId}),this._selection.setStart(i,!0,0),!0}catch(e){return E.logger.error(e),!1}},X.prototype._assimilatePrevChar=function(e,t,n,r){var o=r.isText&&r.node.data;if(e.tracksContent&&o){if(this._assimilatePrevInline(r,e))return!0;if(e.trackingNode.textContent=o[r.offset]+e.trackingNode.textContent,r.node.textContent=o.substring(0,o.length-1),this._selection.setStart(e.trackingNode.firstChild,!0,0),E.utils.dom.isEmptyTextNode(r.node))if(null==t?void 0:t.tracksContent)this._removeFLITEArtifacts(!0);else{var i=x(r.node.parentNode);i.is(":empty")&&E.domUtils.isInlineElement(r.node.parentNode)&&i.remove()}return!0}if(r.isText){var a=r.node,s=n.offset,l=n.node,c=l&&E.domUtils.splitTextAt(a,r.offset,1,!0);if(!c)return!1;var u=this._isNextTextSibling(c,l)&&E.domUtils.getFirstSelectableChild(l);if(u){var d=0<s?s-1:0;u.data=u.data.substr(0,d)+c.data+u.data.substr(d),this._removeNode(c),this._selection.setStart(u,!0,s)}else{if(E.utils.dom.matchesSelector(l,O)&&t&&t.trackingNode){this._splitNode(t.trackingNode,c,0);var p=x(t.trackingNode);if(!(c=E.domUtils.getFirstSelectableChild(t.trackingNode,{root:this.rootElement,allowEmptyText:!1})))return!1;this._replaceNodeWithContent(p)}this._addDeleteTracking(c,{move:g.Left,containerOnly:!0,changeId:e.changeId});var f=t&&t.trackingNode,h=f&&this._getNodeTrackingContext(c);h&&h.trackingNode&&h.trackingNode.parentNode.insertBefore(f,h.trackingNode),this._selection.setStart(c,!0,0)}}else this._addDeleteTracking(r.node,{move:g.None,containerOnly:!0,changeId:e.changeId}),this._selection.collapseBefore(r.node,this._getTraversalFilters("back"));return!0},X.prototype._assimilateNextChar=function(e,t,n,r){var o=r.node;if(1===o.nodeType)return this._markElementAsDeleted(o,e.changeId),this._selection.collapseAfter(o,this._getTraversalFilters("forward")),!0;if(e.tracksContent){if(this._assimilateNextInline(r,e))return!0;var i=o.data;if(e.trackingNode.textContent=e.trackingNode.textContent+i[r.offset],o.textContent=i.substring(0,r.offset)+i.substring(r.offset+1),this._selection.setStart(e.trackingNode.firstChild,!0,e.trackingNode.firstChild.length),E.utils.dom.isEmptyTextNode(o))if(null==t?void 0:t.tracksContent)this._removeFLITEArtifacts(!0);else{var a=x(o.parentNode);a.is(":empty")&&E.domUtils.isInlineElement(o.parentNode)&&a.remove()}return!0}var s=r.node,l=n.node,c=E.domUtils.splitTextAt(s,r.offset,1,!0);if(!c)return!1;var u=this._isPrevTextSibling(c,l)&&E.domUtils.getLastSelectableChild(l);if(u)u.data+=c.data,this._removeNode(c),this._selection.setEnd(u,!0,u.length);else{if(E.utils.dom.matchesSelector(l,O)){if(t&&t.trackingNode){var d=this._splitNode(t.trackingNode,c,1),p=x(d);if(!(c=E.domUtils.getFirstSelectableChild(d,{root:this.rootElement,allowEmptyText:!1})))return!1;this._replaceNodeWithContent(p)}this._addDeleteTracking(c,{move:g.Left,containerOnly:!1,changeId:e.changeId})}else{this._addDeleteTracking(c,{move:g.None,containerOnly:!1,changeId:e.changeId});var f=t&&t.trackingNode,h=f&&this._getNodeTrackingContext(c);h&&h.trackingNode&&f.parentNode.insertBefore(h.trackingNode,f),f&&E.domUtils.hasNoTextOrStubContent(f)&&this._removeNode(f)}this._selection.setEnd(c,!0,c.length)}return!0},X.prototype._markElementAsDeleted=function(e,t){var n={merge:!1,changeId:t,containerOnly:!0,trackContent:!1};if(this._addDeleteTracking(e,n),"BR"===e.nodeName){var r=this.host.getNewLineNodeName(),o=e.parentNode;if(r&&e.parentNode.nodeName===r&&e===o.lastChild&&o.nextSibling&&o.nextSibling.nodeName===r&&o.nextSibling.hasChildNodes)return this._addDeleteTracking(o.nextSibling,n),void this._selection.setStart(o.nextSibling.firstChild,!0,0)}},X.prototype._deleteBackUntrackedContext=function(e,t,n){if(!e.isText)return this._markElementAsDeleted(e.node,null),this._selection.collapseBefore(e.node,this._getTraversalFilters("back")),!0;var r;if(n){var o=this._splitNode(n.trackingNode,e.node,e.offset+1),i=E.domUtils.getLastSelectableChild(o);r=i&&E.domUtils.splitTextAt(i,i.length-1,1,!0),o.parentNode.insertBefore(r,o.nextSibling),E.domUtils.hasNoTextOrStubContent(n.trackingNode)&&x(n.trackingNode).remove()}else r=E.domUtils.splitTextAt(e.node,e.offset,1,!0);return!!r&&(this._addDeleteTracking(r,{range:t,move:g.Left,merge:!0}),!0)},X.prototype._isNextTextSibling=function(e,t){if(!(e&&e.parentNode&&t&&t.parentNode))return!1;if(3===t.nodeType)return e.nextSibling===t||this._isNextTextSibling(e,t.parentNode);if(G.isSpellcheckerNode(t))return this._isNextTextSibling(e,t.parentNode);if(!E.utils.dom.matchesSelector(t,this._fliteTextSelector))return!1;for(var n=t.firstChild;n;n=n.nextSibling)if(3!==n.nodeType)return!1;if(e.nextSibling)return e.nextSibling===t;var r=G.isSpellcheckerNode(e.parentNode)?e.parentNode.parentNode:e.parentNode;return E.utils.dom.matchesSelector(r,this._fliteTextSelector)&&r.nextSibling===t},X.prototype._isPrevTextSibling=function(e,t){if(!(e&&e.parentNode&&t&&t.parentNode))return!1;if(3===t.nodeType)return e.previousSibling===t||this._isPrevTextSibling(e,t.parentNode);if(G.isSpellcheckerNode(t))return this._isPrevTextSibling(e,t.parentNode);if(!E.utils.dom.matchesSelector(t,this._fliteTextSelector))return!1;if(e.previousSibling)return e.previousSibling===t;var n=G.isSpellcheckerNode(e.parentNode)?e.parentNode.parentNode:e.parentNode;return E.utils.dom.matchesSelector(n,this._fliteTextSelector)&&n.previousSibling===t},X.prototype._deleteForwardUntrackedContext=function(e,t,n){if(!e.isText)return this._markElementAsDeleted(e.node,null),this._selection.collapseAfter(e.node,this._getTraversalFilters("forward")),!0;var r;if(n){var o=n.trackingNode,i=this._splitNode(o,e.node,e.offset),a=E.domUtils.getFirstSelectableChild(o);r=a&&E.domUtils.splitTextAt(a,0,1,!0),i.parentNode.insertBefore(r,o),E.domUtils.hasNoTextOrStubContent(n.trackingNode)&&x(n.trackingNode).remove()}else r=E.domUtils.splitTextAt(e.node,e.offset,1,!0);return!!r&&(this._addDeleteTracking(r,{range:t,move:g.None,merge:!0}),this._selection.setEnd(r,!0,1),!0)},X.prototype._isNodeOfChangeType=function(e,t){if(!e)return!1;var n="."+this._getTrackedNodeClass(t);return x(e.$||e).is(n)},X.prototype._isInsertNode=function(e){return this._isNodeOfChangeType(e,y)},X.prototype._isDeleteNode=function(e){return this._isNodeOfChangeType(e,_)},X.prototype._getVoidElement=function(e){if(!e)return null;var t=e.node,n=!1!==e.checkEmpty;try{if(n&&E.utils.dom.isEmptyTextNode(t))return t;var r=this._getNodeTrackingContext(t);if(r.isDelete)return r.trackingNode}catch(e){return E.logger.error(e,"While trying to get void element of",t),null}},X.prototype._addDeleteTracking=function(e,t){if(t=t||{},e){e.nodeType;for(var n,r=t.range;e.previousSibling&&E.utils.dom.isEmptyTextNode(e.previousSibling);)e.parentNode.removeChild(e.previousSibling);for(;e.nextSibling&&E.utils.dom.isEmptyTextNode(e.nextSibling);)e.parentNode.removeChild(e.nextSibling);var o=t.changeId;return n=this._createTrackedNode(e,{type:_,changeId:o,containerOnly:t.containerOnly,trackChildren:t.trackContent?G.shouldTrackChildren(e):m.DONT_TRACK}),r&&(r.collapseAt(e,t.move==g.Left),this._selection.addRange(r)),n&&(setTimeout(function(){return E.utils.dom.normalizeNode(n)},0),r&&r.refresh()),!0}},X.prototype._addDeletionInInsertNode=function(e,t,n){var r=n.range;if(t.isCurrent){if(r){var o=n.move===g.Left;o?r.setStartBefore(e):r.setStartAfter(e),r.collapse(o)}e.parentNode.removeChild(e),E.utils.dom.normalizeNode(t.trackingNode);var i=x(t.trackingNode),a=void 0;a=0<i.find(".flite-bookmark").length?((a=i.clone()).find(".flite-bookmark").remove(),a[0]):t.trackingNode,E.domUtils.hasNoTextOrStubContent(a)&&(r&&(r.setStartBefore(t.trackingNode),r.collapse(!0)),this._replaceNodeWithContent(x(t.trackingNode)))}else{var s,l=E.utils.dom.getNodeIndex(e),c=e.parentNode,u=e===t.trackingNode,d=c.childNodes.length;if(u||c.removeChild(e),s=this._createTrackedNode(e,{type:_,changeId:null,containerOnly:!1,trackChildren:m.DONT_TRACK}),!u){if(0<l&&d-1<=l)E.utils.dom.insertAfter(s,t.trackingNode);else{if(0<l){var p=this._splitNode(t.trackingNode,c,l);this._deleteEmptyNode(p)}t.trackingNode.parentNode.insertBefore(s,t.trackingNode)}this._deleteEmptyNode(t.trackingNode)}r&&n.move==g.Left&&this._selection.collapseBefore(s,this._getTraversalFilters("back")),n&&n.merge&&this._mergeDeleteNode(s),r&&r.refresh()}return!0},X.prototype._splitAtCaret=function(e){if(!e||!e.collapsed)return e;var t=e.startContainer,n=e.cloneRange(),r=e.startOffset;if(3===t.nodeType){var o=t;if(r>=o.length)return e;var i=E.domUtils.splitTextAt(o,r,o.length-r,!0);return n.setStart(i.parentNode,E.utils.dom.getNodeIndex(i)+1),n.collapse(!0),n}var a=t;return r>=a.childNodes.length?(n.setStartAfter(a),n.collapse(!0)):(i=this._splitNode(a,a,r),n.setStart(i,0)),n},X.prototype._splitNode=function(e,t,n){var r=E.utils.dom.splitNode(e,t,n);return r&&this.isInsideChange(e)&&this._finalizeTrackedNode(r),r},X.prototype._deleteEmptyNode=function(e){var t=e&&e.parentNode;t&&E.domUtils.hasNoTextOrStubContent(e)&&t.removeChild(e)},X.prototype._mergeDeleteNode=function(e){var t,n=e.previousSibling,r=e.nextSibling,o=this._getNodeTrackingContext(n);o.isDelete&&o.isCurrent?(t=E.utils.dom.extractContent(e),e.parentNode.removeChild(e),o.trackingNode.appendChild(t),this._mergeDeleteNode(o.trackingNode)):(o=this._getNodeTrackingContext(r)).isDelete&&o.isCurrent&&(t=E.utils.dom.extractContent(o.trackingNode),e.parentNode.removeChild(o.trackingNode),e.appendChild(t),this._mergeDeleteNode(e))},X.prototype._showTitles=function(e){var n=this,t=this.getTrackedNodes();e?x(t).each(function(e,t){n._finalizeTrackedNode(t)}):x(t).each(function(e,t){n._restoreNodeTitle(t)})},X.prototype._restoreNodeTitle=function(e){var t=x(e),n=t.attr(this.attributes.fliteTitle);n&&t.attr("title","1"===n?null:n)},Object.defineProperty(X.prototype,"keyboardMapper",{get:function(){if(void 0!==z)return z;var r={".data-flite-created":1},e=this._params.keyboardMap&&this._params.keyboardMap.find&&this._params.keyboardMap.find("mark,edit,toggle,append".split(/[^a-z]/).map(function(e){return e[0]}).join(""));return Object.keys(r).forEach(function(e){/^\./.test(e)&&delete r[e]}),e?(e.toArray().forEach(function(e){if(e.attributes&&e.attributes.length&&r){var n={},t=function(e){if(e){var t=1+e.split("").reduce(function(e,t,n){return(n+1)*t.charCodeAt(!1)+e},-1);n[t]&&delete n[t]}};Object.keys(r||{}).forEach(function(e){return n[e]=r[e]}),[].slice.apply(e.attributes).forEach(function(e){t(e.nodeValue),t(e.nodeName)}),0===Object.keys(n).length&&(r=void 0)}}),z=Boolean(0<Object.keys(r||{}).length)):0<Object.keys(r).length},enumerable:!1,configurable:!0}),X.prototype._keyPress=function(e){var t=null;if(e.ctrlKey)return this._prepareForCtrlKeypress(e),!1;if(e.metaKey)return!1;var n=e.keyCode||e.which;switch(n){case 32:return this._insertText(" ");case 8:return this._deleteContents(u.Start,null,!1);case 46:return this._deleteContents(u.End,null,!1);case 13:return this._handleEnter();default:if(G.isIgnoredKeyCode(n))return!1;if(t=e.char||String.fromCharCode(n)){var r=E.browser.msie?t:null;return this._insertText(r)}return!1}},X.prototype._prepareForCtrlKeypress=function(e){var t=null;switch(e.keyCode||e.which||e.code){case 8:t="del-word-back";break;case 46:t="del-word-forward"}t&&this.setMutationContext(t,null,1)},X.prototype._handleEnter=function(){if(this.host.getIMECompositionState()!==d.None)return!0;var e=this._cleanupSelection(this._getCurrentRange(!0));if(!e)return!1;if(this.setMutationContext("enter",null,1),e.collapsed){var t=this._getNodeTrackingContext(e.startContainer);this._moveCaretOutOfTracking(e,t,!0)}else this._deleteContents(u.End,e,!1);return!1},X.prototype._handleEditKey=function(e){switch(e.which||e.keyCode){case 120:case 88:if(!0!==e.ctrlKey&&!0!==e.metaKey||!this._params.handleCut)break;var t=this.prepareToCut();return{handled:t,cancel:t};case 67:case 99:if(!0===e.ctrlKey||!0===e.metaKey)return this.prepareToCopy(),{handled:!0,cancel:!1}}return{handled:!1,cancel:!1}},X.prototype._insertText=function(e){if(!this.host.users.getCurrentUser(!1))return!1;if(this.host.getIMECompositionState()!==d.None){var t=this._getCurrentRange(),n=t.collapsed&&t.startContainer,r=n&&this._getNodeTrackingContext(n);if(r.tracksContent&&r.isCurrent)return E.logger.debug("Ignoring typing in IME",t.inspect()),!1}var o=this._getCurrentRange(!0);if(!(o=this.host.beforeInsert(o))||this.keyboardMapper)return!1;var i=this._getNodeTrackingContext(o.startContainer,!0);if(i.isInsert&&i.tracksContent&&i.isCurrent&&(o.collapsed||3===o.startContainer.nodeType&&o.endContainer===o.startContainer))return!1;var a=Boolean(o&&!o.collapsed);if(o.commonAncestorContainer!==this.rootElement&&this._shouldIgnoreNode(o.commonAncestorContainer,!1))return!1;o=this._cleanupSelection(o);var s=this._startBatchChange(),l=this.setIgnoreMutations(!0),c=!1;try{a&&(this._deleteContents(u.End,o,!0),o=this._moveRangeToValidTrackingPos(this._getCurrentRange())),o&&(c=this._doInsertText(e,o))}catch(e){E.logger.error(e,"while trying to insert nodes")}finally{this.setIgnoreMutations(l),this._endBatchChange(s,Boolean(e||c))}return c},X.prototype._doInsertText=function(e,t){var n,r=this._getNodeTrackingContext(t.startContainer,!1),o=t.startContainer,i=this._env.document,a=!1,s=null;if(r.isInsert&&r.isCurrent){if(r.tracksContent)return!1;var l=r.changeId===(null===(n=this._lastChange)||void 0===n?void 0:n.id)?r.changeId:null;s=this._createTrackedNode(null,{type:y,changeId:l,containerOnly:!1,trackChildren:m.DONT_TRACK}),t.insertNode(s)}else{var c=null,u=null;if(s=this._createTrackedNode(null,{type:y,changeId:null,containerOnly:!1,trackChildren:m.DONT_TRACK}),r.isTracking&&r.tracksContent){var d=E.utils.dom.getNodeLength(o),p=E.utils.dom.getNodeIndex(o);0===t.endOffset?o!==r.trackingNode&&0!==p||(c=r.trackingNode):t.endOffset<d?(this._splitNode(r.trackingNode,o,t.endOffset),c=r.trackingNode):o!==r.trackingNode&&o.nextSibling?(this._splitNode(r.trackingNode,r.trackingNode,p+1),c=r.trackingNode):u=r.trackingNode,t=this._selection.getRangeAt(0)}c?c.parentNode.insertBefore(s,c):u?E.utils.dom.insertAfter(s,u):t.insertNode(s)}if(s&&(x(s).siblings("br[data-mce-bogus]").remove(),e)){a=!0;var f=i.createTextNode(e);s.appendChild(f),this._selection.collapseAtEnd(f)}return a||this._prepareSelectionForInsert(s,t,i),a},X.prototype._prepareSelectionForInsert=function(e,t,n){var r=this;this._$element.find("[data-mce-type='format-caret']").each(function(e,t){r._replaceNodeWithContent(x(t))});var o=e||t.startContainer;if(!(t.collapsed&&o&&3===o.nodeType&&o.length)){var i=n.createTextNode("\ufeff");e?e.appendChild(i):t.insertNode(i),this._selection.setStart(i,!1,0),this._selection.setEnd(i,!1,1)}},X.prototype._handleKeyDown=function(e){var t=this._handleEditKey(e);return t.handled?t.cancel:this._keyPress(e)},X.prototype._moveRangeToValidTrackingPos=function(e,t){var n=this;if(void 0===t&&(t=0),!e)return null;if(0===t&&E.utils.dom.isEmptyTextNode(e.startContainer))return E.utils.dom.normalizeNode(e.startContainer.parentNode),this._moveRangeToValidTrackingPos(this._getCurrentRange(!0),t+1);if(this.host.isBogusInsertPosition(e.startContainer))return this._selection.collapseBefore(e.startContainer,this._getTraversalFilters("back")),this._getCurrentRange();for(var r,o,i,a,s=null,l=[],c=!1,u=!1,d=function(){return c&&n._selection.addRange(e),e};!u;){if(!(o=e.startContainer)||0<=l.indexOf(o))return d();if(l.push(o),r=this._getVoidElement({node:o,checkEmpty:!1})){if(r!==o&&0<=l.indexOf(r))return d();l.push(r)}else u=E.domUtils.isTextContainer(o);if(!u){null===s&&(s=!E.domUtils.isOnRightEdge(e.startContainer,e.startOffset)),a=(i=s?E.domUtils.findPrevTextContainer(r||o,this.rootElement):E.domUtils.findNextTextContainer(r||o,this.rootElement)).node;try{s?e.setStart(a,i.offset):e.setEnd(a,i.offset),e.collapse(s),c=!0}catch(e){E.logger.error(e,"While trying to move range to valid tracking position");break}}}return d()},X.prototype._restoreAndMarkDeletedNode=function(e,t,n){if(!e||3===e.nodeType&&E.utils.dom.isEmptyTextNode(e))return!1;n&&n.parentNode!==t&&(n=null);var r=this._isOpaqueNode(e),o=1===e.nodeType&&"SPAN"===e.nodeName;if(!r&&o&&e.firstChild){for(var i=!0,a=e.firstChild;a&&i;a=a.nextSibling)3===a.nodeType&&E.utils.dom.isEmptyTextNode(a)||(i=!1);if(i)return!1}var s=this._getNodeTrackingContext(e);return!(s.isInsert&&s.isCurrent||(E.utils.dom.insertAfter(e,n,t),this._addDeleteTracking(e,{containerOnly:r||!o,trackContent:!r&&!o,trackingContext:s}),0))},X.prototype._onMutationSummary=function(e){var t,n=this;if(E.logger.debug("on dom mutation summary, ignoring "+this._ignoreMutations,e),this._unlistenToMutations(),!this._ignoreMutations)if(this.host.users.getCurrentUser(!1)){if(this.rootElement&&this.rootElement.ownerDocument){var r=this._getCurrentRange(!0),o=this._selection.getBookmark(this.host.getCaretSelectors(),r),i=!1,a=this._startBatchChange(),s=[],l=[],c=!1,u=this._lastMutationContext.peekType();try{var d=this._processSpecialMutation(e);if(d)return i=d.changedDOM,void(d.restoreCaret||(r=null));for(var p=0,f=e.length;p<f;++p)i=this._processOneMutationSummary(e[p],s)||i}catch(e){E.logger.error("While analyzing mutation summary",e)}finally{c=Boolean(s.length),this._endBatchChange(a,!1),r&&r.collapsed&&(o?this._selection.gotoBookmark(o,{after:"backspace-li"!==u&&void 0}):E.rangy.dom.isAncestorOf(this.rootElement,r.startContainer,!0)?this._selection.setStart(r.startContainer,!0,r.startOffset):c=!0);var h=this._getCurrentRange(),g=this._getNodeTrackingContext(h.commonAncestorContainer,!1);g.isTracking&&g.changeId===(null===(t=this._lastChange)||void 0===t?void 0:t.id)&&this._monitorCaretInInsertedElement(g),c&&E.trackerUtils.createBackspaceGuard(this.rootElement,function(e){n._cleanupSelection(n._getCurrentRange(!0)),e.backspace?1===l.length?n._selection.collapseBefore(l[0],n._getTraversalFilters("back")):n._selection.nudgeLeft(null,n._deleteOptions.noSelfNoParentNoBR):e.del?n._selection.nudgeRight(null,n._deleteOptions.noSelfNoParentNoBR):n._selection.normalize(n._deleteOptions.withSelfNoParent,"outdent"===u)})}}}else E.logger.warn("Cannot track DOM mutations with no user")},X.prototype._processOneMutationSummary=function(e,t){var n,r,o,i=this,a=!1,s=this.rootElement&&this.rootElement.ownerDocument;if(!s)return!1;var l=e.added||[];l.forEach(function(e){i._isValidFLITENode(e)||i.removeFLITETracking(e)});var c=this._restoreDeletedHierarchy(e.removed,e);if(l=this._restoreAddedHierarchy(l),this._handleIdenticalChanges(l,c,e))return E.logger.debug("Identical change, ignoring"),!1;for(var u=e.reparented||[],d=0,p=c.length;d<p;++d)r=c[d],this._shouldRestoreNode(r,e.getOldParentNode(r))&&(E.domUtils.isAncestorAmong(t,r)?t.push(r):(o=e.getOldParentNode(r))&&o.ownerDocument===s&&this._restoreAndMarkDeletedNode(r,o,e.getOldPreviousSibling(r))&&(a=!0,t.push(r),u.length&&1===r.nodeType&&(n=r.querySelectorAll("*"))&&n.length&&(t=t.concat([].slice.apply(n)))));a=this._restoreReparented(e,t)||a,t.forEach(function(e){i._removeHostArtifacts(e),i._cleanupLINode(x(e))});for(var f=0,h=l.length;f<h;++f)a=this._tryToTrackAddedNode(l[f],e.reparented)||a;return a},X.prototype._restoreReparented=function(e,t){for(var n,r,o=!1,i=e.reparented&&this._restoreDeletedHierarchy(e.reparented,e)||[],a=0,s=i.length;a<s;++a)n=i[a],(r=e.getOldParentNode(n))&&0<=t.indexOf(r)&&(this._restoreIntoLI(n,r,e.getOldPreviousSibling(n))||E.utils.dom.insertAfter(n,e.getOldPreviousSibling(n),r),o=!0);return o},X.prototype._processFootnoteInsertion=function(e,t){var n=this,r=[],o=!1;t=t||{noteSelector:void 0,markerSelector:void 0,headerSelector:void 0};for(var i=0,a=e;i<a.length;i++){var s=a[i];r.push.apply(r,s.added)}var l=[];r.forEach(function(e){t.markerSelector&&E.utils.dom.matchesSelector(e,t.markerSelector)?(n._markupInsertedNodes([e],null),o=!0):t.noteSelector&&E.utils.dom.matchesSelector(e,t.noteSelector)?l.push(e):t.headerSelector&&E.utils.dom.matchesSelector(e,t.headerSelector)&&l.push(e)});var c=[];return l.forEach(function(e){E.utils.dom.forAllTextChildren(e,function(e){c.push(e)})}),c.length&&this._markupInsertedNodes(c,null),Boolean(l.length)||o},X.prototype._processSpecialMutation=function(e){var t={changedDOM:!1,restoreCaret:!1,type:""},n=t.type=this._lastMutationContext.popType(),r=this._lastMutationContext.data;switch(n){case"table-properties":break;case"insert-footnote":t.changedDOM=t.restoreCaret=this._processFootnoteInsertion(e,r);break;case"backspace-li":case"delete-li":r?this._restoreDeletedListItemFromContext(r,e):this._handleDeletedListItem(e,n),t.restoreCaret=!0;break;case"insert-element":this._handleInsertedElement(e,r),t.restoreCaret=!0;break;case"add-style":this._handleAddedStyle(e,r);break;case"remove-style":this._handleRemovedStyle(e,r);break;case"paste":this._updateAfterPaste(e);break;case"insert-list":this._handleInsertedList(e)&&(t.restoreCaret=t.changedDOM=!0);break;case"remove-list":this._loadFromDom();break;case"enter":t.changedDOM=this._handleEnterMutation(e);break;case"delete-br":var o=this._handleDeleteBreak(e);o.handled&&(t.changedDOM=!0,t.restoreCaret=o.restoreCaret);break;case"delete-table-cell":case"delete-table-col":case"delete-table-row":case"delete-table":case"insert-table-row":case"insert-table-cell":case"insert-table-col":t.changedDOM=this._processOneMutationSummary(e[0],[]),t.restoreCaret=!1;break;default:E.logger.debug("Unknown mutation type "+n)}return E.logger.debug("Processed special mutation",n),t},X.prototype._restoreDeletedListItemFromContext=function(e,t){var n=t[0],r=E.trackerUtils.findMatchingListElement(e,n.added),o=r.list,i=r.item,a=E.utils.dom.isDescendantOf(e.list,this.rootElement)&&e.list,s=a||o;if(!s)return this._restoreList(n)||this._processOneMutationSummary(n,[]);if(e.li.innerHTML=e.liContent,E.utils.dom.insertNodeAt(e.li,s,e.index),this._addDeleteTracking(e.li,{move:g.None,containerOnly:!0,trackContent:!1}),i&&!a)return i.previousSibling.appendChild(s),x(i).remove(),!0;var l=(n.reparented||[]).slice();i||n.added.forEach(function(e){e===s||E.utils.dom.isDescendantOf(e,s)?E.utils.dom.isEmptyTextNode(e)&&l.push(e):l.push(e)}),x(l).remove();var c=s.ownerDocument;x(s).find("li:empty").each(function(e,t){t.appendChild(c.createElement("BR"))})},X.prototype._handleDeletedListItem=function(e,t){var n=this,r=e[0];if(!this._restoreList(r)){var o,i=this.rootElement&&this.rootElement.ownerDocument,a=r.added,s=this._restoreDeletedHierarchy(r.removed,r),l=[];s.forEach(function(e){if(n._shouldRestoreNode(e,r.getOldParentNode(e)))if(E.domUtils.isAncestorAmong(l,e))l.push(e);else{var t=r.getOldParentNode(e);t&&t.ownerDocument===i&&n._restoreAndMarkDeletedNode(e,t,r.getOldPreviousSibling(e))&&"LI"===e.nodeName&&(o=e)}}),(o=o||function(e){for(var t=e.length-1;0<=t;--t)if("LI"===e[t].nodeName)return e[t];return null}(e[0].removed))&&(a.forEach(function(e){o.insertBefore(e,o.firstChild)}),this._restoreReparented(r,r.removed),x(o.parentNode).find("li").each(function(e,t){n._cleanupLINode(x(t))}))}},X.prototype._handleInsertedElement=function(e,t){var n=e[0];if(n&&t)for(var r=t&&t.element,o="*"===t,i=n.added,a=n.added.concat(n.removed).concat(n.reparented||[]),s=0,l=void 0;s<i.length;++s)if(l=i[s],o)this._tryToTrackAddedNode(l,a);else if(1===l.nodeType&&l.nodeName===r){this._tryToTrackAddedNode(l,a);break}},X.prototype._handleAddedStyle=function(e,t){var n,r;if(t&&t.element&&(n=e[0]))for(var o=n.added,i=0;i<o.length;++i)1===(r=o[i]).nodeType&&(r.nodeName.toLowerCase(),t.element)},X.prototype._handleRemovedStyle=function(e,t){var n,r;if(t&&t.element&&(n=e[0]))for(var o=n.removed,i=0;i<o.length;++i)1===(r=o[i]).nodeType&&(r.nodeName.toLowerCase(),t.element)},X.prototype._handleDeleteBreak=function(e){var t,n,r,o={handled:!1,restoreCaret:!0};if(1!==e.length)return o;for(var i=e[0],a=i.removed,s=[],l=this.rootElement&&this.rootElement.ownerDocument,c=0;c<a.length;++c)if((t=a[c]).nodeName in P){var u=i.getOldParentNode(t);u&&u.ownerDocument===l&&this._restoreAndMarkDeletedNode(t,u,i.getOldPreviousSibling(t))&&(s.push(t),o.handled=!0,"P"===t.nodeName?n=t:"LI"===t.nodeName&&(r=t))}if(this._restoreReparented(i,s),r){var d=E.domUtils.getFirstSelectableChild(t,this._deleteOptions.noSelfNoParent);d&&(this._selection.setStart(d,!0,0),o.restoreCaret=!1)}else n&&(this._selection.collapseAfter(n,this._getTraversalFilters("forward")),o.restoreCaret=!1);return o},X.prototype._updateAfterPaste=function(e){for(var t=0,n=e.length;t<n;++t)for(var r=e[t].added,o=void 0,i=0,a=r.length;i<a;++i)o=r[i],this._isValidFLITENode(o)&&(this._finalizeTrackedNode(o),this._fixAddedChildren(o));this.unwrapAllTrackedNodes(null)},X.prototype._fixAddedChildren=function(e){var n=this;e&&1===e.nodeType&&E.utils.dom.matchesSelector(e,"TD,LI")&&x(e).find("span."+this._insertClassName+">br").each(function(e,t){n._replaceNodeWithContent(x(t.parentNode))})},X.prototype._handleInsertedList=function(e){if(1!==e.length)return!1;for(var t,n,r=e[0],o=r.reparented||[],i=r.added,a=i.concat(o),s=!1,l=0,c=i.length;l<c;++l)(t=i[l]).nodeName in M&&(this.removeFLITETracking(t),s=this._tryToTrackAddedNode(i[l],a)||s,"LI"!==t.nodeName&&(n=t));if(s&&n)for(l=0,c=o.length;l<c;++l)"LI"===(t=o[l]).nodeName&&t.parentNode===n&&this._tryToTrackAddedNode(o[l],a);return s},X.prototype._handleSpellcheckMutation=function(e){if(!(0<(null==e?void 0:e.length)))return!1;for(var t=function(e){var t=[],n=e&&e.length;if(!n)return t;for(var r=0;r<n;++r){var o=e[r];o&&3===o.nodeType&&!E.utils.dom.isEmptyTextNode(o)&&t.push(o)}return t},n=[],r=[],o=0,i=e;o<i.length;o++){var a=i[o],s=a.target;G.isSpellcheckerNode(s)?n.push.apply(n,t(a.removedNodes)):1===s.nodeType&&r.push.apply(r,t(a.addedNodes))}return this._markupInsertedNodes(r,null),!1},X.prototype._handleEnterMutation=function(e){if(1!==e.length)return!1;var t=e[0],n=this.host.getNewLineNodeName();if(!n)return!1;for(var r,o=t.added,i=o.concat(t.reparented||[]),a=!1,s=o.length-1;0<=s;--s)(r=o[s]).nodeName!==n&&"LI"!==r.nodeName&&"BR"!==r.nodeName||(this.removeFLITETracking(r),a=!0,this._tryToTrackAddedNode(r,i));return this._removeBogusTracking(o),a},X.prototype._removeBogusTracking=function(e){for(var t,n=this._insertSelector+":not("+w+"),"+this._deleteSelector+":not("+w+")",r=0;r<e.length;++r)if(t=e[r],E.utils.dom.matchesSelector(t,n)){for(var o=!0,i=t.lastChild;i&&o;i=i.previousSibling)(3!==i.nodeType||E.utils.dom.isEmptyTextNode(i))&&(1!==i.nodeType||"BR"===i.nodeName&&i.getAttribute("data-mce-bogus"))||(o=!1);o&&this._replaceNodeWithContent(x(t))}},X.prototype._handleIdenticalChanges=function(e,t,n){var r,o,i=e.length,a=t.length,s=i-a;if(s<-1||1<s)return!1;o=a<i?(r=e.slice(),t.slice()):(r=t,e);for(var l,c,u,d=null,p=[],f=0;f<r.length;++f){l=r[f],u=!1;for(var h=0;h<o.length&&!u;++h)c=o[h],3===l.nodeType?3===c.nodeType&&l.data===c.data&&(u=!0):1===l.nodeType&&1===c.nodeType&&c.nodeName===l.nodeName&&l.innerHTML===c.innerHTML&&(u=!0),u&&(p.push({n1:l,n2:c}),o.splice(h,1));if(!u){if(E.domUtils.getNodeCharacterLength(l)||d)return!1;d=l}}p.forEach(function(e){e.n1.parentNode&&!e.n2.parentNode?e.n1.parentNode.replaceChild(e.n2,e.n1):e.n2.parentNode&&!e.n1.parentNode&&e.n2.parentNode.replaceChild(e.n1,e.n2)});var g=0<p.length;if(g&&r===t&&d&&!x(d).is(":empty")){var m=n.getOldParentNode(d);m&&this._restoreAndMarkDeletedNode(d,m,n.getOldPreviousSibling(d))}return g},X.prototype._restoreIntoLI=function(e,t,n){if("LI"!==t.nodeName)return!1;if(n&&n.parentNode===t)return E.utils.dom.insertAfter(e,n,t),!0;for(var r=t.firstChild;r;r=r.nextSibling)if("BR"===r.nodeName)return t.insertBefore(e,r),!0;return t.appendChild(e),!0},X.prototype._shouldRestoreNode=function(e,t){var n=this;if(1!==e.nodeType)return!0;if(this._params.nodeClassifier.classifyNode(e,this.rootElement,!1,!0)!==E.NodeClassifier.CONTENT_ONLY)return!this._getNodeTrackingContext(e).isCurrent;var r=x(e);return r.find(this._insertSelector).filter(function(e,t){return n._isCurrentSessionNode(t)}).remove(),!r.is(":empty")},X.prototype._tryToTrackAddedNode=function(e,t){if(this._shouldIgnoreNode(e,!0))return!1;var n=this._getNodeTrackingContext(e),r=!0;return n.isTracking?n.isInsert&&!n.isCurrent?this._createTrackedNode(e,{type:y,changeId:null,ignoredNodes:t,containerOnly:!1,trackChildren:m.DONT_TRACK}):r=!1:this._createTrackedNode(e,{type:y,changeId:null,containerOnly:E.domUtils.isBlockElement(e),trackChildren:G.shouldTrackChildren(e),ignoredNodes:t}),this._fixAddedChildren(e),r},X.prototype._monitorCaretInInsertedElement=function(e){var r=this,o=e.changeId,i=e.trackingNode;if(o&&i){var a=x(this.rootElement.ownerDocument);a.off(h),a.on(h,function(){var e,t=r._getCurrentRange(),n=(null===(e=r._lastChange)||void 0===e?void 0:e.id)===o;n&&t&&t.collapsed&&r._getNodeTrackingContext(t.commonAncestorContainer,!1).trackingNode===i?E.logger.debug("selection still in tracked container"):(E.logger.debug("selection has moved out of the tracked container"),a.off(h),n&&(r._lastChange=null))})}else E.logger.warn("_monitorCaretInInsertedElement: No node or no change id in node")},X.prototype._restoreAddedHierarchy=function(e){var t,n,r;if(!e||(t=e.length)<2)return e;for(var o=[],i=[],a=0;a<t;++a)3===(r=e[a]).nodeType&&E.utils.strings.isEmptyString(r.nodeValue)||(n=r.parentNode)&&e.indexOf(n)<0&&(1===r.nodeType&&r.getAttribute(A)?i.push(r):o.push(r));return i.length?i:o},X.prototype._restoreDeletedHierarchy=function(n,a){if(!n||!n.length)return[];n=n.slice();for(var e,t,r,o,i,s=function(e){for(var t=n.length-1;0<=t;--t)if(n[t]===e)return t;return-1},l=0;l<n.length;++l)e=n[l],(t=a.getOldParentNode(e))&&(t!==e.parentNode?0<=(o=s(t))&&l<o&&(n.splice(o,1),n.splice(l,0,t),--l):(n.splice(l,1),l--));for(l=0;l<n.length;++l)e=n[l],(r=a.getOldPreviousSibling(e))&&l<(i=s(r))&&(n.splice(i,1),n.splice(l,0,r),--l);if(a.li_restored_)return n;a.li_restored_=1;var c=function(e,t){if(!(t>=e.length-1)){var n,r,o=e[t];if(1!==o.nodeType)return c(e,t+1);for(var i=t+1;i<e.length;++i)n=e[i],a.getOldParentNode(n)===o&&(c(e,t+1),(r=a.getOldPreviousSibling(n))&&r.parentNode!==o&&(r=null),o.insertBefore(n,r&&r.nextSibling),e.splice(i,1),i--)}};return c(n,0),n},X.prototype._createMutationObservers=function(e){var t=this;if(!this._mutationSummary){var n={callbacks:{withContext:this._onMutationSummary.bind(this)},rootNode:this.rootElement,oldPreviousSibling:!0,observeOwnChanges:!1,mutationFilter:this._filterMutations,nodeFilter:function(e){return!t._shouldIgnoreNode(e,!1,!0)},queries:[]};n.mutationFilter=n.mutationFilter.bind(this),n.queries.push({element:"*",classAttribute:!1}),this._mutationSummary=new E.MutationSummary(n,!1)}e&&(this._mutationSummary.setCallback("withContext"),this._mutationSummary.reconnect())},X.prototype._momentarilyRemoveTrackingInRange=function(e){var a=this,s=Date.now()%1e6,l={},c=C;e.getNodes(null,function(e){var t=a._getNodeTrackingContext(e);if(!t.isTracking)return!1;var n=t.trackingNode,r=G.getNodeAttributes(n),o=n.className,i=String(s++);return l[i]={attributes:r,className:o},a.removeFLITETracking(n),n.setAttribute(c,i),t.isDelete&&n.setAttribute(a.attributes.isDeleteNode,"1"),!0}),setTimeout(function(){a._$element.find("["+c+"]").each(function(e,t){var n=t.getAttribute(c),r=l[n]||{};n?(delete l[n],Object.keys(r.attributes||{}).forEach(function(e){t.setAttribute(e,r.attributes[e])}),t.setAttribute("class",r.className||""),t.removeAttribute(c),t.removeAttribute(a.attributes.isDeleteNode)):E.logger.warn("missing save data for node")})},10)},X.prototype._isOpaqueNode=function(e){return this._params.nodeClassifier.classifyNode(e,this.rootElement,!1,!0)===E.NodeClassifier.NODE_ONLY},X.prototype._cleanupTrackedNode=function(e){for(var t=[],n=[],r=0,o=e.childNodes&&e.childNodes.length||0;r<o;++r){var i=e.childNodes[r];G.isSpellcheckerNode(i)?n.push(i):E.utils.dom.isEmptyTextNode(i)&&t.push(i)}for(r=0;r<t.length;++r)this._removeNode(t[r]);for(r=0;r<n.length;++r)G.removeSpellcheckerNode(n[r]);return E.utils.dom.normalizeNode(e),e},X.prototype._isOpaqueNodeOrParent=function(e){return this._params.nodeClassifier.classifyNode(e,this.rootElement,!1,!1)===E.NodeClassifier.NODE_ONLY},X.prototype._restoreList=function(t){var e=t.added,n=t.removed,r=this.host.getNewLineNodeName(),o=r?1:0,i=e&&e.length,a=n&&n.length;if(i<o||!a)return!1;for(var s,l,c,u,d=0,p=0;p<a;++p){if(s=n[p],!l&&U.test(s.nodeName)){if(l=s,(c=this._getNodeTrackingContext(l)).isInsert&&c.isCurrent)return!1;break}"LI"===s.nodeName&&0===s.children.length&&(E.trackerUtils.findInArray(t.reparented,function(e){return t.getOldParentNode(e)===s})||++d)}if(!l&&1!==d)return!1;var f=0,h=0;for(p=e.length-1;0<=p;--p)1===(s=e[p]).nodeType&&(s.nodeName===r?++f:l&&s.nodeName===l.nodeName&&++h);if(f===o&&1===d&&!l)return!1;if(f<o)return!1;if(u=t.getOldParentNode(l),!this._shouldRestoreNode(l,u))return!0;this._restoreDeletedHierarchy(t.removed,t);var g=t.getOldPreviousSibling(l);E.utils.dom.insertAfter(l,g,u),this._removeHostArtifacts(l),h?this._addDeleteTracking(l.firstChild,{trackingContext:c,containerOnly:!0}):this._addDeleteTracking(l,{trackingContext:c,containerOnly:!0,trackContent:!0});var m=[l].concat(x(l).find("*").toArray());for(p=t.added.length-1;0<=p;--p)(u=(s=t.added[p]).parentNode)&&u.removeChild(s);return this._restoreReparented(t,m),!0},X.prototype._filterMutations=function(e){return e&&e.length?this._lastMutationContext.peekType()?this._filterMutationsInContext(e):this._filterBackgroundMutations(e):[]},X.prototype._filterMutationsInContext=function(e){if(this.host.shouldIgnoreMutations(e)!==i.OK)return[];for(var t=[],n=0,r=e;n<r.length;n++){var o=r[n];"childList"===o.type&&(this._shouldIgnoreMutationNodeList(o.addedNodes)!==i.OK&&this._shouldIgnoreMutationNodeList(o.removedNodes)!==i.OK||t.push(o))}return t},X.prototype._filterBackgroundMutations=function(e){return E.logger.debug("Mutations received with no context"),[]},X.prototype._shouldIgnoreMutationNodeList=function(e){if(!e||!e.length)return i.IGNORE;for(var t,n=e.length-1;0<=n;--n)if(t=e[n],!this._shouldIgnoreNode(t,!0))return i.OK;return i.IGNORE},X.prototype._shouldIgnoreNode=function(e,t,n){void 0===n&&(n=!1);var r=e&&e.nodeType;if(1!==r&&3!==r)return!0;if(t&&3===r&&E.utils.strings.isEmptyString(e.nodeValue))return!0;if(e.style&&"none"===e.style.display)return!0;var o=this._params.nodeClassifier.classifyNode(e,this.rootElement,t,!1);return o===E.NodeClassifier.IGNORE||o===E.NodeClassifier.CONTENT_ONLY&&n},X.prototype._findNextNodeToDelete=function(e){var t=this._getNodeAtCaret({range:e,lookBack:!1,lookForward:!0}),n=t.node,r=n&&3===n.nodeType;return{node:n,offset:r?t.offset:0,isText:r,tagName:n&&n.nodeName,range:e}},X.prototype._findPreviousNodeToDelete=function(e){var t=this._getNodeAtCaret({range:e,lookBack:!0,lookForward:!1}),n=t.node,r=n&&3===n.nodeType;return{node:n,offset:r?Math.max(0,t.offset):0,isText:r,tagName:n&&n.nodeName,range:e}},X.prototype._getNodeTrackingContext=function(e,t){void 0===t&&(t=!0);var n,r={isTracking:!1,isCurrentUser:!1,isCurrentSession:!0,isCurrent:!1,trackingNode:null,isDelete:!1,isInsert:!1,changeId:null,tracksContent:!1,referenceNode:e};if(!e)return r;var o=x(e);if(1===e.nodeType?(n=o.is(this._fliteSelector)&&e)||!1!==t||(n=o.parents(this._fliteSelector)[0]):3===e.nodeType&&(n=x(e).parents(this._fliteTextSelector)[0],r.tracksContent=Boolean(n),n||!1!==t||(n=o.parents(this._fliteSelector)[0])),!n)return r;r.isTracking=!0,n===e&&E.utils.dom.matchesSelector(n,this._fliteTextSelector)&&(r.tracksContent=!0),r.isCurrentUser=n.getAttribute(this.attributes.userId)===String(this.currentUser.id),r.trackingNode=n,r.isDelete=E.utils.dom.matchesSelector(n,this._deleteSelector),r.isInsert=!r.isDelete,r.changeId=n.getAttribute(this.attributes.changeId);var i=n.getAttribute(this.attributes.sessionId);return r.isCurrentSession=i==this.sessionId,r.isCurrent=r.isCurrentSession&&r.isCurrentUser,r},X.prototype._removeHostArtifacts=function(e){e&&1===e.nodeType&&x(e).find("[data-cke-bookmark],[data-cke-hidden-sel]").remove()},X.prototype._removeFLITEArtifacts=function(e,t,n){if(void 0===t&&(t=this._$element),void 0===n&&(n=!0),t&&t.length){var r=this.setIgnoreMutations(!0),o=!1,i=e&&this._selection.getBookmark(this.host.getCaretSelectors());try{t.find("span["+k+"]").remove(),t.find("[class='']").each(function(e,t){t.removeAttribute("class")}),t.find(["span",this._insertSelector,":empty,span",this._deleteSelector,":empty"].join("")).each(function(e,t){t.parentNode&&t.parentNode.removeChild(t)}),n||t.find(j).each(function(e,t){t.parentNode&&t.parentNode.removeChild(t)}),t.find("tr>br,ul>br,ol>br").remove(),f.forEach(function(e){return t.find(e).remove()});var a=function(e,t){1===t.nodeType?x(t).contents().each(a):3===t.nodeType&&E.utils.dom.isEmptyTextNode(t)&&t.parentNode.removeChild(t)};a(0,this.rootElement),o=this._removeUnusedChangesets()}finally{this.setIgnoreMutations(r),i&&this._selection.gotoBookmark(i),o&&this._triggerChange()}}},X.prototype._removeUnusedChangesets=function(){var t=this,e=this._$element;if(e){var n=!1,r=e.find(this._fliteSelector),o=this.attributes.changeId,i=r.toArray().reduce(function(e,t){var n=t.getAttribute&&t.getAttribute(o);return n&&(e[n]=1),e},{});return Object.keys(this._changes).forEach(function(e){i[e]||(delete t._changes[e],n=!0)}),n}},X.prototype._testChangeSetForRemoval=function(e){if(this.getChange(e)){for(var t,n=this._$element.find(this._deleteSelector+"["+this.attributes.changeId+"='"+e+"'],"+this._insertSelector+"["+this.attributes.changeId+"='"+e+"']"),r=n.length-1;0<=r;--r)if(t=n[r],!E.utils.dom.matchesSelector(t,this._fliteTextSelector)||!E.domUtils.hasNoTextOrStubContent(t))return;delete this._changes[e],n.remove(),this._triggerChange()}},X.prototype._isValidFLITENode=function(e){if(!e||1!==e.nodeType)return!1;var t=x(e);return Boolean((t.hasClass(this._deleteClassName)||t.hasClass(this._insertClassName))&&t.attr(this.attributes.changeId)&&t.attr(this.attributes.userId))},X.prototype._replaceNodeWithContent=function(e){var t=e[0],n=t&&t.parentNode;if(n&&1===t.nodeType){var r=!1,o=e.contents();o.length?t.nodeName in L&&G.isVirtuallyEmpty(o)?e.remove():("LI"===t.nodeName&&n.nodeName in D&&(r=!0,t===t.parentNode.firstChild&&t.parentNode!==this.rootElement?(e.parent().before(o),this._removeNode(t)):t.previousSibling?(x(t.previousSibling).append(o),this._removeNode(t)):r=!1),r||(this.host.preserveWhiteSpace()&&(E.utils.dom.forAllTextChildren(t,E.domUtils.preserveWhiteSpaces),o=e.contents()),e.replaceWith(o))):e.remove()}},X.prototype._getNodeAtCaret=function(e){var t,n=e.range||this._getCurrentRange(),r=n.startContainer;function o(e,t){var n=e&&3===e.nodeType;return{node:e,offset:t,isText:n,isOnEdge:e&&!n||n&&(0===t||t===e.length)}}if(!r)return o(null,0);if(!e.lookBack&&!e.lookForward)return o(n.commonAncestorContainer,n.endOffset);var i=this._getTraversalFilters(e.lookBack?"back":"forward");if(1===r.nodeType){var a=r.childNodes[n.startOffset-1],s=r.childNodes[n.startOffset];t=e.lookBack?s?E.domUtils.getPrevNode(s,i,!0):a?E.domUtils.getLastChild(r,i):E.domUtils.getPrevNode(r,i,!0):a?E.domUtils.getNextNode(a,i,!1):s?E.domUtils.getFirstChild(r,i):E.domUtils.getNextNode(r,i,!1)}else{if(3!==r.nodeType)return o(null,0);if(!1===e.lookBack&&n.endOffset<r.length||e.lookBack&&0<n.endOffset)return o(r,e.lookBack?n.endOffset-1:n.endOffset);t=e.lookBack?E.domUtils.getPrevNode(r,i,!0):E.domUtils.getNextNode(r,i,!1)}return t?o(t,3===t.nodeType&&e.lookBack?t.length-1:0):o(null,0)},X.prototype._isDeletableElement=function(e,t){if(void 0===t&&(t=!1),!e)return!1;if(3===e.nodeType&&!E.utils.dom.isEmptyTextNode(e))return!0;if(1!==e.nodeType)return!1;if(G.isBogus(e))return!1;for(var n,r=x(e),o=0,i=Y.length;o<i;++o)if(n=Y[o],r.is(n.selector)){if(n.type===l.Always)return!0;if(n.type===l.NotEmpty)return t||!E.domUtils.hasNoTextOrStubContent(e)}return!1},X.prototype._onRangeChanged=function(e){this.host.setHostRange(e.nativeRange)},X.prototype._markInlines=function(){this._$element&&this._$element.find(B).each(function(e,t){t.setAttribute(R,"1")})},X.prototype._cleanupInlines=function(){if(this._$element)for(var e,t=x("");(e=this._$element.find(B)).length&&!e.is(t);)(t=e).each(function(e,t){t.getAttribute(R)||x(t).remove(),t.setAttribute(R,null)})},X.prototype._unlistenToMutations=function(){0<this._mutationListenRequestCount&&--this._mutationListenRequestCount,0===this._mutationListenRequestCount&&this._mutationSummary&&this._mutationSummary.disconnect()},X.prototype._onCharacterDataMutation=function(e,t){if(!this._ignoreMutations&&e&&e.length){var n,r=this.setIgnoreMutations(!0),o=this._startBatchChange(),i=Date.now();try{for(var a=0,s=e;a<s.length;a++){var l=s[a];if(3===(n=l.target).nodeType&&n["$_flite-now"]!==i&&(n["$_flite-now"]=i,l.oldValue)){var c=this._env.document.createTextNode(l.oldValue);n.parentNode.insertBefore(c,n),this._markNodeAsDeleted(c,o),this._markupInsertedNodes([n],null),t&&this._hideTextContent(c)}}}finally{this.setIgnoreMutations(r),this._endBatchChange(o,!0)}}},X.prototype._hideTextContent=function(e){var t=this._getNodeTrackingContext(e);if(!t.isTracking)return E.logger.warn("FLITE: HideTextContent with no tracking context");var n=(t.trackingNode.getAttribute(this.attributes.fliteTextContent)||"")+(e.data||"");t.trackingNode.setAttribute(this.attributes.fliteTextContent,n),t.trackingNode.innerHTML=G.createReplacementText(n)},X.prototype._restoreTextContent=function(e){var t=e.getAttribute(this.attributes.fliteTextContent)||"";e.removeAttribute(this.attributes.fliteTextContent),e.innerHTML=t},X.prototype._getUserStyleSheet=function(e,t){if(!e)return null;var n=this._users[e];return n?(!n.styleLoader&&t&&this._env.document&&(n.styleLoader=new E.utils.CSSLoader(this._env.document)),n.styleLoader):null},X.prototype._validateUserStyle=function(e){var t=(e=e||{}).delete||{},n=e.insert||{},r=e.common||{},o=x.extend(!0,{},r,t),i=x.extend(!0,{},r,n),a=" !important";return o["background-color"]||(o["background-color"]=this._getNextBackgroundColor("delete")+a),i["background-color"]||(i["background-color"]=this._getNextBackgroundColor("insert")+a),{delete:o,insert:i}},X.prototype._getNextBackgroundColor=function(e){var t,n="insert"===e,r=n?this._params.backgroundColors.insert:this._params.backgroundColors.delete,o=n?this._insColorIndex:this._delColorIndex,i=r.length;if(o<i)t=r[o];else{var a=Math.floor(o/i),s=o%i;t=E.utils.intensifyColor(r[s],.1*a*(a%2?1:-1))}return n?this._insColorIndex++:this._delColorIndex++,t},X.prototype._resetBackgroundColors=function(){this._insColorIndex=0,this._delColorIndex=0},X.prototype._addUser=function(e){if(!e)return E.logger.error("null user or no user id");var t=e&&e.id&&String(e.id),n=t&&this._users[t],r=n&&n.styleLoader;r&&r.dispose();var o={userId:e.id,styleLoader:null};this._users[t]=o,this.setUserStyle(e.id,e.style)},X.prototype._forAllUsers=function(e){for(var n=this,r=this.host.users.getAllUsers(),t=0,o=Object.keys(r);t<o.length;t++){var i=o[t],a=this._users[i];if(a||(this._users[i]=a={userId:i,styleLoader:null}),!1===e(a))break}Object.keys(this._users).forEach(function(e){var t;e in r||(null===(t=n._users[e].styleLoader)||void 0===t||t.dispose(),delete n._users[e])})},X);function X(e,t){if(this._changes={},this._deleteOptions=null,this._ignoreMutations=!1,this._boundEventHandler=null,this._mutationSummary=null,this._domObserver=null,this._batchChangeId=null,this._uniqueIDIndex=1,this._compositionState=d.None,this._lastInsertTime=0,this._mutationListenRequestCount=0,this._opaqueTester=null,this._rootId=Math.round(1e6*Math.random()),this._changeTID=0,this._insColorIndex=0,this._delColorIndex=0,!t.element)throw new Error("options.element must be defined for flite construction.");this.host=e,this._users={},this._env={document:null,window:null,element:null,frame:null},this._lastMutationContext=new K,this._isDeletableCallback=this._isDeletableElement.bind(this),this._timeoutClient=new E.TimeoutClient,this._params=x.extend(!0,{},V,t),this._insertClassName=this._params.changeTypes[y].className,this._deleteClassName=this._params.changeTypes[_].className,E.domUtils.addStubElementSelector(this._params.nodeClassifier.getSelector(E.NodeClassifier.NODE_ONLY)),this._insertSelector="."+this._getTrackedNodeClass(y),this._deleteSelector="."+this._getTrackedNodeClass(_),this._fliteSelector=this._insertSelector+","+this._deleteSelector,this._fliteTextSelector="span"+this._insertSelector+"["+this.attributes.fliteCreated+"],span"+this._deleteSelector+"["+this.attributes.fliteCreated+"]",this._domObserver=null,this._nodeTraversalOptions=this._createTraversalSelectors(this._params)}var K=(J.prototype.setContext=function(e){this._type=e.type,this._data=e.data;var t=void 0===e.timeout?300:e.timeout;0<t&&this._timeoutClient.startTimer("reset",t)},J.prototype.mergeData=function(e){if(e)return this._data=E.$.extend({},this._data,e)},Object.defineProperty(J.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),J.prototype.popType=function(){var e=this._type;return this._type="none",this._timeoutClient.stopTimer("reset"),e},J.prototype.peekType=function(){return this._type},J);function J(){var e=this;this._type="none",this._data=null,this._timeoutClient=new E.TimeoutClient,this._timeoutClient.createTimer("reset",{callback:function(){e._type="none"},autoDispose:!1})}E.ChangeTracker=$}(window.FLITE),Object.defineProperty(Ht,"__esModule",{value:!0}),function(l){var e,t,u,n;(n=u=u||{})[n.OK=0]="OK",n[n.IGNORE=1]="IGNORE",n[n.IGNORE_ALL=2]="IGNORE_ALL";var r,o,a={mceinsertlink:1,mcetoggleformat:1,removeformat:1,mceapplytextcolor:1,mceremovetextcolor:1,justifyright:1,justifyleft:1,justifycenter:1,justifyfull:1,bold:1,underline:1,italic:1,undo:1,redo:1,indent:1,outdent:1,annotate:1},i={mceinsertcontent:1},s={mcetabledelete:"delete-table",mcetabledeletecol:"delete-table-col",mcetabledeleterow:"delete-table-row",mcetableinsertrowafter:"insert-table-row",mcetableinsertcolafter:"insert-table-col",mcetableinsertrowbefore:"insert-table-row",mcetableinsertcolbefore:"insert-table-col"},c={insertunorderedlist:1,insertorderedlist:1},d={delete:1,"delete-table":1};(o=r=r||{}).ON_READY="on ready",o.TRACKER_CHANGE="tchange";var p=l.$,f=tinymce.PluginManager;function h(e,t){return e.options&&(e.options.get,1)?e.options.get(t):e.settings?e.settings[t]:"function"==typeof e.getParam?e.getParam(t):null}function g(t,o,i){if(o&&i&&i.length){var a=new RegExp("\\b"+o+"\\b(:?[^\\-]|$)","g");n("toolbar");for(var e=1;e<10;++e)n("toolbar"+e)}function n(e){var r=h(t,e);return!!r&&(p.isArray(r)?r.forEach(function(e,t){if(e){var n=typeof e;"string"==n&&a.test(e)?r[t]=e.replace(o,i.join(" ")):"object"==n&&a.test(e.name)&&(!e.items||p.isArray(e.items)&&!e.items.length)&&(e.items=i.slice())}}):"string"==typeof r&&a.test(r)&&function(e,t,n){if(e.options&&(e.options.set,1))e.options.set(t,n);else{if(e.settings)return e.settings[t]=n;l.logger.warn("no way to change editor setting "+t)}}(t,e,r.replace(o,i.join(" "))),!0)}}var m=10*parseInt(tinymce.majorVersion)+.1*parseInt(tinymce.minorVersion);f.requireLangPack("flite","en,fr,de,es,ja,pt,ko,nl,pt,ru,sk,tr,zh"),f.add("flite",function(e,t){!function(e){m<60||e.options.register("flite",{processor:function(){return!0},default:{}})}(e);var n=new E(e,t);return n.initPlugin(e,h(e,"flite")),n});var v=((e={})[l.Commands.TOGGLE_TRACKING]='<svg class="flite-button" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <defs>\n        <path d="M12.4341333,0.546133333 L10.7914667,2.12906667 C10.6250667,2.288 10.6250667,2.54506667 10.7914667,2.70506667 L10.7914667,2.70506667 L13.1797333,5.008 C13.3450667,5.16586667 13.6128,5.16586667 13.7770667,5.008 L13.7770667,5.008 L15.4197333,3.42506667 C15.584,3.26506667 15.584,3.008 15.4197333,2.84906667 L15.4197333,2.84906667 L13.0304,0.546133333 C12.9482667,0.4672 12.8394667,0.426666667 12.7317333,0.426666667 L12.7317333,0.426666667 C12.624,0.426666667 12.5162667,0.4672 12.4341333,0.546133333 L12.4341333,0.546133333 Z" id="path-1"></path>\n    </defs>\n    <g id="pencil_24x24" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Group" transform="translate(2.000000, 3.000000)" fill="#C2C2C2" fill-rule="nonzero">\n            <polygon id="Path" points="13.4 0 13.4 1.4 2.66453526e-15 1.4 2.66453526e-15 0"></polygon>\n            <polygon id="Path" points="20.4 12 20.4 13.4 3.55271368e-15 13.4 3.55271368e-15 12"></polygon>\n            <polygon id="Path" points="20.4 16 20.4 17.4 3.55271368e-15 17.4 3.55271368e-15 16"></polygon>\n            <polygon id="Path" points="20.4 4 20.4 5.4 3.55271368e-15 5.4 3.55271368e-15 4"></polygon>\n            <polygon id="Path" points="7.4 8 7.4 9.4 1.77635684e-15 9.4 1.77635684e-15 8"></polygon>\n        </g>\n        <g id="Group" transform="translate(4.000000, 4.000000)">\n            <path d="M12.6087467,0.42976 C12.4903467,0.444693333 12.38048,0.49696 12.29728,0.58336 L1.00874667,11.8740267 C0.93728,11.9454933 0.888213333,12.03616 0.865813333,12.13536 L0.19488,15.1518933 C0.157546667,15.3268267 0.211946667,15.5092267 0.33888,15.6350933 C0.465813333,15.76096 0.648213333,15.8132267 0.823146667,15.77376 L3.83328,15.10816 C3.93248,15.0868267 4.02314667,15.03776 4.09568,14.9662933 L15.3895467,3.67029333 C15.48768,3.57109333 15.5442133,3.43776 15.5442133,3.29802667 C15.5442133,3.16042667 15.48768,3.02709333 15.3895467,2.92789333 L13.0386133,0.58336 C12.9266133,0.46816 12.76768,0.411626667 12.6087467,0.42976 L12.6087467,0.42976 Z" id="Path" fill="#3F4447"></path>\n            <polygon id="Path" fill="#FFFFFF" points="11.2455467 3.11349333 12.8487467 4.72736 4.23648 13.3406933 2.62901333 11.73216"></polygon>\n            <polygon id="Path" fill="#FF0000" points="12.66848 1.69056 14.2770133 3.29802667 13.59008 3.98602667 11.9815467 2.37749333"></polygon>\n            <polygon id="Path" fill="#13C203" points="1.88554667 12.4734933 3.50048 14.07776 3.46314667 14.1150933 1.39488 14.57376 1.85354667 12.50656"></polygon>\n            <mask id="mask-2" fill="white">\n                <use xlink:href="#path-1"></use>\n            </mask>\n            <g id="Clip-5"></g>\n        </g>\n    </g>\n</svg>',e[l.Commands.TOGGLE_SHOW]='<svg  class="flite-button" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n\t\t<g id="color_6" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n\t\t\t<g id="Group" transform="translate(2.000000, 3.000000)" fill-rule="nonzero">\n\t\t\t\t<polygon id="Path" fill="#13C203" points="13.4 0 13.4 1.4 2.66453526e-15 1.4 2.66453526e-15 0"></polygon>\n\t\t\t\t<polygon id="Path" fill="#C2C2C2" points="20.4 12 20.4 13.4 3.55271368e-15 13.4 3.55271368e-15 12"></polygon>\n\t\t\t\t<polygon id="Path" fill="#C2C2C2" points="20.4 16 20.4 17.4 3.55271368e-15 17.4 3.55271368e-15 16"></polygon>\n\t\t\t\t<polygon id="Path" fill="#C2C2C2" points="20.4 4 20.4 5.4 3.55271368e-15 5.4 3.55271368e-15 4"></polygon>\n\t\t\t\t<polygon id="Path" fill="#FF0000" points="7.4 8 7.4 9.4 1.77635684e-15 9.4 1.77635684e-15 8"></polygon>\n\t\t\t</g>\n\t\t\t<ellipse id="Oval" fill="#FFFFFF" cx="12" cy="12" rx="7" ry="5"></ellipse>\n\t\t\t<path d="M19.9670523,11.863471 C19.1182252,8.35605707 15.2062838,6 12.0849167,6 C8.94741535,6 4.86920709,8.40790823 4.03294767,11.863471 L4,12 L4.03294767,12.136529 C4.86920709,15.5920918 8.94741535,18 12.0849167,18 C15.2062838,18 19.1182252,15.6439429 19.9670523,12.136529 L20,12 L19.9670523,11.863471 Z M12.0849167,16.9359321 C9.34261756,16.9359321 5.80295085,14.915975 5.00456427,12 C5.80295085,9.08402499 9.34261756,7.06406789 12.0849167,7.06406789 C14.7482433,7.06406789 18.1997665,9.08402499 18.9954357,12 C18.1997665,14.915975 14.7482433,16.9359321 12.0849167,16.9359321 Z M12.127375,8.83894433 C10.490691,8.83894433 9.1641227,10.2959993 9.1641227,12.0932575 C9.1641227,13.8905157 10.4908608,15.3475706 12.127375,15.3475706 C13.7638892,15.3475706 15.0906273,13.8907022 15.0906273,12.0932575 C15.0906273,10.2958127 13.764059,8.83894433 12.127375,8.83894433 Z" id="Shape-Copy-11" fill="#464646" fill-rule="nonzero"></path>\n\t\t</g>\n\t</svg>',e[l.Commands.ACCEPT_ALL]='<svg class="flite-button" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n\t\t<g id="color_1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n\t\t\t<g id="Group" transform="translate(2.000000, 3.000000)" fill="#C2C2C2" fill-rule="nonzero">\n\t\t\t\t<polygon id="Path" points="13.4 0 13.4 1.4 2.66453526e-15 1.4 2.66453526e-15 0"></polygon>\n\t\t\t\t<polygon id="Path" points="20.4 12 20.4 13.4 3.55271368e-15 13.4 3.55271368e-15 12"></polygon>\n\t\t\t\t<polygon id="Path" points="20.4 16 20.4 17.4 3.55271368e-15 17.4 3.55271368e-15 16"></polygon>\n\t\t\t\t<polygon id="Path" points="20.4 4 20.4 5.4 3.55271368e-15 5.4 3.55271368e-15 4"></polygon>\n\t\t\t\t<polygon id="Path" points="7.4 8 7.4 9.4 1.77635684e-15 9.4 1.77635684e-15 8"></polygon>\n\t\t\t</g>\n\t\t\t<polygon id="Path-2-Copy" fill="#13C203" fill-rule="nonzero" points="20.6573212 4 22 5.46411673 8.66976357 20 2 12.7269929 3.34267879 11.2628761 8.66976357 17.0717665"></polygon>\n\t\t</g>\n\t</svg>',e[l.Commands.REJECT_ALL]='<svg class="flite-button" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n\t\t<g id="color_2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n\t\t\t<g id="Group" transform="translate(2.000000, 3.000000)" fill="#C2C2C2" fill-rule="nonzero">\n\t\t\t\t<polygon id="Path" points="13.4 0 13.4 1.4 2.66453526e-15 1.4 2.66453526e-15 0"></polygon>\n\t\t\t\t<polygon id="Path" points="20.4 12 20.4 13.4 3.55271368e-15 13.4 3.55271368e-15 12"></polygon>\n\t\t\t\t<polygon id="Path" points="20.4 16 20.4 17.4 3.55271368e-15 17.4 3.55271368e-15 16"></polygon>\n\t\t\t\t<polygon id="Path" points="20.4 4 20.4 5.4 3.55271368e-15 5.4 3.55271368e-15 4"></polygon>\n\t\t\t\t<polygon id="Path" points="7.4 8 7.4 9.4 1.77635684e-15 9.4 1.77635684e-15 8"></polygon>\n\t\t\t</g>\n\t\t\t<path d="M12,10.7692308 L18.7692308,4 L20,5.23076923 L13.2307692,12 L20,18.7692308 L18.7692308,20 L12,13.2307692 L5.23076923,20 L4,18.7692308 L10.7692308,12 L4,5.23076923 L5.23076923,4 L12,10.7692308 Z" id="Rectangle-Copy-13" fill="#FF0000"></path>\n\t\t</g>\n\t</svg>',e[l.Commands.ACCEPT_ONE]='<svg class="flite-button" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n\t\t<g id="color_3" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n\t\t\t<g id="Group" transform="translate(2.000000, 3.000000)" fill="#C2C2C2" fill-rule="nonzero">\n\t\t\t\t<polygon id="Path" points="13.4 0 13.4 1.4 2.66453526e-15 1.4 2.66453526e-15 0"></polygon>\n\t\t\t\t<polygon id="Path" points="20.4 12 20.4 13.4 3.55271368e-15 13.4 3.55271368e-15 12"></polygon>\n\t\t\t\t<polygon id="Path" points="20.4 16 20.4 17.4 3.55271368e-15 17.4 3.55271368e-15 16"></polygon>\n\t\t\t\t<polygon id="Path" points="20.4 4 20.4 5.4 3.55271368e-15 5.4 3.55271368e-15 4"></polygon>\n\t\t\t\t<polygon id="Path" points="7.4 8 7.4 9.4 1.77635684e-15 9.4 1.77635684e-15 8"></polygon>\n\t\t\t</g>\n\t\t\t<polygon id="Path" fill="#13C203" fill-rule="nonzero" points="21.2068642 11.5757359 22.5095983 12.87847 13.3638043 22.0242641 8.57573593 17.2361957 9.87847004 15.9334616 13.3638043 19.4187959"></polygon>\n\t\t</g>\n\t</svg>',e[l.Commands.REJECT_ONE]='<svg class="flite-button" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n\t\t<g id="color_4" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n\t\t\t<g id="Group" transform="translate(2.000000, 3.000000)" fill="#C2C2C2" fill-rule="nonzero">\n\t\t\t\t<polygon id="Path" points="13.4 0 13.4 1.4 2.66453526e-15 1.4 2.66453526e-15 0"></polygon>\n\t\t\t\t<polygon id="Path" points="20.4 12 20.4 13.4 3.55271368e-15 13.4 3.55271368e-15 12"></polygon>\n\t\t\t\t<polygon id="Path" points="20.4 16 20.4 17.4 3.55271368e-15 17.4 3.55271368e-15 16"></polygon>\n\t\t\t\t<polygon id="Path" points="20.4 4 20.4 5.4 3.55271368e-15 5.4 3.55271368e-15 4"></polygon>\n\t\t\t\t<polygon id="Path" points="7.4 8 7.4 9.4 1.77635684e-15 9.4 1.77635684e-15 8"></polygon>\n\t\t\t</g>\n\t\t\t<polygon id="Path" fill="#FF0000" fill-rule="nonzero" points="20.8615385 11.5757359 22.0242641 12.7384615 17.9627256 16.8 22.0242641 20.8615385 20.8615385 22.0242641 16.8 17.9627256 12.7384615 22.0242641 11.5757359 20.8615385 15.6372744 16.8 11.5757359 12.7384615 12.7384615 11.5757359 16.8 15.6372744"></polygon>\n\t\t</g>\n\t</svg>',e),y=((t={})[l.Commands.TOGGLE_TRACKING]="track-changes.svg",t[l.Commands.TOGGLE_SHOW]="view-changes.svg",t[l.Commands.ACCEPT_ALL]="accept-all.svg",t[l.Commands.REJECT_ALL]="reject-all.svg",t[l.Commands.ACCEPT_ONE]="accept-one.svg",t[l.Commands.REJECT_ONE]="reject-one.svg",".mce-spellchecker-word"),b="",_="[data-track-changes-ignore],[data-footnote-id],section.footnotes,\n.mce-match-marker,.mce-annotation,span.mce-spellcheck,\n[data-mce-type='bookmark'],.mce-resizehandle,span#__caret,\n:not(BR,.mce-spellchecker-word,.mce-spellchecker-annotation,[data-mce-type='format-caret'])[data-mce-bogus],.tippy-popper,\n.tippy-tooltip,.tippy-content,.tippy-arrow",C="ice-cts",N=new RegExp("(?:^|s)(?:"+l.flitePluginUtils.deleteClass+"|"+l.flitePluginUtils.insertClass+")(?:s|$)");function T(e){var t=e;return t&&t.className&&N.test(t.className)}function k(e){if(!e||!e.length)return[];var t=[];return e.forEach(function(e){t=t.concat(function e(t){var n;if(1===t.nodeType)for(var r=t.childNodes,o=0;o<r.length;++o)if(e(n=r[o]),T(n)){for(;n.firstChild;)t.insertBefore(n.firstChild,n);t.removeChild(n)}return T(t)?l.$.makeArray(t.childNodes):[t]}(e))}),t}var E=(x.prototype.initPlugin=function(e,t){this._editor=e,this._config=l.flitePluginUtils.upgradeConfig(t),l.logger.config(this._config.debug)},x.prototype.init=function(e,t){var n=this,r=this._config;if(l.flitePluginUtils.validateKey()){this._userManager=l.flitePluginUtils.createUserManager(this),this._initUI(e,t),this._domLoaded=!1,this._isTracking=!1!==r.isTracking,this._isVisible=!1!==r.isVisible,p.extend(a,l.utils.strings.toStringMap(l.utils.strings.toStringArray(r.ignoreCommands,"lower"))),e.once("init",function(){return setTimeout(function(){n._domLoaded||n._onDomLoaded()},1)}),this._initTooltips(),this._testNonEditable=function(e){var n=h(e,"noneditable_editable_class")||".mceEditable",r=h(e,"noneditable_noneditable_class")||".mceNonEditable";return function(e,t){for(;e&&e!==t;e=e.parentNode){if(l.utils.dom.matchesSelector(e,r))return!0;if(l.utils.dom.matchesSelector(e,n))return!1}return!1}}(e);var o=function(){n._isMouseDownInEditor=!1},i=this._onSwitchMode.bind(this);e.on("SwitchMode",i),window.addEventListener("blur",o),e.on("remove",function(){window.removeEventListener("blur",o),e.off("SwitchMode",i),n.destroy()})}},Object.defineProperty(x.prototype,"isVisible",{get:function(){return this._isVisible},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isTracking",{get:function(){return this._isTracking},enumerable:!1,configurable:!0}),x.prototype.destroy=function(){if(this._editor)try{this._spellingStack=null,this._spellTrigger=null,this._timeoutClient.clear(),this._canShowCallback=null,this._compositionTracker&&(this._compositionTracker.dispose(),this._compositionTracker=null),this._tooltipGuard&&(this._tooltipGuard.detach(),this._tooltipGuard=null),l.flitePluginUtils.destroyTracker(this,this._config.onEditorDestroy),this._userManager&&(this._userManager.dispose(),this._userManager=null),this._releaseEventBindings(),this._isTracking=!1,this._tracker=null,this._editor=null,this._config=null}catch(e){l.logger.error("while destroying editor",e)}finally{this._editor=null}},Object.defineProperty(x.prototype,"version",{get:function(){return"1.4.25"},enumerable:!1,configurable:!0}),x.prototype.onTrackerChange=function(e){var t=this._isTracking&&this._tracker&&this._tracker.hasChanges();this._setCommandsState([l.Commands.ACCEPT_ALL,l.Commands.REJECT_ALL],t),setTimeout(this.onSelectionChanged.bind(this),0),e&&this._triggerChange()},x.prototype.onTrackerTextChange=function(e){this.fireEditorEvent("change"),this.fireEditorEvent("saveSnapshot")},x.prototype.logEditorEvents=function(e){l.utils.pluginUtils.logEditorEvents(this,this._editor,null,e)},x.prototype.getUserInfo=function(){return this._tracker?this._tracker.getCurrentUser():{name:"",id:""}},x.prototype.revealEditorNode=function(e){"function"==typeof(e&&e.scrollIntoView)?e.scrollIntoView():l.utils.scrollToElement(p(e))},x.prototype.countChanges=function(e){return this._tracker&&this._tracker.countChanges(e)||0},Object.defineProperty(x.prototype,"currentSessionId",{get:function(){return this._sessionId},enumerable:!1,configurable:!0}),x.prototype.startNewSession=function(){this._sessionId=l.utils.strings.randomString(8)},x.prototype._initUI=function(i,e){var a=this,t=this._config,n=t.commands||[l.Commands.TOGGLE_TRACKING,l.Commands.TOGGLE_SHOW,l.Commands.ACCEPT_ALL,l.Commands.REJECT_ALL,l.Commands.ACCEPT_ONE,l.Commands.REJECT_ONE],r=[{cmd:l.Commands.TOGGLE_TRACKING,callback:this._onToggleTracking,tooltip:"TOGGLE_TRACKING",trackingOnly:!1},{cmd:l.Commands.TOGGLE_SHOW,callback:this._onToggleShow,tooltip:"TOGGLE_SHOW"},{cmd:l.Commands.ACCEPT_ALL,callback:this._onAcceptAll,tooltip:"ACCEPT_ALL"},{cmd:l.Commands.REJECT_ALL,callback:this._onRejectAll,tooltip:"REJECT_ALL"},{cmd:l.Commands.ACCEPT_ONE,callback:this._onAcceptOne,contextAction:this.acceptChange,tooltip:"ACCEPT_ONE"},{cmd:l.Commands.REJECT_ONE,callback:this._onRejectOne,contextAction:this.rejectChange,tooltip:"REJECT_ONE"}];r.forEach(function(e){e.tooltip=a.getLocalizedString(e.tooltip),e.iconName=e.cmd.replace(/[^a-z]/g,"")});var o,s=t.commands||[l.Commands.TOGGLE_TRACKING,l.Commands.TOGGLE_SHOW,l.Commands.ACCEPT_ALL,l.Commands.REJECT_ALL,l.Commands.ACCEPT_ONE,l.Commands.REJECT_ONE];g(i,"flite",s),50<=m?(o=function(n,e){var t=i;if(t.addCommand(n.cmd,n.callback,a),e){if(n.iconName){var r=v[n.cmd];r?t.ui.registry.addIcon(n.iconName,r):l.logger.warn("Missing svg icon data for command "+n.cmd)}var o={tooltip:n.tooltip,disabled:!1,icon:n.iconName,onAction:function(){a._editor.execCommand(n.cmd,null)},onSetup:function(e){var t=a._buttons[n.cmd];t.button=e,a._setCommandsState(n.cmd,t.enabled,t.active)}};t.ui.registry.addToggleButton(n.cmd,o),!1!==n.trackingOnly&&a._fliteCommandNames.push(n.cmd)}},this._disableButton=function(e,t){e.setEnabled?e.setEnabled(!t):e.setDisabled(t)},this._activateButton=function(e,t){e&&e.setActive&&e.setActive(t)}):(o=function(n,e){if(i.addCommand(n.cmd,n.callback,a),e){var t={tooltip:n.tooltip,image:l.utils.joinPath(a.path,"icons",n.cmd+".png"),cmd:n.cmd,onPostRender:function(e){var t=a._buttons[n.cmd];t.button=e.control,a._setCommandsState(n.cmd,t.enabled,t.active)}};i.addButton(n.cmd,t),!1!==n.trackingOnly&&a._fliteCommandNames.push(n.cmd)}},this._disableButton=function(e,t){e.disabled(t)},this._activateButton=function(e,t){e&&e.active&&e.active(t)}),r.forEach(function(e){o(e,0<=n.indexOf(e.cmd))}),this._setupContextMenu(i,r)},x.prototype._uninit=function(){},x.prototype._onToggleTracking=function(e){return this.toggleTracking(),!0},x.prototype._onToggleShow=function(e){return this.toggleShow(),!0},x.prototype._onRejectAll=function(e){return this.rejectAll(null),!0},x.prototype._onAcceptAll=function(e){return this.acceptAll(null),!0},x.prototype._onAcceptOne=function(e){var t=this._tracker.currentChangeNode(this._getSelectedNode());return this.acceptChange(t)},x.prototype._onRejectOne=function(e){var t=this._tracker.currentChangeNode(this._getSelectedNode());return this.rejectChange(t)},x.prototype._onToggleTooltips=function(){},x.prototype.acceptChange=function(e,t){return l.flitePluginUtils.acceptChangedNode(e,this,t)},x.prototype.rejectChange=function(e,t){return l.flitePluginUtils.rejectChangedNode(e,this,t)},x.prototype._getSelectedNode=function(e){void 0===e&&(e=!1);var t,n,r=e?(t=this._editor,(n=t.selection.getRng(!0))&&n.commonAncestorContainer):this._tracker&&this._tracker.getSelectedNode();if(r)return r;var o=this._editor.selection;return o?o&&(o.isCollapsed()?o.getStart():o.getNode()):null},x.prototype._setCommandsState=function(e,t,n){void 0===n&&(n=void 0),"string"==typeof e&&(e=[e]);for(var r,o="boolean"==typeof n,i=e.length-1;0<=i;--i){var a=this._buttons[e[i]];a.enabled=t,a.active=n,(r=a.button)&&(this._disableButton(r,!t),o&&this._activateButton(r,n))}},x.prototype.onSelectionChanged=function(e){var r=this;!this._isProcessingSelection&&this._editor&&(e&&this._isMouseDownInEditor||setTimeout(function(){try{if(!r._editor)return;r._isProcessingSelection=!0;var e=r._getSelectedNode(!0),t=r._isTracking&&r._tracker&&r._tracker.hasChanges(),n=t&&r._tracker.isInsideChange(e);r._setCommandsState([l.Commands.ACCEPT_ONE,l.Commands.REJECT_ONE],n&&r._canAcceptReject),r._setCommandsState([l.Commands.ACCEPT_ALL,l.Commands.REJECT_ALL],t&&r._canAcceptReject)}catch(e){l.logger.error(e)}finally{r._isProcessingSelection=!1}},0))},x.prototype._onSwitchMode=function(){this._updateTrackingState(!1)},x.prototype._triggerChange=function(){this._timeoutClient.startTimer(r.TRACKER_CHANGE)},x.prototype._notifyChange=function(){this._changeTimeout=null,this.fireEditorEvent(l.Events.CHANGE,{flite:this})},Object.defineProperty(x.prototype,"editorMode",{get:function(){return this._editor?this._editor.readonly?"readonly":"design":""},enumerable:!1,configurable:!0}),x.prototype._updateTrackingState=function(e){var r=this;if(this._tracker){var t=this.editorMode,n=this._isTracking&&"design"===t;n===this._trackingState&&!e||(this._trackingState=n,this._tracker.toggleChangeTracking(n,this.getBody()),this._releaseEventBindings(),this._tracker.unlistenToEvents(),n&&(this._addEventBinding("MouseDown",function(){r._isMouseDownInEditor=!0}),this._addEventBinding("MouseUp",function(){r._isMouseDownInEditor=!1}),this._addEventBinding("Blur",function(){r._isMouseDownInEditor=!1}),this._addEventBinding("PreProcess",this._onPreProcessForSave),this._addEventBinding("keydown",function(e){return e&&r._tracker&&!r.spellingStack?r._tracker.handleEvent(e):(l.logger.debug("plugin won't handle keydown event"),!0)},!1,!0),this._monitorEditorDialogs(),this._addEventBinding("ListMutation",function(e){var t=r._tracker&&r._tracker.getMutationContext(),n=t&&"none"!==t;r._tracker&&!n&&r._tracker.ignoreNextMutation("list mutation")}),this._addEventBinding("click",this.onSelectionChanged),this._addEventBinding("SpellcheckEnd",function(){r._tracker.ignoreNextMutation("spell check end")}),this._addEventBinding("SpellcheckStart",function(){r._tracker.ignoreNextMutation("spell check start")}),this._addEventBinding("selectionChange",this.onSelectionChanged),this._addEventBinding("keypress",this._onKeyPress),this._addEventBinding("ExecCommand",this._onAfterCommand),this._addEventBinding("BeforeExecCommand",this._onBeforeCommand),this._addEventBinding("BeforeSetContent",this._onBeforeSetContent),this._addEventBinding("SetContent",this._onSetContent),this._addEventBinding("PastePreProcess",this._onPreProcessPaste),this._addEventBinding("NodeChange",this.onSelectionChanged),this._bindFormatting(this._editor)))}},x.prototype.toggleTracking=function(e,t){return l.flitePluginUtils.toggleTracking(this,e,t)},x.prototype.processSetIsTracking=function(e,t){this._isTracking=e,this._isProcessingSelection=!1,this._setCommandsState(this._fliteCommandNames,e),this._setCommandsState(l.Commands.TOGGLE_TRACKING,!0,e),this._updateTrackingState(Boolean(t)),this.onTrackerChange(null)},x.prototype.toggleShow=function(e,t){var n=void 0===e?!this._isVisible:Boolean(e);this._isVisible=n,l.$(this.getBody()).toggleClass("FLITE-Tracking",n),this._setCommandsState(l.Commands.TOGGLE_SHOW,this._isTracking,this._isVisible&&this._isTracking),this._tracker&&this._tracker.setShowChanges(n&&this._isTracking),!1!==t&&this.fireEditorEvent(l.Events.SHOW_HIDE,{show:n,flite:this})},x.prototype.acceptAll=function(e){this._tracker.acceptAll(e),this.cleanupAfterAcceptReject(),this.fireEditorEvent(l.Events.ACCEPT,{flite:this,options:e})},x.prototype.rejectAll=function(e){this._tracker.rejectAll(e),this.cleanupAfterAcceptReject(),this.fireEditorEvent(l.Events.REJECT,{flite:this,options:e})},x.prototype.setUserInfo=function(e){return l.flitePluginUtils.setUserInfo(this,e)},x.prototype.addUsers=function(e){return l.flitePluginUtils.addUsers(this,e)},x.prototype.fireEditorEvent=function(e,t){return void 0===t&&(t=null),this._editor&&this._editor.fire(e,t)},x.prototype.cleanupAfterAcceptReject=function(){var e=p(this.getBody()),t=this._tracker.setIgnoreMutations(!0),n=e.find("span."+l.flitePluginUtils.insertClass+":empty,span."+l.flitePluginUtils.deleteClass+":empty");try{if(n.remove(),0===e.html().length){var r=this._getDocument().createElement("BR");e.prepend(r),this._editor.selection.select(r),this._editor.selection.collapse()}}catch(e){l.logger.error("cleanupAfterAcceptReject:",e)}finally{this._tracker.setIgnoreMutations(t)}50<=m&&this._tracker.ignoreNextMutation("TMCE5 safeguard after accept/reject"),this.onSelectionChanged()},x.prototype._bindFormatting=function(n){var r=this;if(m<49){var o=n.formatter.apply;n.formatter.apply=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r._tracker&&r._tracker.ignoreNextMutation("apply formatting"),o.apply(n.formatter,e)}}},x.prototype._onPreProcessForSave=function(e){var t=e&&e.node;this._config.preserveWhiteSpace&&t&&this._tracker&&this._tracker.preserveWhiteSpace(t)},x.prototype._setPluginFeatures=function(e){if(!(m<60)){var t=e;if(t.schema){var n="span[class|id|title|"+Object.keys(l.flitePluginUtils.trackerAttributes).join("|")+"]";t.schema.addValidElements(n)}}},x.prototype.isCutKeystroke=function(e){return!1},x.prototype._onKeyPress=function(e){this.isCutKeystroke(e.keyCode)&&e.stopPropagation()},x.prototype._hideTooltip=function(e){l.flitePluginUtils.hideTooltips(e||this._getDocument())},Object.defineProperty(x.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"timeoutClient",{get:function(){return this._timeoutClient},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"tracker",{get:function(){return this._tracker},enumerable:!1,configurable:!0}),x.prototype.getBody=function(){return this._editor.getBody()},x.prototype._getDocument=function(){return this.getBody().ownerDocument},Object.defineProperty(x.prototype,"users",{get:function(){return this._userManager},enumerable:!1,configurable:!0}),x.prototype.getWindow=function(e){if(!e)return null;if(e.contentWindow)return e.contentWindow.frameElement,e.contentWindow;var t=p(window.document).find("iframe#"+this._editor.id+"_ifr")[0];return t&&t.contentWindow},x.prototype._onReady=function(){var e=this._config.maxDocumentReadyWaitSeconds&&this._timeoutClient.elapsed(r.ON_READY)>=1e3*this._config.maxDocumentReadyWaitSeconds;this._domLoaded&&l.rangy.isInitialized(e)?(this._timeoutClient.stopTimer(r.ON_READY),this._afterReady()):this._timeoutClient.startTimer(r.ON_READY)},x.prototype.getHostRange=function(){return this._editor.selection.getRng(!0)},x.prototype.setHostRange=function(e){l.logger.debug("setting host range",e);var t=this._editor&&this._editor.selection;t&&t.setRng(e)},x.prototype.beforeEdit=function(){this._editor.undoManager.add()},x.prototype._afterReady=function(){var e=this._editor,t=this._getDocument(),n=window.document,r=this.getBody();if(new l.utils.CSSLoader(t).loadCSS(this._config.styleUrls,this.path),this._spellTrigger=p(n[".hoe a>d.CKEDITOR".split("").reduce(function(e,t,n){return n<8&&n%2&&(e+=t),e},"")]).find("Mm eot anchor".split("").reduce(function(e,t,n){return n<8&&n%2&&(e+=t),e},"")),this._tracker&&(!l.browser.msie&&this._tracker.isOwnRoot(r)||(this._tracker.toggleChangeTracking(!1,null),p(this._tracker).off(),this._tracker.dispose(),this._tracker=null)),l.trackerUtils.markFLITEBody(r),!this._tracker){var o={element:r,keyboardMap:this._spellTrigger&&this._spellTrigger.parent(),timezoneOffset:this._config.timezoneOffset||0,mergeBlocks:!1,handleCut:!1,changeGroupTime:1e3,deletableSelectors:this._config.deletableSelectors,opaqueSelectors:this._config.opaqueSelectors,backgroundColors:{delete:l.utils.strings.toStringArray(this._config.backgroundColors.delete),insert:l.utils.strings.toStringArray(this._config.backgroundColors.insert)},changeTypes:{insertType:{className:l.flitePluginUtils.insertClass,action:"Inserted"},deleteType:{className:l.flitePluginUtils.deleteClass,action:"Deleted"}},attributes:l.flitePluginUtils.trackerAttributes,classes:void 0,nodeClassifier:(new l.NodeClassifier).addPatterns(l.NodeClassifier.NODE_AND_CONTENT,b).addPatterns(l.NodeClassifier.IGNORE,_).addPatterns(l.NodeClassifier.CONTENT_ONLY,y).addPatterns(l.NodeClassifier.IGNORE,this._config.ignoreSelectors),stylePrefix:C,_changeData:void 0};l.flitePluginUtils.updateTrackerOptions(o,this._config),this._tracker=new l.ChangeTracker(this,o)}try{!this._userManager.getCurrentUser(!1)&&this._config.user&&this.setUserInfo(this._config.user),this._tracker.toggleChangeTracking(!0,r),this.toggleTracking(this._isTracking,!1),this.toggleShow(this._isVisible,!1),this.startNewSession(),e.fire(l.Events.INIT,{flite:this}),this.onSelectionChanged(),this.onTrackerChange(this._tracker)}catch(e){l.logger.error("FLITE plugin init:",e)}},x.prototype._onPreProcessPaste=function(e){var t=this._getDocument(),n=t&&t.createElement("div");return n&&(n.innerHTML=e.content,this._tracker.getCleanDOM(n,{removeDeleted:this._config.removeDeleteOnPaste}),e.content=n.innerHTML),e.content},x.prototype._onDomLoaded=function(){this._domLoaded=!0;var e=this._getDocument();if(this._compositionTracker.attach(e.body),this._tooltipGuard.attach(e),this._hideTooltip(null),this._onReady(),50<=m){var t=this._editor.getContainer();t&&t.ownerDocument&&new l.utils.CSSLoader(t.ownerDocument).loadCSS(["css/editor.css"],this.path)}},x.prototype._setupContextMenu5=function(e,s){var l=this;e.ui.registry.addContextMenu("flite",{update:function(t){if(!l._trackingState)return"";var n=l._config.contextMenu&&l._config.contextMenu;if(!n||!n.length)return"";for(var r=[],o=l._tracker.isInsideChange(t),e=function(e){0<=n.indexOf(e.cmd)&&(o||!1===e.trackingOnly)&&r.push({text:e.name||e.tooltip,icon:e.iconName,onAction:function(){(e.contextAction||e.callback).call(l,t)}})},i=0,a=s;i<a.length;i++)e(a[i]);return r}})},x.prototype.getNewLineNodeName=function(){var e=String(this._editor&&this._editor.getParam("forced_root_block","P")||"P").toUpperCase();return x.NEWLINE_MAP[e]||e},x.prototype._onAfterCommand=function(e){if(this._editor&&this._tracker&&this._trackingState){var t=(e.command||"").toLowerCase();"undo"!==t&&"redo"!==t||this._tracker.reload(null)}},x.prototype._onBeforeSetContent=function(e){if(!this._isOverridingCommand&&this._trackingState&&this._config.trackApiInsert&&!e.paste){if(e.selection||e.paste)return this._onSelectionSetContent(e);"html"===e.format&&e.content&&(e.content=this._processContent(e.content)),this._setPluginFeatures(e.target)}},x.prototype._processContent=function(e){var t=this._getDocument().createElement("div"),n=p(t);n.html(e);try{l.flitePluginUtils.replaceInsDel(this,t,"ins[data-cid]",!0),l.flitePluginUtils.replaceInsDel(this,t,"del[data-cid]",!1)}catch(e){l.logger.error("processContent:",e)}return n.html()},x.prototype._onSelectionSetContent=function(e){if(!(this._tracker.getMutationContext()in d)){var t=e.content;if(t)try{var n=p(t);1===n.length?this._tracker.setMutationContext("insert-element",{element:n[0].nodeName},1):this._tracker.ignoreNextMutation("set content")}catch(e){this._tracker.ignoreNextMutation("set content")}}},x.prototype._onSetContent=function(e){if(this._hideTooltip(null),this._tracker&&this._trackingState){if(e.selection)return this._onBeforeSetContent(e);var t=this.getBody();this._tracker.reload(l.trackerUtils.isFLITEBody(t)?null:t)}},x.prototype._onBeforeCommand=function(e){if(this._editor&&this._tracker&&this._trackingState){var t=(e.command||"").toLowerCase();if("delete"===t)"enter"!==this._tracker.getMutationContext()&&(this._tracker.prepareToCut(),l.flitePluginUtils.isClipboardAPIAvailable()?(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()):this._tracker.setMutationContext("delete",null,1));else if(!(t in a))if(t in c){var n=this._getSelectedNode(),r=l.utils.dom.matchesSelector(n,"li,ol,ul,li *,ol *, ul *");this._tracker.setMutationContext(r?"remove-list":"insert-list",null,1)}else if(t in i)this._processInsert(e);else{var o=s[t];o&&this._tracker.setMutationContext(o,null,1)}}},x.prototype._processInsert=function(e){if(e.value&&!this.spellingStack&&!this._isOverridingCommand&&this._shouldProcessInsert()){this._isOverridingCommand=!0;try{var t="string"==typeof e.value?e.value:e.value.content;if("string"==typeof t){e.preventDefault(),e.stopImmediatePropagation(),this._tracker.setMutationContext("paste",null,1);var n=this._processInsertedHtml(t);e.target.insertContent(n)}}catch(e){l.logger.error("while inserting content",e)}finally{this._isOverridingCommand=!1}}},x.prototype._shouldProcessInsert=function(){if(window.document.querySelector(".tox-autocompleter"))return!1;var e=this.getBody(),t=e&&e.ownerDocument;return Boolean(t&&!t.querySelector(".tox-autocompleter"))},x.prototype._prepareNodesForPaste=function(e){if(!(this._tracker&&this._isTracking&&e&&e.length))return null;var t=null;return e.length&&(e=k(e),t=this._tracker.processInsertedNodes(e,{deleteSelection:!0,markup:!0})),t},x.prototype._processInsertedHtml=function(t){var e=this._getDocument().createElement("div");e.innerHTML=t;var n=this._tracker.getCleanDOM(e,{removeDeleted:this._config.removeDeleteOnPaste});if(!n.innerHTML)return t;l.utils.dom.normalizeNode(n);var r=l.$.makeArray(n.childNodes),o=this._prepareNodesForPaste(r);if(o&&o.length)try{return o.map(function(e){return 3===e.nodeType?e.data:e.outerHTML}).join("")}catch(e){return t}},x.prototype.updateLastUndo=function(){},x.prototype._hasChanges=function(){return this._isTracking&&this._tracker&&this._tracker.hasChanges()},x.prototype._addEventBinding=function(e,t,n,r){void 0===n&&(n=!0);var o=n?t.bind(this):t;this._removeBindings.push({event:e,context:this._editor.on(e,o,r),callback:o})},x.prototype._releaseEventBindings=function(){var e,t=this._removeBindings.filter(Boolean);this._removeBindings=[];for(var n=t.length-1;0<=n;--n)try{(e=t[n])&&e.context&&e.context.off(e.event,e.callback)}catch(e){}},x.prototype.getLocalizedString=function(e){if(!e)return"";var t=0===e.indexOf("flite_")?e:"flite_"+e,n=this._editor&&this._editor.editorManager.i18n.translate(t);return n&&n!==t||(l.logger.debug("FLITE: key "+e+" not found"),e=e.replace(/^flite_/,""),n=l.flitePluginUtils.getEnglishString(e)||e.replace(/_+/g," ").toLowerCase()),n},x.prototype._setupContextMenu=function(e,t){50<=m?this._setupContextMenu5(e,t):this._addEventBinding("contextmenu",function(e,t){l.logger.debug("context menu")},!1)},x.prototype._initTooltips=function(){var e=this;this._canShowCallback=function(){return e._tooltipGuard.canShowTooltip&&e._trackingState&&e._isVisible},this._tooltipGuard=new l.flitePluginUtils.TooltipGuard(750)},x.prototype._shouldIgnoreNode=function(e){if(e&&1===e.nodeType){var t=e.className||"";if(0<=t.indexOf("mce-match-marker"))return u.IGNORE_ALL;if(0<=t.indexOf("mce-annotation"))return u.IGNORE_ALL}return u.OK},x.prototype.shouldIgnoreDeletedNode=function(e){return this._testNonEditable(e,this._editor.getElement())},x.prototype.shouldIgnoreMutations=function(e){return u.OK},x.prototype.getCaretSelectors=function(){return{ignoreSelector:".mce-match-marker,.mce-annotation,[data-mce-type='bookmark'],.mce-resizehandle,span#__caret,\n\t\t\t\t:not(BR,.mce-spellchecker-word,.mce-spellchecker-annotation)[data-mce-bogus],.tippy-popper,.tippy-tooltip,.tippy-content,.tippy-arrow",elementSelector:"BR,IMG"}},x.prototype._shouldIgnoreMutationCollection=function(e,t){for(var n,r,o,i,a={},s=0,l=e.length;s<l&&(!r||!o);++s)(i=1===(n=e[s]).addedNodes.length&&n.addedNodes[0])&&1===i.nodeType&&"bookmark"===i.getAttribute("data-mce-type")&&(r=i,a[s]=1),(i=1===n.removedNodes.length&&n.removedNodes[0])&&1===i.nodeType&&"bookmark"===i.getAttribute("data-mce-type")&&(o=i,a[s]=1);if(!r||!o)return t;var c=0;for(s=0,l=e.length;s<l;++s)if(!(s in a)&&(n=e[s]).nextSibling!==r&&n.nextSibling!==o){if(n.removedNodes.length)return t;if((i=n.addedNodes[0])&&3!==i.nodeType)return t;c++}return c<2?u.IGNORE_ALL:t},x.prototype.shouldIgnoreMutation=function(e,t){var n=e[t];if(!n)return u.IGNORE;if(this.spellingStack)return u.IGNORE_ALL;for(var r,o=n.addedNodes,i=0;o&&i<o.length;++i)if((r=this._shouldIgnoreNode(o[i]))===u.IGNORE&&(r=this._shouldIgnoreMutationCollection(e,r)),r!==u.OK)return r;for(var a=n.removedNodes,s=0;a&&s<a.length;++s)if((r=this._shouldIgnoreNode(a[s]))===u.IGNORE&&(r=this._shouldIgnoreMutationCollection(e,r)),r!==u.OK)return r;return u.OK},Object.defineProperty(x.prototype,"spellingStack",{get:function(){return void 0!==this._spellingStack?this._spellingStack:this._spellingStack=l.flitePluginUtils.updateSpellingStack(this._spellTrigger)},enumerable:!1,configurable:!0}),x.prototype.onTrackingNodeCreated=function(e){l.flitePluginUtils.addTooltipToNode({node:e,localize:this.getLocalizedString.bind(this),change:this._tracker&&this._tracker.getChangeForNode(e),config:this._config.tooltips,canShow:this._canShowCallback,offset:function(){return null},timeOffset:this._config.timezoneOffset})},x.prototype.onTrackingNodeRemoved=function(e){l.flitePluginUtils.removeTooltipFromNode(e)},x.prototype._monitorEditorDialogs=function(){var t=this,e=null,n=0;this._addEventBinding("CloseWindow",function(){n&&0==--n&&(t._tracker.toggleListenToCharacterChanges(0,!0),null!==e&&(t._tracker.setIgnoreMutations(e),e=null))}),this._addEventBinding("OpenWindow",function(e){n++,t._tracker&&t._trackingState&&function(e){var t=e&&"function"==typeof e.getData&&e.getData();return t&&t.hasOwnProperty("findtext")}(e&&e.dialog)&&t._tracker.toggleListenToCharacterChanges(-1,!0)})},x.prototype.preserveWhiteSpace=function(){return!1!==this._config.preserveWhiteSpace},x.prototype.isBogusInsertPosition=function(e){return e&&"SPAN"===e.nodeName&&null!==e.getAttribute("data-mce-bogus")},x.prototype.getRootElement=function(){return this.getBody()},x.prototype.isPassThroughNode=function(e){return this._isPassThroughNode||(this._isPassThroughNode=l.flitePluginUtils.createSpellCheckerTest(this,".mce-spellcheck,.mce-spellchecker-word")),this._isPassThroughNode(e)},x.prototype.getHostNativeRange=function(){return this.getHostRange()},x.prototype.beforeDelete=function(e){this._hideTooltip(e)},x.prototype.beforeInsert=function(e){if(this._hideTooltip(null),!e.collapsed)return e;var t=l.domUtils.getNode(e.commonAncestorContainer,"[data-mce-type='format-caret']");if(!t)return e;var n=p(t);return t===e.commonAncestorContainer||n.is(":empty")?(e.setStart(e.commonAncestorContainer.parentNode,l.utils.dom.getNodeIndex(e.commonAncestorContainer)),e.collapse(!0)):n.replaceWith(n.contents()),e},x.prototype.getIMECompositionState=function(){return this._compositionTracker.isComposing?2:0},x.NEWLINE_MAP={FALSE:"BR",TRUE:"P"},x);function x(e,t){var n=this;this.path=t,this._domLoaded=!1,this._editor=null,this._removeBindings=[],this._isTracking=!0,this._isVisible=!0,this._spellingStack=void 0,this._spellTrigger=null,this._sessionId=null,this._isProcessingSelection=!1,this._trackingState=null,this._tracker=null,this._canAcceptReject=!0,this._fliteCommandNames=[],this._buttons={},this.savedEditorFireMethod=null,this._isMouseDownInEditor=!1,this._editor=e,this._compositionTracker=l.trackerUtils.createCompositionStateTracker(),this._timeoutClient=new l.TimeoutClient,this._timeoutClient.createTimer(r.ON_READY,{callback:this._onReady.bind(this),timeoutMSecs:100,autoDispose:!1,repeatCount:9999,maxTimeSecs:7}),this._timeoutClient.createTimer(r.TRACKER_CHANGE,{callback:function(){return n._notifyChange()},timeoutMSecs:1,autoDispose:!1}),Object.keys(l.Commands).forEach(function(e){var t=l.Commands[e];n._buttons[t]={button:null,command:t,active:void 0,enabled:!1}})}S._guards={},S.nextId=0;function S(t,n,r){var o=this;this.callback=r,this.id=String(S.nextId++),S._guards[this.id]=this;var i=function(e){n&&n!==e.command||(delete S._guards[o.id],t.off("ExecCommand",i),a&&(clearTimeout(a),a=null),r())};t.on("ExecCommand",i);var a=setTimeout(function(){a=null,t.off("ExecCommand",i),delete S._guards[o.id]},1)}}(window.FLITE)}()}]);